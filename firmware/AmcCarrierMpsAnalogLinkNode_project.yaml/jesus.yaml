#schemaversion 3.0.0

AxiVersion: &AxiVersion 
  class: MMIODev
  configPrio: 1
  description: AXI-Lite Version Module
  size: 0x1000
  children:
    #########################################################
    FpgaVersion:
      at:
        offset: 0x000 
      class: IntField
      mode: RO
      description: FPGA Firmware Version Number 
    #########################################################
    ScratchPad:
      at:
        offset: 0x004
      class: IntField
      mode: RW
      description: Register to test reads and writes
    #########################################################
    UpTimeCnt:
      at:
        offset: 0x008
      class: IntField
      mode: RO
      description: Number of seconds since last reset
    #########################################################
    FpgaReloadHalt:
      at:
        offset: 0x100
      class: IntField
      mode: RW
      sizeBits: 1
      description: Used to halt automatic reloads via AxiVersion
    #########################################################
    FpgaReload:
      at:
        offset: 0x104
      class: IntField
      mode: RW
      sizeBits: 1
      description: Optional Reload the FPGA from the attached PROM
    #########################################################
    FpgaReloadAddress:
      at:
        offset: 0x108
      class: IntField
      mode: RW
      description: Reload start address
    #########################################################
    MasterReset:
      at:
        offset: 0x10C
      class: IntField
      mode: WO
      sizeBits: 1
      description: Optional User Reset 
    #########################################################
    FdSerial:
      at:
        offset: 0x300
      class: IntField
      sizeBits: 64
      mode: RO
      description: Board ID value read from DS2411 chip
    #########################################################
    UserConstants:
      at:
        offset: 0x400
        nelms: 64
      class: IntField
      mode: RO
      description: Optional user input values 
    #########################################################
    DeviceId:
      at:
        offset: 0x500
      class: IntField
      sizeBits: 32
      mode: RO
      description: Device Identification  (configued by generic)      
    #########################################################
    GitHash:
      at:
        offset: 0x600
        nelms: 20
      class: IntField
      sizeBits: 8
      mode: RO
      configBase: 16
      description: GIT SHA-1 Hash       
    #########################################################
    DeviceDna:
      at:
        offset: 0x700
      class: IntField
      sizeBits: 128
      mode: RO
      description: Xilinx Device DNA value burned into FPGA
    #########################################################
    BuildStamp:
      at:
        offset: 0x800
        nelms: 256
      class: IntField
      sizeBits: 8
      mode: RO
      description: Firmware Build String
      encoding: ASCII
    #########################################################

AxiEmpty: &AxiEmpty 
  name: AxiEmpty
  description: AxiEmpty Module as a placeholder for future module
  class: MMIODev
  configPrio: 1
  size: 0x0

AxiSysMonUltraScale: &AxiSysMonUltraScale
  name: AxiSysMonUltraScale
  class: MMIODev
  configPrio: 1
  description: AXI-Lite System Managment for Xilinx Ultra Scale (Refer to PG185 and
    UG580)
  size: 0x800
  children:
    #########################################################
    SR:
      at:
        offset: 0x04
      class: IntField
      name: SR
      mode: RO
      description: Status Register
    #########################################################
    AOSR:
      at:
        offset: 0x08
      class: IntField
      name: AOSR
      mode: RO
      description: Alarm Output Status Register
    #########################################################
    CONVSTR:
      at:
        offset: 0x0C
      class: IntField
      name: CONVSTR
      mode: WO
      description: CONVST Register
    #########################################################
    SYSMONRR:
      at:
        offset: 0x10
      class: IntField
      name: SYSMONRR
      mode: WO
      description: SYSMON Hard Macro Reset Register
    #########################################################
    GIER:
      at:
        offset: 0x5C
      class: IntField
      name: GIER
      mode: RW
      description: Global Interrupt Enable Register
    #########################################################
    IPISR:
      at:
        offset: 0x60
      class: IntField
      name: IPISR
      mode: RO
      description: IP Interrupt Status Register
    #########################################################
    IPIER:
      at:
        offset: 0x68
      class: IntField
      name: IPIER
      mode: RW
      description: IP Interrupt Enable Register
    #########################################################
    Temperature:
      at:
        offset: 0x400
      class: IntField
      name: Temperature
      mode: RO
      description: Temperature's ADC value
    #########################################################
    VCCINT:
      at:
        offset: 0x404
      class: IntField
      name: VCCINT
      mode: RO
      description: VCCINT's ADC value
    #########################################################
    VCCAUX:
      at:
        offset: 0x408
      class: IntField
      name: VCCAUX
      mode: RO
      description: VCCAUX's ADC value
    #########################################################
    VP_VN:
      at:
        offset: 0x40C
      class: IntField
      name: VP_VN
      mode: RO
      description: VP/VN's ADC value
    #########################################################
    VREFP:
      at:
        offset: 0x410
      class: IntField
      name: VREFP
      mode: RO
      description: VREFP's ADC value
    #########################################################
    VREFN:
      at:
        offset: 0x414
      class: IntField
      name: VREFN
      mode: RO
      description: VREFN's ADC value
    #########################################################
    VBRAM:
      at:
        offset: 0x418
      class: IntField
      name: VBRAM
      mode: RO
      description: VBRAM's ADC value
    #########################################################
    SupplyOffset:
      at:
        offset: 0x420
      class: IntField
      name: SupplyOffset
      mode: RO
      description: Supply Offset
    #########################################################
    ADCOffset:
      at:
        offset: 0x424
      class: IntField
      name: ADCOffset
      mode: RO
      description: ADC Offset
    #########################################################
    GainError:
      at:
        offset: 0x428
      class: IntField
      name: GainError
      mode: RO
      description: Gain Error
    #########################################################
    VAUXP_VAUXN:
      at:
        offset: 0x440
        nelms: 16
      class: IntField
      name: VAUXP_VAUXN
      mode: RO
      description: VAUXP_VAUXN's ADC values
    #########################################################
    MaxTemp:
      at:
        offset: 0x480
      class: IntField
      name: MaxTemp
      mode: RO
      description: maximum temperature measurement
    #########################################################
    MaxVCCINT:
      at:
        offset: 0x484
      class: IntField
      name: MaxVCCINT
      mode: RO
      description: maximum VCCINT measurement
    #########################################################
    MaxVCCAUX:
      at:
        offset: 0x488
      class: IntField
      name: MaxVCCAUX
      mode: RO
      description: maximum VCCAUX measurement
    #########################################################
    MaxVBRAM:
      at:
        offset: 0x48C
      class: IntField
      name: MaxVBRAM
      mode: RO
      description: maximum VBRAM measurement
    #########################################################
    MinTemp:
      at:
        offset: 0x490
      class: IntField
      name: MinTemp
      mode: RO
      description: minimum temperature measurement
    #########################################################
    MinVCCINT:
      at:
        offset: 0x494
      class: IntField
      name: MinVCCINT
      mode: RO
      description: minimum VCCINT measurement
    #########################################################
    MinVCCAUX:
      at:
        offset: 0x498
      class: IntField
      name: MinVCCAUX
      mode: RO
      description: minimum VCCAUX measurement
    #########################################################
    MinVBRAM:
      at:
        offset: 0x49C
      class: IntField
      name: MinVBRAM
      mode: RO
      description: minimum VBRAM measurement
    #########################################################
    I2C_Address:
      at:
        offset: 0x4E0
      class: IntField
      name: I2C_Address
      mode: RO
      description: I2C Address
    #########################################################
    FlagRegister:
      at:
        offset: 0x4FC
      class: IntField
      name: FlagRegister
      mode: RO
      description: Flag Register
    #########################################################
    ConfigurationRegister:
      at:
        offset: 0x500
        nelms: 4
      class: IntField
      name: ConfigurationRegister
      mode: RW
      description: Configuration Registers
    #########################################################
    SequenceRegister8:
      at:
        offset: 0x518
      class: IntField
      name: SequenceRegister8
      mode: RW
      description: Sequence Register 8
    #########################################################
    SequenceReg9:
      at:
        offset: 0x51C
      class: IntField
      name: SequenceReg9
      mode: RW
      description: Sequence Register 9
    #########################################################
    SequenceReg_7_0:
      at:
        offset: 0x520
        nelms: 8
      class: IntField
      name: SequenceReg_7_0
      mode: RW
      description: Sequence Register [7:0]
    #########################################################
    AlarmThresholdReg_8_0:
      at:
        offset: 0x540
        nelms: 9
      class: IntField
      name: AlarmThresholdReg_8_0
      mode: RW
      description: Alarm Threshold Register [8:0]
    #########################################################
    AlarmThresholdReg12:
      at:
        offset: 0x570
      class: IntField
      name: AlarmThresholdReg12
      mode: RW
      description: Alarm Threshold Register 12
    #########################################################
    AlarmThresholdReg16:
      at:
        offset: 0x580
      class: IntField
      name: AlarmThresholdReg16
      mode: RW
      description: Alarm Threshold Register 16
    #########################################################
    AlarmThresholdReg_25_16:
      at:
        offset: 0x580
        nelms: 8
      class: IntField
      name: AlarmThresholdReg_25_16
      mode: RW
      description: Alarm Threshold Register [25:16]
    #########################################################
    VUSER:
      at:
        offset: 0x600
        nelms: 4
      class: IntField
      name: VUSER
      mode: RO
      description: VUSER[4:0] supply monitor measurement
    #########################################################
    MAX_VUSER:
      at:
        offset: 0x680
        nelms: 4
      class: IntField
      name: MAX_VUSER
      mode: RO
      description: Maximum VUSER[4:0] supply monitor measurement
    #########################################################
    MIN_VUSER:
      at:
        offset: 0x6A0
        nelms: 4
      class: IntField
      name: MIN_VUSER
      mode: RO
      description: Minimum VUSER[4:0] supply monitor measurement
    #########################################################

AxiMicronN25Q: &AxiMicronN25Q 
  name: AxiMicronN25Q
  description: AXI-Lite Micron N25Q and Micron MT25Q PROM
  class: MMIODev
  configPrio: 1
  size: 0x400
  #########
  children:
  #########
    #########################################################
    Test:
      at:
        offset: 0x00 
      class: IntField
      mode: RW
      description: Scratch Pad tester register
    #########################################################
    Addr32BitMode:
      at:
        offset: 0x04 
      class: IntField
      sizeBits: 1      
      mode: RW
      description: Enable 32-bit PROM mode
    #########################################################
    Addr:
      at:
        offset: 0x08
      class: IntField
      mode: RW
      description: Address Register  
    #########################################################
    Cmd:
      at:
        offset: 0x0C
      class: IntField
      mode: RW
      description: Command Register        
    #########################################################
    Data:
      at:
        offset: 0x200
        nelms: 64      
      class: IntField
      mode: RW
      description: Data Register Array
    #########################################################

AxiSy56040: &AxiSy56040 
  description: AXI-Lite Microchip SY56040 and Microchip SY58040
  class: MMIODev
  configPrio: 1
  size: 0x10
  #########
  children:
  #########
    #########################################################
    OutputConfig:
      at:
        offset: 0x00
        nelms: 4      
        stride: 4       
      class: IntField
      sizeBits: 2
      mode: RW
      description: Output Configuration Register Array       
    #########################################################


MemoryArray: &MemoryArray
  name:   MemoryArray
  class: IntField
  mode:   RW
  description: Memory Array

GenericMemory: &GenericMemory 
  description: Generic Memory Module
  class: MMIODev
  configPrio: 1
  size: 0x4
  children:
    #########################################################
    MemoryArray:
      <<: *MemoryArray
      at:
        offset: 0x0
        nelms: 1
    #########################################################

AmcCarrierBsi: &AmcCarrierBsi
  name: AmcCarrierBsi
  description: AmcCarrier BSI Module
  class: MMIODev
  configPrio: 1
  size: 0x100
  children:
    #########################################################
    MAC:
      at:
        offset: 0x00
        nelms: 4
        stride: 8
      class: IntField
      name: MAC
      sizeBits: 48
      mode: RO
      description: MAC Address[3:0]
    #########################################################
    CrateId:
      at:
        offset: 0x80
      class: IntField
      name: CrateId
      mode: RO
      sizeBits: 16
      description: ATCA Crate ID
    #########################################################
    SlotNumber:
      at:
        offset: 0x84
      class: IntField
      name: SlotNumber
      mode: RO
      sizeBits: 4
      description: ATCA Logical Slot Number
    #########################################################
    BootStartAddress:
      at:
        offset: 0x88
      class: IntField
      name: BootStartAddress
      mode: RO
      description: Bootloader Start Address
    #########################################################
    VersionMinor:
      at:
        offset: 0x8C
      class: IntField
      name: VersionMinor
      mode: RO
      sizeBits: 8
      description: BSI's Minor Version Number
    #########################################################
    VersionMajor:
      at:
        offset: 0x91
      class: IntField
      name: VersionMajor
      mode: RO
      sizeBits: 8
      description: BSI's Major Version Number
    #########################################################
    EthUpTime:
      at:
        offset: 0x94
      class: IntField
      name: EthUpTime
      mode: RO
      sizeBits: 32
      description: ETH Uptime (units of sec)     
    #########################################################
    

TimingFrameRx: &TimingFrameRx
  class: MMIODev
  configPrio: 1
  description: Status of timing frame reception
  size: 0x10000
  children:
    #########################################################
    sofCount:
      at:
        offset: 0x0000
      class: IntField
      name: sofCount
      sizeBits: 32
      lsBit: 0
      mode: RO
      description: Start of frame count
    #########################################################
    eofCount:
      at:
        offset: 0x0004
      class: IntField
      name: eofCount
      sizeBits: 32
      lsBit: 0
      mode: RO
      description: End of frame count
    #########################################################
    FidCount:
      at:
        offset: 0x0008
      class: IntField
      name: FidCount
      sizeBits: 32
      lsBit: 0
      mode: RO
      description: Valid frame count
    #########################################################
    CrcErrCount:
      at:
        offset: 0x000C
      class: IntField
      name: CrcErrCount
      sizeBits: 32
      mode: RO
      description: CRC error count
    #########################################################
    RxClkCount:
      at:
        offset: 0x0010
      class: IntField
      name: RxClkCount
      sizeBits: 32
      mode: RO
      description: Recovered clock count div 16
    #########################################################
    RxRstCount:
      at:
        offset: 0x0014
      class: IntField
      name: RxRstCount
      sizeBits: 32
      mode: RO
      description: Receive link reset count
    #########################################################
    RxDecErrCount:
      at:
        offset: 0x0018
      class: IntField
      name: RxDecErrCount
      sizeBits: 32
      mode: RO
      description: Receive 8b/10b decode error count
    #########################################################
    RxDspErrCount:
      at:
        offset: 0x001C
      class: IntField
      name: RxDspErrCount
      sizeBits: 32
      mode: RO
      description: Receive disparity error count
    #########################################################
    RxCountReset:
      at:
        offset: 0x0020
      class: IntField
      name: RxCountReset
      sizeBits: 1
      lsBit: 0
      mode: RW
      description: Reset receive counters
    #########################################################
    RxLinkUp:
      at:
        offset: 0x0020
      class: IntField
      name: RxLinkUp
      sizeBits: 1
      lsBit: 1
      mode: RO
      description: Receive link status
    #########################################################
    RxPolarity:
      at:
        offset: 0x0020
      class: IntField
      name: RxPolarity
      sizeBits: 1
      lsBit: 2
      mode: RW
      description: Invert receive link polarity
    #########################################################
    RxReset:
      at:
        offset: 0x0020
      class: IntField
      name: RxReset
      sizeBits: 1
      lsBit: 3
      mode: RW
      description: Reset receive link
    #########################################################
    ClkSel:
      at:
        offset: 0x0020
      class: IntField
      name: ClkSel
      sizeBits: 1
      lsBit: 4
      mode: RW
      description: Select LCLS-I/LCLS-II Timing
    #########################################################
    RxDown:
      at:
        offset: 0x0020
      class: IntField
      name: RxDown
      sizeBits: 1
      lsBit: 5
      mode: RW
      description: Rx down latch status
    #########################################################
    BypassRst:
      at:
        offset: 0x0020
      class: IntField
      name: BypassRst
      sizeBits: 1
      lsBit: 6
      mode: RW
      description: Buffer bypass reset status
    #########################################################
    VersionErr:
      at:
        offset: 0x0021
      class: IntField
      name: VersionErr
      sizeBits: 1
      mode: RO
      description: Version check error
    #########################################################
    MsgNoDelay:
      at:
        offset: 0x0023
      class: IntField
      name: MsgNoDelay
      sizeBits: 1
      lsBit: 0
      mode: RW
      description: Transfer EDEF data promptly - 3 fiducials ahead of eventcode data
    #########################################################
    MsgDelay:
      at:
        offset: 0x0024
      class: IntField
      name: MsgDelay
      sizeBits: 20
      lsBit: 0
      mode: RW
      description: LCLS-II timing frame pipeline delay (186MHz clks)
    #########################################################
    MsgDelayRst:
      at:
        offset: 0x0027
      class: IntField
      name: MsgDelayRst
      sizeBits: 1
      lsBit: 7
      mode: RW
      description: Reset timing frame pipeline with new value
    #########################################################
    TxClkCount:
      at:
        offset: 0x0028
      class: IntField
      name: TxClkCount
      sizeBits: 32
      lsBit: 0
      mode: RO
      description: Transmit clock counter div 16
    #########################################################
    BypassDoneCount:
      at:
        offset: 0x002C
      class: IntField
      name: BypassDoneCount
      sizeBits: 16
      lsBit: 0
      mode: RO
      description: Buffer bypass done count
    #########################################################
    BypassResetCount:
      at:
        offset: 0x002E
      class: IntField
      name: BypassResetCount
      sizeBits: 16
      lsBit: 0
      mode: RO
      description: Buffer bypass reset count
    #########################################################
    FrameVersion:
      at:
        offset: 0x0030
      class: IntField
      name: FrameVersion
      sizeBits: 32
      mode: RO
      description: Received timing frame version
    #########################################################
    C_RxReset:
      class: SequenceCommand
      at:
        offset: 0x0
      description: Reset Rx Link
      sequence:
      - entry: RxReset
        value: 1
      - entry: usleep
        value: 1000
      - entry: RxReset
        value: 0 
    #########################################################
    ClearRxCounters:
      class: SequenceCommand
      at:
        offset: 0x0
      description: "Clear the Rx status counters."
      sequence:
      - entry: RxCountReset
        value: 1
      - entry: usleep
        value: 1000
      - entry: RxCountReset
        value: 0 
    #########################################################
    
TPGMiniCore: &TPGMiniCore
  class: MMIODev
  configPrio: 1
  description: Embedded timing pattern generator
  size: 0x10000
  metadata:
    NARRAYSBSA: &NARRAYSBSA 2
  children:
    #########################################################
    TxPolarity:
      at:
        offset: 0x0000
      class: IntField
      sizeBits: 1
      lsBit: 1
      mode: RW
      description: Invert transmit link polarity
    #########################################################
    TxLoopback:
      at:
        offset: 0x0000
      class: IntField
      sizeBits: 3
      lsBit: 2
      mode: RW
      description: Set transmit link loopback
    #########################################################
    TxInhibit:
      at:
        offset: 0x0000
      class: IntField
      sizeBits: 1
      lsBit: 5
      mode: RW
      description: Set transmit link inhibit
    #########################################################
    BaseControl:
      at:
        offset: 0x0004
      class: IntField
      sizeBits: 16
      lsBit: 0
      mode: RW
      description: Base rate trigger divisor
    #########################################################
    PulseIdWr:
      at:
        offset: 0x0058
      class: IntField
      sizeBits: 64
      mode: RW
      description: Pulse ID write
    #########################################################
    PulseIdRd:
      at:
        offset: 0x0008
      class: IntField
      sizeBits: 64
      mode: RO
      description: Pulse ID read
    #########################################################
    PulseIdSet:
      at:
        offset: 0x0070
      class: IntField
      sizeBits: 1
      lsBit: 0
      mode: RW
      description: Activates PulseId register value
    #########################################################
    TStampWr:
      at:
        offset: 0x0060
      class: IntField
      sizeBits: 64
      mode: RW
      description: Time stamp write
    #########################################################
    TStampRd:
      at:
        offset: 0x0010
      class: IntField
      sizeBits: 64
      mode: RO
      description: Time stamp read
    #########################################################
    TStampSet:
      at:
        offset: 0x0074
      class: IntField
      sizeBits: 1
      lsBit: 0
      mode: RW
      description: Activates Timestamp register value
    #########################################################
    FixedRateDiv:
      at:
        offset: 0x0018
        stride: 4
        nelms: 10
      class: IntField
      sizeBits: 32
      mode: RW
      description: Fixed rate marker divisors
    #########################################################
    RateReload:
      at:
        offset: 0x0040
      class: IntField
      sizeBits: 1
      mode: RW
      description: Loads cached fixed rate marker divisors
    #########################################################
    NBeamSeq:
      at:
        offset: 0x004C
      class: IntField
      sizeBits: 6
      lsBit: 0
      mode: RO
      description: Number of beam request engines
    #########################################################
    NControlSeq:
      at:
        offset: 0x004C
      class: IntField
      sizeBits: 8
      lsBit: 6
      mode: RO
      description: Number of control sequence engines
    #########################################################
    NArraysBsa:
      at:
        offset: 0x004D
      class: IntField
      sizeBits: 8
      lsBit: 6
      mode: RO
      description: Number of BSA arrays
    #########################################################
    SeqAddrLen:
      at:
        offset: 0x004E
      class: IntField
      sizeBits: 4
      lsBit: 6
      mode: RO
      description: Number of beam sequence engines
    #########################################################
    NAllowSeq:
      at:
        offset: 0x004F
      class: IntField
      sizeBits: 6
      lsBit: 2
      mode: RO
      description: Number of beam allow engines
    #########################################################
    TxReset:
      at:
        offset: 0x0068
      class: IntField
      sizeBits: 1
      lsBit: 0
      mode: RW
      description: Reset transmit link
    #########################################################
    CountIntervalReset:
      at:
        offset: 0x006C
      class: IntField
      sizeBits: 1
      lsBit: 0
      mode: RW
      description: Count Interval Reset
    #########################################################
    Lcls1BsaNumSamples:
      at:
        offset: 0x0078
      class: IntField
      sizeBits: 12
      mode: RW
      description: "Lcls-1 BSA Number of Samples - 1"
    #########################################################
    Lcls1BsaRate:
      at:
        offset: 0x0079
      class: IntField
      sizeBits:  3
      lsBit:     4
      mode: RW
      description: "Lcls-1 BSA Rate"
      enums:
        - { name: "120Hz", value: 0 }
        - { name: "60Hz",  value: 1 }
        - { name: "30Hz",  value: 2 }
        - { name: "10Hz",  value: 3 }
        - { name: "5Hz",   value: 4 }
        - { name: "1Hz",   value: 5 }
        - { name: "0.5Hz", value: 6 }
    #########################################################
    Lcls1BsaTimeSlot:
      at:
        offset: 0x0079
      class: IntField
      sizeBits: 3
      lsBit:    7
      mode: RW
      description: "Lcls-1 BSA Time Slot"
      enums:
        - { name: "TS1", value: 0 }
        - { name: "TS2", value: 1 }
        - { name: "TS3", value: 2 }
        - { name: "TS4", value: 3 }
        - { name: "TS5", value: 4 }
        - { name: "TS6", value: 5 }
    #########################################################
    Lcls1BsaSeverity:
      at:
        offset: 0x007a
      class: IntField
      sizeBits:  2
      lsBit:     2
      mode: RW
      description: "Lcls-1 BSA Rejection Severity Threshold"
      enums:
        - { name: "INVALID", value: 0 }
        - { name: "MAJOR",   value: 2 }
        - { name: "MINOR",   value: 1 }
    #########################################################
    Lcls1BsaEdefSlot:
      at:
        offset: 0x007a
      class: IntField
      sizeBits:  4
      lsBit:     4
      mode: RW
      description: "Lcls-1 BSA EDEF Slot Number"
    #########################################################
    Lcls1BsaNumAvgs:
      at:
        offset: 0x007b
      class: IntField
      sizeBits:  8
      lsBit:     0
      mode: RW
      description: "Lcls-1 BSA Number of Values to Average per Sample - 1"
    #########################################################
    Lcls1BsaStart:
      at:
        offset: 0x007c
      class: IntField
      sizeBits:  32
      lsBit:     0
      mode: RW
      description: "Lcls-1 BSA Started by Writing any Value Here"
    #########################################################
    BsaCompleteWr:
      at:
        offset: 0x0050
      class: IntField
      sizeBits: 64
      mode: RW
      description: BSA complete clear
    #########################################################
    BsaCompleteRd:
      at:
        offset: 0x0050
      class: IntField
      sizeBits: 64
      mode: RO
      description: BSA complete read
    #########################################################
    BsaActive:
      at:
        offset: 0x01FC
        stride: 1
        nelms: *NARRAYSBSA
      class: IntField
      sizeBits: 1
      lsBit: 0
      mode: RW
      description: Activates/Deactivates BSA EDEF
    #########################################################
    BsaRateSelMode:
      at:
        offset: 0x0200
        stride: 16
        nelms: *NARRAYSBSA
      class: IntField
      sizeBits: 2
      lsBit: 0
      mode: RW
      description: BSA def rate mode selection
      enums:
        - { name: "FixedRate", value: 0 }
        - { name: "ACRate"   , value: 1 }
        - { name: "Sequencer", value: 2 }
    #########################################################
    BsaFixedRate:
      at:
        offset: 0x0200
        stride: 16
        nelms: *NARRAYSBSA
      class: IntField
      sizeBits: 4
      lsBit: 2
      mode: RW
      description: BSA fixed rate mode selection
      enums:
        - { name: "  1 MHz", value: 0 }
        - { name: " 71 kHz", value: 1 }
        - { name: " 10 kHz", value: 2 }
        - { name: "  1 kHz", value: 3 }
        - { name: "100 Hz" , value: 4 }
        - { name: " 10 Hz" , value: 5 }
        - { name: "  1 Hz" , value: 6 }
    #########################################################
    BsaACRate:
      at:
        offset: 0x0200
        stride: 16
        nelms: *NARRAYSBSA
      class: IntField
      sizeBits: 3
      lsBit: 6
      mode: RW
      description: BSA AC rate mode selection
      enums:
        - { name: " 60 Hz", value: 0 }
        - { name: " 30 Hz", value: 1 }
        - { name: " 10 Hz", value: 2 }
        - { name: "  5 Hz", value: 3 }
        - { name: "  1 Hz", value: 4 }
        - { name: "1/2 Hz" ,value: 5 }
    #########################################################
    BsaACTSMask:
      at:
        offset: 0x0201
        stride: 16
        nelms: *NARRAYSBSA
      class: IntField
      sizeBits: 6
      lsBit: 1
      mode: RW
      description: BSA AC timeslot mask selection
    #########################################################
    BsaSequenceSelect:
      at:
        offset: 0x0201
        stride: 16
        nelms: *NARRAYSBSA
      class: IntField
      sizeBits: 5
      lsBit: 7
      mode: RW
      description: BSA sequencer selection
    #########################################################
    BsaSequenceBitSelect:
      at:
        offset: 0x0202
        stride: 16
        nelms: *NARRAYSBSA
      class: IntField
      sizeBits: 4
      lsBit: 4
      mode: RW
      description: BSA sequencer bit selection
    #########################################################
    BsaDestMode:
      at:
        offset: 0x0203
        stride: 16
        nelms: *NARRAYSBSA
      class: IntField
      sizeBits: 2
      lsBit: 0
      mode: RW
      description: BSA destination mode
      enums:
        - { name: "Dont_Care", value: 0 }
        - { name: "Inclusive", value: 1 }
        - { name: "Exclusive", value: 2 }
    #########################################################
    BsaDestInclusiveMask:
      at:
        offset: 0x0204
        stride: 16
        nelms: *NARRAYSBSA
      class: IntField
      sizeBits: 16
      lsBit: 0
      mode: RW
      description: BSA inclusive destination mask
    #########################################################
    BsaDestExclusiveMask:
      at:
        offset: 0x0206
        stride: 16
        nelms: *NARRAYSBSA
      class: IntField
      sizeBits: 16
      lsBit: 0
      mode: RW
      description: BSA exclusive destination mask
    #########################################################
    BsaNtoAvg:
      at:
        offset: 0x0208
        stride: 16
        nelms: *NARRAYSBSA
      class: IntField
      sizeBits: 13
      lsBit: 0
      mode: RW
      description: BSA def num acquisitions to average
    #########################################################
    BsaAvgToWr:
      at:
        offset: 0x020A
        stride: 16
        nelms: *NARRAYSBSA
      class: IntField
      sizeBits: 16
      lsBit: 0
      mode: RW
      description: BSA def num averages to record
    #########################################################
    BsaMaxSeverity:
      at:
        offset: 0x0209
        stride: 16
        nelms: *NARRAYSBSA
      class: IntField
      sizeBits: 2
      lsBit: 6
      mode: RW
      description: BSA def max alarm severity
      enums:
        - { name: "NoAlarm"  , value: 0 }
        - { name: "Minor"    , value: 1 }
        - { name: "Major"    , value: 2 }
        - { name: "Invalid"  , value: 3 }
    #########################################################
    PllCnt:
      at:
        offset: 0x0500
      class: IntField
      sizeBits: 32
      mode: RO
      description: Count of PLL status changes
    #########################################################
    ClkCnt:
      at:
        offset: 0x0504
      class: IntField
      sizeBits: 32
      mode: RO
      description: Count of local 186M clock
    #########################################################
    SyncErrCnt:
      at:
        offset: 0x0508
      class: IntField
      sizeBits: 32
      mode: RO
      description: Count of 71k sync errors
    #########################################################
    CountInterval:
      at:
        offset: 0x050C
      class: IntField
      sizeBits: 32
      mode: RW
      description: Interval counters update period
    #########################################################
    BaseRateCount:
      at:
        offset: 0x0510
      class: IntField
      sizeBits: 32
      mode: RO
      description: Count of base rate triggers
    #########################################################

EvrV2ChannelReg: &EvrV2ChannelReg
  class: MMIODev
  configPrio: 1
  description: Channel
  size: 0x20
  children:
    #########################################################  
    Enable:
      at:
        offset: 0x00
      class: IntField
      name: Enable
      sizeBits: 1
      lsBit: 0
      mode: RW
      description: Enable Register
    #########################################################  
    BsaEnabled:
      at:
        offset: 0x00
      class: IntField
      name: BsaEnabled
      sizeBits: 1
      lsBit: 1
      mode: RW
      description: Bsa Enable Register (Only valid register is DMA_ENABLE_G=true)
    #########################################################  
    DmaEnabled:
      at:
        offset: 0x00
      class: IntField
      name: DmaEnabled
      sizeBits: 1
      lsBit: 2
      mode: RW
      description: Dma Enable Register (Only valid register is DMA_ENABLE_G=true)
    #########################################################  
    RateSel:
      at:
        offset: 0x04
      class: IntField
      name: RateSelect
      sizeBits: 13
      lsBit: 0
      mode: RW
      description: Rate select
    #########################################################  
    DestSel:
      at:
        offset: 0x05
      class: IntField
      name: DestSelect
      sizeBits: 19
      lsBit: 5
      mode: RW
      description: Destination select
    #########################################################  
    Count:
      at:
        offset: 0x08
      class: IntField
      name: Count
      mode: RO
      description: Counts
    #########################################################  
    BsaWindowDelay:
      at:
        offset: 0x0C
      class: IntField
      name: BsaWindowDelay
      sizeBits: 20
      lsBit: 0
      mode: RW
      description: Start of BSA sensitivity window following trigger (Only valid register is DMA_ENABLE_G=true)
    #########################################################  
    BsaWindowSetup:
      at:
        offset: 0x0E
      class: IntField
      name: BsaWindowSetup
      sizeBits: 6
      lsBit: 4
      mode: RW
      description: Start of BSA sensitivity window before trigger (Only valid register is DMA_ENABLE_G=true)
    #########################################################  
    BsaWindowWidth:
      at:
        offset: 0x10
      class: IntField
      name: BsaWindowWidth
      sizeBits: 20
      lsBit: 0
      mode: RW
      description: Width of BSA sensitivity window (Only valid register is DMA_ENABLE_G=true)
    #########################################################  

EvrV2TriggerReg: &EvrV2TriggerReg
  class: MMIODev
  configPrio: 1
  description: Trigger
  size: 0x1000
  children:
    #########################################################  
    Enable:
      at:
        offset: 0x03
      class: IntField
      name: Enable
      sizeBits: 1
      lsBit: 7
      mode: RW
      description: Trigger enable
    #########################################################  
    Source:
      at:
        offset: 0x00
      class: IntField
      name: SourceMask
      sizeBits: 4
      lsBit: 0
      mode: RW
      description: Source channel
    #########################################################  
    Polarity:
      at:
        offset: 0x02
      class: IntField
      name: Polarity
      sizeBits: 1
      lsBit: 0
      mode: RW
      enums:
        - name: Falling
          class: Enum
          value: 0
        - name: Rising
          class: Enum
          value: 1
#        { name: Falling, value: 0 }
#        { name: Rising , value: 1 }
      description: Signal polarity
    #########################################################  
    Delay:
      at:
        offset: 0x04
      class: IntField
      name: Delay
      sizeBits: 28
      lsBit: 0
      mode: RW
      description: Delay in ticks
    #########################################################  
    Width:
      at:
        offset: 0x08
      class: IntField
      name: Width
      sizeBits: 28
      lsBit: 0
      mode: RW
      description: Width in ticks
    #########################################################  
    DelayTap:
      at:
        offset: 0x0C
      class: IntField
      name: DelayTap
      sizeBits: 6
      lsBit: 0
      mode: RW
      description: Delay tap in ticks/64 (Only valid register is USE_TAP_C=true)
    #########################################################  
    DelayTapReadback:
      at:
        offset: 0x0E
      class: IntField
      name: DelayTapReadback
      sizeBits: 6
      lsBit: 0
      mode: RO
      description: Delay tap readback in ticks/64 (Only valid register is USE_TAP_C=true)
    #########################################################  

## Refer to https://confluence.slac.stanford.edu/download/attachments/216713616/ConfigEvrV2CoreTriggersYaml.pdf

EvrV2CoreTriggers: &EvrV2CoreTriggers
  class: MMIODev
  configPrio: 1
  description: Core trigger control
  size: 0x40000
  metadata:
    numTriggers: &numTriggers 16
  ############
  children:
  ############
    #########################################################
    EvrV2ChannelReg:
      <<: *EvrV2ChannelReg
      at:
        offset: 0x0000
        nelms: *numTriggers
        stride: 0x100
    #########################################################
    EvrV2TriggerReg:
      <<: *EvrV2TriggerReg
      at:
        offset: 0x1000
        nelms: *numTriggers
        stride: 0x100
    #########################################################

GthRxAlignCheck: &GthRxAlignCheck
  class: MMIODev
  configPrio: 1
  description: Timing frame phase lock
  size: 0x10000
  children:
    #########################################################
    PhaseCount:
      at:
        offset: 0x0000
        stride: 1
        nelms: 40
      class: IntField
      name: PhaseCount
      sizeBits: 8
      lsBit: 0
      mode: RO
      description: Timing frame phase
    #########################################################
    PhaseTarget:
      at:
        offset: 0x0100
      class: IntField
      name: PhaseTarget
      sizeBits: 7
      lsBit: 0
      mode: RW
      description: Timing frame phase lock target
    #########################################################
    PhaseMask:
      at:
        offset: 0x0101
      class: IntField
      name: PhaseTarget
      sizeBits: 7
      lsBit: 0
      mode: RW
      description: Mask for timing frame phase lock target
    #########################################################
    ResetLen:
      at:
        offset: 0x0102
      class: IntField
      name: ResetLen
      sizeBits: 4
      lsBit: 0
      mode: RW
      description: Reset length
    #########################################################
    LastPhase:
      at:
        offset: 0x0104
      class: IntField
      name: LastPhase
      sizeBits: 7
      lsBit: 0
      mode: RO
      description: Last timing frame phase seen
    #########################################################

Gthe3Channel: &Gthe3Channel
  class: MMIODev
  configPrio: 1
  description: Gthe3Channel
  size: 0x400
  children:
    #########################################################
    CDR_SWAP_MODE_EN:
      at:
        offset: 0x008
      class: IntField
      name: CDR_SWAP_MODE_EN
      mode: RW
      lsBit: 0
      sizeBits: 1
      description: ''
    #########################################################
    RXCDRFREQRESET_TIME:
      at:
        offset: 0x00C
      class: IntField
      name: RXCDRFREQRESET_TIME
      mode: RW
      lsBit: 0
      sizeBits: 5
      description: ''
    #########################################################
    RX_DATA_WIDTH:
      at:
        offset: 0x00C
      class: IntField
      name: RX_DATA_WIDTH
      mode: RW
      lsBit: 5
      sizeBits: 4
      description: ''
    #########################################################
    #########################################################
    EYE_SCAN_SWAP_EN:
      at:
        offset: 0x00D
      class: IntField
      name: EYE_SCAN_SWAP_EN
      mode: RW
      lsBit: 1
      sizeBits: 1
      description: ''
    #########################################################
    #########################################################
    RXBUFRESET_TIME:
      at:
        offset: 0x00D
      class: IntField
      name: RXBUFRESET_TIME
      mode: RW
      lsBit: 3
      sizeBits: 5
      description: ''
    #########################################################
    RX_FABINT_USRCLK_FLOP:
      at:
        offset: 0x010
      class: IntField
      name: RX_FABINT_USRCLK_FLOP
      mode: RW
      lsBit: 0
      sizeBits: 1
      description: ''
    #########################################################
    RXDFELPMRESET_TIME:
      at:
        offset: 0x010
      class: IntField
      name: RXDFELPMRESET_TIME
      mode: RW
      lsBit: 1
      sizeBits: 7
      description: ''
    #########################################################
    PCI3_RX_ELECIDLE_H2L_DISABLE:
      at:
        offset: 0x011
      class: IntField
      name: PCI3_RX_ELECIDLE_H2L_DISABLE
      mode: RW
      lsBit: 0
      sizeBits: 3
      description: ''
    #########################################################
    RXCDRPHRESET_TIME:
      at:
        offset: 0x011
      class: IntField
      name: RXCDRPHRESET_TIME
      mode: RW
      lsBit: 3
      sizeBits: 5
      description: ''
    #########################################################
    RXELECIDLE_CFG:
      at:
        offset: 0x014
      class: IntField
      name: RXELECIDLE_CFG
      mode: RW
      lsBit: 0
      sizeBits: 3
      description: ''
    #########################################################
    RXPCSRESET_TIME:
      at:
        offset: 0x014
      class: IntField
      name: RXPCSRESET_TIME
      mode: RW
      lsBit: 3
      sizeBits: 5
      description: ''
    #########################################################
    PCI3_RX_FIFO_DISABLE:
      at:
        offset: 0x015
      class: IntField
      name: PCI3_RX_FIFO_DISABLE
      mode: RW
      lsBit: 0
      sizeBits: 1
      description: ''
    #########################################################
    PCI3_RX_ELECIDLE_EI2_ENABLE:
      at:
        offset: 0x015
      class: IntField
      name: PCI3_RX_ELECIDLE_EI2_ENABLE
      mode: RW
      lsBit: 1
      sizeBits: 1
      description: ''
    #########################################################
    PCI3_RX_ELECIDLE_LP4_DISABLE:
      at:
        offset: 0x015
      class: IntField
      name: PCI3_RX_ELECIDLE_LP4_DISABLE
      mode: RW
      lsBit: 2
      sizeBits: 1
      description: ''
    #########################################################
    RXPMARESET_TIME:
      at:
        offset: 0x015
      class: IntField
      name: RXPMARESET_TIME
      mode: RW
      lsBit: 3
      sizeBits: 5
      description: ''
    #########################################################
    RXDFE_HB_CFG1:
      at:
        offset: 0x018
      class: IntField
      name: RXDFE_HB_CFG1
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    TXPCSRESET_TIME:
      at:
        offset: 0x024
      class: IntField
      name: TXPCSRESET_TIME
      mode: RW
      lsBit: 3
      sizeBits: 5
      description: ''
    #########################################################
    TX_PMA_POWER_SAVE:
      at:
        offset: 0x025
      class: IntField
      name: TX_PMA_POWER_SAVE
      mode: RW
      lsBit: 1
      sizeBits: 1
      description: ''
    #########################################################
    RX_PMA_POWER_SAVE:
      at:
        offset: 0x025
      class: IntField
      name: RX_PMA_POWER_SAVE
      mode: RW
      lsBit: 2
      sizeBits: 1
      description: ''
    #########################################################
    TXPMARESET_TIME:
      at:
        offset: 0x025
      class: IntField
      name: TXPMARESET_TIME
      mode: RW
      lsBit: 3
      sizeBits: 5
      description: ''
    #########################################################
    TX_FABINT_USRCLK_FLOP:
      at:
        offset: 0x02C
      class: IntField
      name: TX_FABINT_USRCLK_FLOP
      mode: RW
      lsBit: 4
      sizeBits: 1
      description: ''
    #########################################################
    RXPMACLK_SEL:
      at:
        offset: 0x02B
      class: IntField
      name: RXPMACLK_SEL
      mode: RW
      lsBit: 0
      sizeBits: 2
      description: ''
    #########################################################
    WB_MODE:
      at:
        offset: 0x02B
      class: IntField
      name: WB_MODE
      mode: RW
      lsBit: 6
      sizeBits: 2
      description: ''
    #########################################################
    RXISCANRESET_TIME:
      at:
        offset: 0x030
      class: IntField
      name: RXISCANRESET_TIME
      mode: RW
      lsBit: 5
      sizeBits: 5
      description: ''
    #########################################################
    TX_PROGCLK_SEL:
      at:
        offset: 0x031
      class: IntField
      name: TX_PROGCLK_SEL
      mode: RW
      lsBit: 2
      sizeBits: 2
      description: ''
    #########################################################
    RXCDR_CFG:
      at:
        offset: 0x038
        stride: 4
        nelms: 5
      class: IntField
      name: RXCDR_CFG
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXCDR_LOCK_CFG0:
      at:
        offset: 0x04C
      class: IntField
      name: RXCDR_LOCK_CFG0
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    CHAN_BOND_SEQ_1_1:
      at:
        offset: 0x050
      class: IntField
      name: CHAN_BOND_SEQ_1_1
      mode: RW
      lsBit: 0
      sizeBits: 10
      description: ''
    #########################################################
    CHAN_BOND_SEQ_LEN:
      at:
        offset: 0x051
      class: IntField
      name: CHAN_BOND_SEQ_LEN
      mode: RW
      lsBit: 2
      sizeBits: 2
      description: ''
    #########################################################
    CHAN_BOND_MAX_SKEW:
      at:
        offset: 0x051
      class: IntField
      name: CHAN_BOND_MAX_SKEW
      mode: RW
      lsBit: 4
      sizeBits: 4
      description: ''
    #########################################################
    CHAN_BOND_SEQ_1_3:
      at:
        offset: 0x054
      class: IntField
      name: CHAN_BOND_SEQ_1_3
      mode: RW
      lsBit: 0
      sizeBits: 10
      description: ''
    #########################################################
    PCI3_RX_ELECIDLE_HI_COUNT:
      at:
        offset: 0x055
      class: IntField
      name: PCI3_RX_ELECIDLE_HI_COUNT
      mode: RW
      lsBit: 2
      sizeBits: 5
      description: ''
    #########################################################
    CHAN_BOND_SEQ_1_4:
      at:
        offset: 0x058
      class: IntField
      name: CHAN_BOND_SEQ_1_4
      mode: RW
      lsBit: 0
      sizeBits: 10
      description: ''
    #########################################################
    PCI3_RX_ELECIDLE_H2L_COUNT:
      at:
        offset: 0x059
      class: IntField
      name: PCI3_RX_ELECIDLE_H2L_COUNT
      mode: RW
      lsBit: 2
      sizeBits: 5
      description: ''
    #########################################################
    PCI3_PIPE_RX_ELECIDLE:
      at:
        offset: 0x05C
      class: IntField
      name: PCI3_PIPE_RX_ELECIDLE
      mode: RW
      lsBit: 4
      sizeBits: 1
      description: ''
    #########################################################
    PCI3_AUTO_REALIGN:
      at:
        offset: 0x05C
      class: IntField
      name: PCI3_AUTO_REALIGN
      mode: RW
      lsBit: 5
      sizeBits: 2
      description: ''
    #########################################################
    OOBDIVCTL:
      at:
        offset: 0x05C
      class: IntField
      name: OOBDIVCTL
      mode: RW
      lsBit: 7
      sizeBits: 2
      description: ''
    #########################################################
    RX_DEFER_RESET_BUF_EN:
      at:
        offset: 0x05D
      class: IntField
      name: RX_DEFER_RESET_BUF_EN
      mode: RW
      lsBit: 1
      sizeBits: 1
      description: ''
    #########################################################
    RX_BUFFER_CFG:
      at:
        offset: 0x05D
      class: IntField
      name: RX_BUFFER_CFG
      mode: RW
      lsBit: 2
      sizeBits: 6
      description: ''
    #########################################################
    CHAN_BOND_SEQ_2_1:
      at:
        offset: 0x060
      class: IntField
      name: CHAN_BOND_SEQ_2_1
      mode: RW
      lsBit: 0
      sizeBits: 10
      description: ''
    #########################################################
    PCI3_RX_ASYNC_EBUF_BYPASS:
      at:
        offset: 0x061
      class: IntField
      name: PCI3_RX_ASYNC_EBUF_BYPASS
      mode: RW
      lsBit: 2
      sizeBits: 2
      description: ''
    #########################################################
    CHAN_BOND_SEQ_1_ENABLE:
      at:
        offset: 0x061
      class: IntField
      name: CHAN_BOND_SEQ_1_ENABLE
      mode: RW
      lsBit: 4
      sizeBits: 4
      description: ''
    #########################################################
    CHAN_BOND_SEQ_2_2:
      at:
        offset: 0x064
      class: IntField
      name: CHAN_BOND_SEQ_2_2
      mode: RW
      lsBit: 0
      sizeBits: 10
      description: ''
    #########################################################
    CHAN_BOND_SEQ_2_3:
      at:
        offset: 0x068
      class: IntField
      name: CHAN_BOND_SEQ_2_3
      mode: RW
      lsBit: 0
      sizeBits: 10
      description: ''
    #########################################################
    CHAN_BOND_SEQ_2_4:
      at:
        offset: 0x06C
      class: IntField
      name: CHAN_BOND_SEQ_2_4
      mode: RW
      lsBit: 0
      sizeBits: 10
      description: ''
    #########################################################
    CLK_COR_MIN_LAT:
      at:
        offset: 0x070
      class: IntField
      name: CLK_COR_MIN_LAT
      mode: RW
      lsBit: 0
      sizeBits: 6
      description: ''
    #########################################################
    CLK_COR_KEEP_IDLE:
      at:
        offset: 0x070
      class: IntField
      name: CLK_COR_KEEP_IDLE
      mode: RW
      lsBit: 6
      sizeBits: 1
      description: ''
    #########################################################
    CHAN_BOND_SEQ_2_USE:
      at:
        offset: 0x071
      class: IntField
      name: CHAN_BOND_SEQ_2_USE
      mode: RW
      lsBit: 3
      sizeBits: 1
      description: ''
    #########################################################
    CHAN_BOND_SEQ_2_ENABLE:
      at:
        offset: 0x071
      class: IntField
      name: CHAN_BOND_SEQ_2_ENABLE
      mode: RW
      lsBit: 4
      sizeBits: 4
      description: ''
    #########################################################
    CHAN_BOND_KEEP_ALIGN:
      at:
        offset: 0x074
      class: IntField
      name: CHAN_BOND_KEEP_ALIGN
      mode: RW
      lsBit: 0
      sizeBits: 1
      description: ''
    #########################################################
    CLK_COR_SEQ_LEN:
      at:
        offset: 0x074
      class: IntField
      name: CLK_COR_SEQ_LEN
      mode: RW
      lsBit: 2
      sizeBits: 2
      description: ''
    #########################################################
    CLK_COR_REPEAT_WAIT:
      at:
        offset: 0x074
      class: IntField
      name: CLK_COR_REPEAT_WAIT
      mode: RW
      lsBit: 4
      sizeBits: 5
      description: ''
    #########################################################
    CLK_COR_PRECEDENCE:
      at:
        offset: 0x075
      class: IntField
      name: CLK_COR_PRECEDENCE
      mode: RW
      lsBit: 1
      sizeBits: 1
      description: ''
    #########################################################
    CLK_COR_MAX_LAT:
      at:
        offset: 0x075
      class: IntField
      name: CLK_COR_MAX_LAT
      mode: RW
      lsBit: 2
      sizeBits: 6
      description: ''
    #########################################################
    CLK_COR_SEQ_1_1:
      at:
        offset: 0x078
      class: IntField
      name: CLK_COR_SEQ_1_1
      mode: RW
      lsBit: 0
      sizeBits: 10
      description: ''
    #########################################################
    CLK_COR_SEQ_1_2:
      at:
        offset: 0x07C
      class: IntField
      name: CLK_COR_SEQ_1_2
      mode: RW
      lsBit: 0
      sizeBits: 10
      description: ''
    #########################################################
    CLK_COR_SEQ_1_3:
      at:
        offset: 0x080
      class: IntField
      name: CLK_COR_SEQ_1_3
      mode: RW
      lsBit: 0
      sizeBits: 10
      description: ''
    #########################################################
    CLK_COR_SEQ_1_4:
      at:
        offset: 0x084
      class: IntField
      name: CLK_COR_SEQ_1_4
      mode: RW
      lsBit: 0
      sizeBits: 10
      description: ''
    #########################################################
    CLK_COR_SEQ_2_1:
      at:
        offset: 0x088
      class: IntField
      name: CLK_COR_SEQ_2_1
      mode: RW
      lsBit: 0
      sizeBits: 10
      description: ''
    #########################################################
    CLK_COR_SEQ_1_ENABLE:
      at:
        offset: 0x089
      class: IntField
      name: CLK_COR_SEQ_1_ENABLE
      mode: RW
      lsBit: 4
      sizeBits: 4
      description: ''
    #########################################################
    CLK_COR_SEQ_2_2:
      at:
        offset: 0x08C
      class: IntField
      name: CLK_COR_SEQ_2_2
      mode: RW
      lsBit: 0
      sizeBits: 10
      description: ''
    #########################################################
    CLK_COR_SEQ_2_3:
      at:
        offset: 0x090
      class: IntField
      name: CLK_COR_SEQ_2_3
      mode: RW
      lsBit: 0
      sizeBits: 10
      description: ''
    #########################################################
    CLK_CORRECT_USE:
      at:
        offset: 0x091
      class: IntField
      name: CLK_CORRECT_USE
      mode: RW
      lsBit: 2
      sizeBits: 1
      description: ''
    #########################################################
    CLK_COR_SEQ_2_USE:
      at:
        offset: 0x091
      class: IntField
      name: CLK_COR_SEQ_2_USE
      mode: RW
      lsBit: 3
      sizeBits: 1
      description: ''
    #########################################################
    CLK_COR_SEQ_2_ENABLE:
      at:
        offset: 0x091
      class: IntField
      name: CLK_COR_SEQ_2_ENABLE
      mode: RW
      lsBit: 4
      sizeBits: 4
      description: ''
    #########################################################
    CLK_COR_SEQ_2_4:
      at:
        offset: 0x094
      class: IntField
      name: CLK_COR_SEQ_2_4
      mode: RW
      lsBit: 0
      sizeBits: 10
      description: ''
    #########################################################
    RXDFE_HE_CFG0:
      at:
        offset: 0x098
      class: IntField
      name: RXDFE_HE_CFG0
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    ALIGN_COMMA_ENABLE:
      at:
        offset: 0x09C
      class: IntField
      name: ALIGN_COMMA_ENABLE
      mode: RW
      lsBit: 0
      sizeBits: 10
      description: ''
    #########################################################
    SHOW_REALIGN_COMMA:
      at:
        offset: 0x09D
      class: IntField
      name: SHOW_REALIGN_COMMA
      mode: RW
      lsBit: 3
      sizeBits: 1
      description: ''
    #########################################################
    ALIGN_COMMA_DOUBLE:
      at:
        offset: 0x09D
      class: IntField
      name: ALIGN_COMMA_DOUBLE
      mode: RW
      lsBit: 4
      sizeBits: 1
      description: ''
    #########################################################
    ALIGN_COMMA_WORD:
      at:
        offset: 0x09D
      class: IntField
      name: ALIGN_COMMA_WORD
      mode: RW
      lsBit: 5
      sizeBits: 3
      description: ''
    #########################################################
    TXDRVBIAS_N:
      at:
        offset: 0x0A0
      class: IntField
      name: TXDRVBIAS_N
      mode: RW
      lsBit: 0
      sizeBits: 4
      description: ''
    #########################################################
    CPLL_FBDIV_45:
      at:
        offset: 0x0A0
      class: IntField
      name: CPLL_FBDIV_45
      mode: RW
      lsBit: 7
      sizeBits: 1
      description: ''
    #########################################################
    CPLL_FBDIV:
      at:
        offset: 0x0A1
      class: IntField
      name: CPLL_FBDIV
      mode: RW
      lsBit: 0
      sizeBits: 8
      description: ''
    #########################################################
    CPLL_LOCK_CFG:
      at:
        offset: 0x0A4
      class: IntField
      name: CPLL_LOCK_CFG
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    TXDRVBIAS_P:
      at:
        offset: 0x0A8
      class: IntField
      name: TXDRVBIAS_P
      mode: RW
      lsBit: 0
      sizeBits: 4
      description: ''
    #########################################################
    SATA_CPLL_CFG:
      at:
        offset: 0x0A8
      class: IntField
      name: SATA_CPLL_CFG
      mode: RW
      lsBit: 5
      sizeBits: 2
      description: ''
    #########################################################
    CPLL_REFCLK_DIV:
      at:
        offset: 0x0A9
      class: IntField
      name: CPLL_REFCLK_DIV
      mode: RW
      lsBit: 3
      sizeBits: 5
      description: ''
    #########################################################
    CPLL_INIT_CFG0:
      at:
        offset: 0x0AC
      class: IntField
      name: CPLL_INIT_CFG0
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    A_RXPROGDIVRESET:
      at:
        offset: 0x0B0
      class: IntField
      name: A_RXPROGDIVRESET
      mode: RW
      lsBit: 0
      sizeBits: 1
      description: ''
    #########################################################
    A_TXPROGDIVRESET:
      at:
        offset: 0x0B0
      class: IntField
      name: A_TXPROGDIVRESET
      mode: RW
      lsBit: 1
      sizeBits: 1
      description: ''
    #########################################################
    RX_DIVRESET_TIME:
      at:
        offset: 0x0B0
      class: IntField
      name: RX_DIVRESET_TIME
      mode: RW
      lsBit: 2
      sizeBits: 5
      description: ''
    #########################################################
    TX_DIVRESET_TIME:
      at:
        offset: 0x0B0
      class: IntField
      name: TX_DIVRESET_TIME
      mode: RW
      lsBit: 7
      sizeBits: 5
      description: ''
    #########################################################
    DEC_PCOMMA_DETECT:
      at:
        offset: 0x0B1
      class: IntField
      name: DEC_PCOMMA_DETECT
      mode: RW
      lsBit: 7
      sizeBits: 1
      description: ''
    #########################################################
    RXCDR_LOCK_CFG1:
      at:
        offset: 0x0B4
      class: IntField
      name: RXCDR_LOCK_CFG1
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXCFOK_CFG1:
      at:
        offset: 0x0B8
      class: IntField
      name: RXCFOK_CFG1
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXDFE_H2_CFG0:
      at:
        offset: 0x0BC
      class: IntField
      name: RXDFE_H2_CFG0
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXDFE_H2_CFG1:
      at:
        offset: 0x0C0
      class: IntField
      name: RXDFE_H2_CFG1
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXCFOK_CFG2:
      at:
        offset: 0x0C4
      class: IntField
      name: RXCFOK_CFG2
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXLPM_CFG:
      at:
        offset: 0x0C8
      class: IntField
      name: RXLPM_CFG
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXLPM_KH_CFG0:
      at:
        offset: 0x0CC
      class: IntField
      name: RXLPM_KH_CFG0
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXLPM_KH_CFG1:
      at:
        offset: 0x0D0
      class: IntField
      name: RXLPM_KH_CFG1
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXDFELPM_KL_CFG0:
      at:
        offset: 0x0D4
      class: IntField
      name: RXDFELPM_KL_CFG0
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXDFELPM_KL_CFG1:
      at:
        offset: 0x0D8
      class: IntField
      name: RXDFELPM_KL_CFG1
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXLPM_OS_CFG0:
      at:
        offset: 0x0DC
      class: IntField
      name: RXLPM_OS_CFG0
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXLPM_OS_CFG1:
      at:
        offset: 0x0E0
      class: IntField
      name: RXLPM_OS_CFG1
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXLPM_GC_CFG:
      at:
        offset: 0x0E4
      class: IntField
      name: RXLPM_GC_CFG
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    DMONITOR_CFG1:
      at:
        offset: 0x0E9
      class: IntField
      name: DMONITOR_CFG1
      mode: RW
      lsBit: 0
      sizeBits: 8
      description: ''
    #########################################################
    ES_PRESCALE:
      at:
        offset: 0x0F0
      class: IntField
      name: ES_PRESCALE
      mode: RW
      lsBit: 0
      sizeBits: 5
      description: ''
    #########################################################
    ES_EYE_SCAN_EN:
      at:
        offset: 0x0F1
      class: IntField
      name: ES_EYE_SCAN_EN
      mode: RW
      lsBit: 0
      sizeBits: 1
      description: ''
    #########################################################
    RXDFE_HB_CFG0:
      at:
        offset: 0x33C
      class: IntField
      name: RXDFE_HB_CFG0
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXDFE_HA_CFG1:
      at:
        offset: 0x338
      class: IntField
      name: RXDFE_HA_CFG1
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    CPLL_INIT_CFG1:
      at:
        offset: 0x335
      class: IntField
      name: CPLL_INIT_CFG1
      mode: RW
      lsBit: 0
      sizeBits: 8
      description: ''
    #########################################################
    RX_DDI_SEL:
      at:
        offset: 0x334
      class: IntField
      name: RX_DDI_SEL
      mode: RW
      lsBit: 2
      sizeBits: 6
      description: ''
    #########################################################
    DEC_VALID_COMMA_ONLY:
      at:
        offset: 0x334
      class: IntField
      name: DEC_VALID_COMMA_ONLY
      mode: RW
      lsBit: 1
      sizeBits: 1
      description: ''
    #########################################################
    DEC_MCOMMA_DETECT:
      at:
        offset: 0x334
      class: IntField
      name: DEC_MCOMMA_DETECT
      mode: RW
      lsBit: 0
      sizeBits: 1
      description: ''
    #########################################################
    CPLL_CFG1:
      at:
        offset: 0x330
      class: IntField
      name: CPLL_CFG1
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    CPLL_CFG0:
      at:
        offset: 0x32C
      class: IntField
      name: CPLL_CFG0
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    CHAN_BOND_SEQ_1_2:
      at:
        offset: 0x328
      class: IntField
      name: CHAN_BOND_SEQ_1_2
      mode: RW
      lsBit: 0
      sizeBits: 10
      description: ''
    #########################################################
    RXDFE_HA_CFG0:
      at:
        offset: 0x320
      class: IntField
      name: RXDFE_HA_CFG0
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXDFE_H9_CFG1:
      at:
        offset: 0x31C
      class: IntField
      name: RXDFE_H9_CFG1
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RX_PROGDIV_CFG:
      at:
        offset: 0x318
      class: IntField
      name: RX_PROGDIV_CFG
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXDFE_H9_CFG0:
      at:
        offset: 0x314
      class: IntField
      name: RXDFE_H9_CFG0
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    PCIE_RXPCS_CFG_GEN3:
      at:
        offset: 0x310
      class: IntField
      name: PCIE_RXPCS_CFG_GEN3
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    PCIE_BUFG_DIV_CTRL:
      at:
        offset: 0x30C
      class: IntField
      name: PCIE_BUFG_DIV_CTRL
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXDFE_H8_CFG1:
      at:
        offset: 0x308
      class: IntField
      name: RXDFE_H8_CFG1
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXDFE_H8_CFG0:
      at:
        offset: 0x304
      class: IntField
      name: RXDFE_H8_CFG0
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXDFE_H7_CFG1:
      at:
        offset: 0x300
      class: IntField
      name: RXDFE_H7_CFG1
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXPHBEACON_CFG:
      at:
        offset: 0x2FC
      class: IntField
      name: RXPHBEACON_CFG
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXPHSLIP_CFG:
      at:
        offset: 0x2F8
      class: IntField
      name: RXPHSLIP_CFG
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXPHSAMP_CFG:
      at:
        offset: 0x2F4
      class: IntField
      name: RXPHSAMP_CFG
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    CPLL_CFG2:
      at:
        offset: 0x2F0
      class: IntField
      name: CPLL_CFG2
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    TXGBOX_FIFO_INIT_RD_ADDR:
      at:
        offset: 0x2ED
      class: IntField
      name: TXGBOX_FIFO_INIT_RD_ADDR
      mode: RW
      lsBit: 1
      sizeBits: 3
      description: ''
    #########################################################
    TX_SAMPLE_PERIOD:
      at:
        offset: 0x2EC
      class: IntField
      name: TX_SAMPLE_PERIOD
      mode: RW
      lsBit: 6
      sizeBits: 3
      description: ''
    #########################################################
    RXGBOX_FIFO_INIT_RD_ADDR:
      at:
        offset: 0x2EC
      class: IntField
      name: RXGBOX_FIFO_INIT_RD_ADDR
      mode: RW
      lsBit: 3
      sizeBits: 3
      description: ''
    #########################################################
    RX_SAMPLE_PERIOD:
      at:
        offset: 0x2EC
      class: IntField
      name: RX_SAMPLE_PERIOD
      mode: RW
      lsBit: 0
      sizeBits: 3
      description: ''
    #########################################################
    DDI_REALIGN_WAIT:
      at:
        offset: 0x2E8
      class: IntField
      name: DDI_REALIGN_WAIT
      mode: RW
      lsBit: 2
      sizeBits: 5
      description: ''
    #########################################################
    DDI_CTRL:
      at:
        offset: 0x2E8
      class: IntField
      name: DDI_CTRL
      mode: RW
      lsBit: 0
      sizeBits: 2
      description: ''
    #########################################################
    RXDFE_H7_CFG0:
      at:
        offset: 0x2E4
      class: IntField
      name: RXDFE_H7_CFG0
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXDFE_H6_CFG1:
      at:
        offset: 0x2E0
      class: IntField
      name: RXDFE_H6_CFG1
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXDFE_H6_CFG0:
      at:
        offset: 0x2DC
      class: IntField
      name: RXDFE_H6_CFG0
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    TX_DCD_CFG:
      at:
        offset: 0x2D9
      class: IntField
      name: TX_DCD_CFG
      mode: RW
      lsBit: 2
      sizeBits: 6
      description: ''
    #########################################################
    TX_DCD_EN:
      at:
        offset: 0x2D9
      class: IntField
      name: TX_DCD_EN
      mode: RW
      lsBit: 1
      sizeBits: 1
      description: ''
    #########################################################
    TX_EML_PHI_TUNE:
      at:
        offset: 0x2D9
      class: IntField
      name: TX_EML_PHI_TUNE
      mode: RW
      lsBit: 0
      sizeBits: 1
      description: ''
    #########################################################
    CPLL_CFG3:
      at:
        offset: 0x2D8
      class: IntField
      name: CPLL_CFG3
      mode: RW
      lsBit: 0
      sizeBits: 6
      description: ''
    #########################################################
    RXDFE_H5_CFG1:
      at:
        offset: 0x2D4
      class: IntField
      name: RXDFE_H5_CFG1
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    PROCESS_PAR:
      at:
        offset: 0x2D1
      class: IntField
      name: PROCESS_PAR
      mode: RW
      lsBit: 5
      sizeBits: 3
      description: ''
    #########################################################
    TEMPERATUR_PAR:
      at:
        offset: 0x2D1
      class: IntField
      name: TEMPERATUR_PAR
      mode: RW
      lsBit: 0
      sizeBits: 4
      description: ''
    #########################################################
    TX_MODE_SEL:
      at:
        offset: 0x2D0
      class: IntField
      name: TX_MODE_SEL
      mode: RW
      lsBit: 5
      sizeBits: 3
      description: ''
    #########################################################
    TX_SARC_LPBK_ENB:
      at:
        offset: 0x2D0
      class: IntField
      name: TX_SARC_LPBK_ENB
      mode: RW
      lsBit: 4
      sizeBits: 1
      description: ''
    #########################################################
    RXDFE_H5_CFG0:
      at:
        offset: 0x2CC
      class: IntField
      name: RXDFE_H5_CFG0
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXDFE_H4_CFG1:
      at:
        offset: 0x2C8
      class: IntField
      name: RXDFE_H4_CFG1
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXDFE_H4_CFG0:
      at:
        offset: 0x2C4
      class: IntField
      name: RXDFE_H4_CFG0
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXDFE_H3_CFG1:
      at:
        offset: 0x2C0
      class: IntField
      name: RXDFE_H3_CFG1
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    DFE_D_X_REL_POS:
      at:
        offset: 0x2BD
      class: IntField
      name: DFE_D_X_REL_POS
      mode: RW
      lsBit: 6
      sizeBits: 1
      description: ''
    #########################################################
    DFE_VCM_COMP_EN:
      at:
        offset: 0x2BD
      class: IntField
      name: DFE_VCM_COMP_EN
      mode: RW
      lsBit: 6
      sizeBits: 1
      description: ''
    #########################################################
    GM_BIAS_SELECT:
      at:
        offset: 0x2BD
      class: IntField
      name: GM_BIAS_SELECT
      mode: RW
      lsBit: 5
      sizeBits: 1
      description: ''
    #########################################################
    EVODD_PHI_CFG:
      at:
        offset: 0x2BC
      class: IntField
      name: EVODD_PHI_CFG
      mode: RW
      lsBit: 0
      sizeBits: 11
      description: ''
    #########################################################
    RXDFE_H3_CFG0:
      at:
        offset: 0x2B8
      class: IntField
      name: RXDFE_H3_CFG0
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    PLL_SEL_MODE_GEN3:
      at:
        offset: 0x2B5
      class: IntField
      name: PLL_SEL_MODE_GEN3
      mode: RW
      lsBit: 3
      sizeBits: 2
      description: ''
    #########################################################
    PLL_SEL_MODE_GEN12:
      at:
        offset: 0x2B5
      class: IntField
      name: PLL_SEL_MODE_GEN12
      mode: RW
      lsBit: 1
      sizeBits: 2
      description: ''
    #########################################################
    RATE_SW_USE_DRP:
      at:
        offset: 0x2B5
      class: IntField
      name: RATE_SW_USE_DRP
      mode: RW
      lsBit: 0
      sizeBits: 1
      description: ''
    #########################################################
    RXPI_LPM:
      at:
        offset: 0x2B4
      class: IntField
      name: RXPI_LPM
      mode: RW
      lsBit: 3
      sizeBits: 1
      description: ''
    #########################################################
    RXPI_VREFSEL:
      at:
        offset: 0x2B4
      class: IntField
      name: RXPI_VREFSEL
      mode: RW
      lsBit: 2
      sizeBits: 1
      description: ''
    #########################################################
    RX_CLK_SLIP_OVRD:
      at:
        offset: 0x2B0
      class: IntField
      name: RX_CLK_SLIP_OVRD
      mode: RW
      lsBit: 3
      sizeBits: 5
      description: ''
    #########################################################
    PCS_RSVD1:
      at:
        offset: 0x2B0
      class: IntField
      name: PCS_RSVD1
      mode: RW
      lsBit: 0
      sizeBits: 3
      description: ''
    #########################################################
    PCIE_TXPMA_CFG:
      at:
        offset: 0x2AC
      class: IntField
      name: PCIE_TXPMA_CFG
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    PCIE_TXPCS_CFG_GEN3:
      at:
        offset: 0x2A8
      class: IntField
      name: PCIE_TXPCS_CFG_GEN3
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    PCIE_RXPMA_CFG:
      at:
        offset: 0x2A4
      class: IntField
      name: PCIE_RXPMA_CFG
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXCDR_CFG5:
      at:
        offset: 0x2A0
      class: IntField
      name: RXCDR_CFG5
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXCDR_CFG5_GEN3:
      at:
        offset: 0x29C
      class: IntField
      name: RXCDR_CFG5_GEN3
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXCDR_CFG4_GEN3:
      at:
        offset: 0x298
      class: IntField
      name: RXCDR_CFG4_GEN3
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXCDR_CFG3_GEN3:
      at:
        offset: 0x294
      class: IntField
      name: RXCDR_CFG3_GEN3
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXCDR_CFG2_GEN3:
      at:
        offset: 0x290
      class: IntField
      name: RXCDR_CFG2_GEN3
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXCDR_CFG1_GEN3:
      at:
        offset: 0x28C
      class: IntField
      name: RXCDR_CFG1_GEN3
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXCDR_CFG0_GEN3:
      at:
        offset: 0x288
      class: IntField
      name: RXCDR_CFG0_GEN3
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXDFE_GC_CFG2:
      at:
        offset: 0x284
      class: IntField
      name: RXDFE_GC_CFG2
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXDFE_GC_CFG1:
      at:
        offset: 0x280
      class: IntField
      name: RXDFE_GC_CFG1
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXDFE_GC_CFG0:
      at:
        offset: 0x27C
      class: IntField
      name: RXDFE_GC_CFG0
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXDFE_UT_CFG0:
      at:
        offset: 0x278
      class: IntField
      name: RXDFE_UT_CFG0
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXPI_CFG1:
      at:
        offset: 0x275
      class: IntField
      name: RXPI_CFG1
      mode: RW
      lsBit: 6
      sizeBits: 2
      description: ''
    #########################################################
    RXPI_CFG2:
      at:
        offset: 0x275
      class: IntField
      name: RXPI_CFG2
      mode: RW
      lsBit: 4
      sizeBits: 2
      description: ''
    #########################################################
    RXPI_CFG3:
      at:
        offset: 0x275
      class: IntField
      name: RXPI_CFG3
      mode: RW
      lsBit: 2
      sizeBits: 2
      description: ''
    #########################################################
    RXPI_CFG4:
      at:
        offset: 0x275
      class: IntField
      name: RXPI_CFG4
      mode: RW
      lsBit: 1
      sizeBits: 1
      description: ''
    #########################################################
    RXPI_CFG5:
      at:
        offset: 0x275
      class: IntField
      name: RXPI_CFG5
      mode: RW
      lsBit: 0
      sizeBits: 1
      description: ''
    #########################################################
    RXPI_CFG6:
      at:
        offset: 0x274
      class: IntField
      name: RXPI_CFG6
      mode: RW
      lsBit: 5
      sizeBits: 3
      description: ''
    #########################################################
    RXPI_CFG0:
      at:
        offset: 0x274
      class: IntField
      name: RXPI_CFG0
      mode: RW
      lsBit: 3
      sizeBits: 2
      description: ''
    #########################################################
    TXPI_CFG0:
      at:
        offset: 0x271
      class: IntField
      name: TXPI_CFG0
      mode: RW
      lsBit: 3
      sizeBits: 2
      description: ''
    #########################################################
    TXPI_CFG1:
      at:
        offset: 0x271
      class: IntField
      name: TXPI_CFG1
      mode: RW
      lsBit: 1
      sizeBits: 2
      description: ''
    #########################################################
    TXPI_CFG2:
      at:
        offset: 0x270
      class: IntField
      name: TXPI_CFG2
      mode: RW
      lsBit: 7
      sizeBits: 2
      description: ''
    #########################################################
    TXPI_CFG3:
      at:
        offset: 0x270
      class: IntField
      name: TXPI_CFG3
      mode: RW
      lsBit: 6
      sizeBits: 1
      description: ''
    #########################################################
    TXPI_CFG4:
      at:
        offset: 0x270
      class: IntField
      name: TXPI_CFG4
      mode: RW
      lsBit: 5
      sizeBits: 1
      description: ''
    #########################################################
    TXPI_CFG5:
      at:
        offset: 0x270
      class: IntField
      name: TXPI_CFG5
      mode: RW
      lsBit: 2
      sizeBits: 3
      description: ''
    #########################################################
    RX_DFELPM_KLKH_AGC_STUP_EN:
      at:
        offset: 0x26D
      class: IntField
      name: RX_DFELPM_KLKH_AGC_STUP_EN
      mode: RW
      lsBit: 7
      sizeBits: 1
      description: ''
    #########################################################
    RX_DFELPM_CFG0:
      at:
        offset: 0x26D
      class: IntField
      name: RX_DFELPM_CFG0
      mode: RW
      lsBit: 3
      sizeBits: 4
      description: ''
    #########################################################
    RX_DFELPM_CFG1:
      at:
        offset: 0x26D
      class: IntField
      name: RX_DFELPM_CFG1
      mode: RW
      lsBit: 2
      sizeBits: 1
      description: ''
    #########################################################
    RX_DFE_KL_LPM_KH_CFG0:
      at:
        offset: 0x26D
      class: IntField
      name: RX_DFE_KL_LPM_KH_CFG0
      mode: RW
      lsBit: 0
      sizeBits: 2
      description: ''
    #########################################################
    RX_DFE_KL_LPM_KH_CFG1:
      at:
        offset: 0x26C
      class: IntField
      name: RX_DFE_KL_LPM_KH_CFG1
      mode: RW
      lsBit: 5
      sizeBits: 3
      description: ''
    #########################################################
    TXPI_PPM_CFG:
      at:
        offset: 0x268
      class: IntField
      name: TXPI_PPM_CFG
      mode: RW
      lsBit: 0
      sizeBits: 8
      description: ''
    #########################################################
    GEARBOX_MODE:
      at:
        offset: 0x265
      class: IntField
      name: GEARBOX_MODE
      mode: RW
      lsBit: 3
      sizeBits: 5
      description: ''
    #########################################################
    TXPI_SYNFREQ_PPM:
      at:
        offset: 0x265
      class: IntField
      name: TXPI_SYNFREQ_PPM
      mode: RW
      lsBit: 0
      sizeBits: 3
      description: ''
    #########################################################
    TXPI_PPMCLK_SEL:
      at:
        offset: 0x264
      class: IntField
      name: TXPI_PPMCLK_SEL
      mode: RW
      lsBit: 7
      sizeBits: 1
      description: ''
    #########################################################
    TXPI_INVSTROBE_SEL:
      at:
        offset: 0x264
      class: IntField
      name: TXPI_INVSTROBE_SEL
      mode: RW
      lsBit: 6
      sizeBits: 1
      description: ''
    #########################################################
    TXPI_GRAY_SEL:
      at:
        offset: 0x264
      class: IntField
      name: TXPI_GRAY_SEL
      mode: RW
      lsBit: 5
      sizeBits: 1
      description: ''
    #########################################################
    TXPI_LPM:
      at:
        offset: 0x264
      class: IntField
      name: TXPI_LPM
      mode: RW
      lsBit: 3
      sizeBits: 1
      description: ''
    #########################################################
    TXPI_VREFSEL:
      at:
        offset: 0x264
      class: IntField
      name: TXPI_VREFSEL
      mode: RW
      lsBit: 2
      sizeBits: 1
      description: ''
    #########################################################
    RXDFE_HE_CFG1:
      at:
        offset: 0x260
      class: IntField
      name: RXDFE_HE_CFG1
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RX_AFE_CM_EN:
      at:
        offset: 0x25D
      class: IntField
      name: RX_AFE_CM_EN
      mode: RW
      lsBit: 2
      sizeBits: 1
      description: ''
    #########################################################
    RX_CAPFF_SARC_ENB:
      at:
        offset: 0x25D
      class: IntField
      name: RX_CAPFF_SARC_ENB
      mode: RW
      lsBit: 3
      sizeBits: 1
      description: ''
    #########################################################
    RX_EYESCAN_VS_NEG_DIR:
      at:
        offset: 0x25D
      class: IntField
      name: RX_EYESCAN_VS_NEG_DIR
      mode: RW
      lsBit: 2
      sizeBits: 1
      description: ''
    #########################################################
    RX_EYESCAN_VS_UT_SIGN:
      at:
        offset: 0x25D
      class: IntField
      name: RX_EYESCAN_VS_UT_SIGN
      mode: RW
      lsBit: 1
      sizeBits: 1
      description: ''
    #########################################################
    RX_EYESCAN_VS_CODE:
      at:
        offset: 0x25C
      class: IntField
      name: RX_EYESCAN_VS_CODE
      mode: RW
      lsBit: 2
      sizeBits: 7
      description: ''
    #########################################################
    RX_EYESCAN_VS_RANGE:
      at:
        offset: 0x25C
      class: IntField
      name: RX_EYESCAN_VS_RANGE
      mode: RW
      lsBit: 0
      sizeBits: 2
      description: ''
    #########################################################
    PMA_RSV1:
      at:
        offset: 0x254
      class: IntField
      name: PMA_RSV1
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    ES_CLK_PHASE_SEL:
      at:
        offset: 0x251
      class: IntField
      name: ES_CLK_PHASE_SEL
      mode: RW
      lsBit: 3
      sizeBits: 1
      description: ''
    #########################################################
    USE_PCS_CLK_PHASE_SEL:
      at:
        offset: 0x251
      class: IntField
      name: USE_PCS_CLK_PHASE_SEL
      mode: RW
      lsBit: 2
      sizeBits: 1
      description: ''
    #########################################################
    RXCFOK_CFG0:
      at:
        offset: 0x24C
      class: IntField
      name: RXCFOK_CFG0
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    ADAPT_CFG1:
      at:
        offset: 0x248
      class: IntField
      name: ADAPT_CFG1
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    ADAPT_CFG0:
      at:
        offset: 0x244
      class: IntField
      name: ADAPT_CFG0
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXDFE_UT_CFG1:
      at:
        offset: 0x240
      class: IntField
      name: RXDFE_UT_CFG1
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXDFE_VP_CFG1:
      at:
        offset: 0x23C
      class: IntField
      name: RXDFE_VP_CFG1
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXDFE_VP_CFG0:
      at:
        offset: 0x238
      class: IntField
      name: RXDFE_VP_CFG0
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXDFELPM_KL_CFG2:
      at:
        offset: 0x234
      class: IntField
      name: RXDFELPM_KL_CFG2
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    ACJTAG_MODE:
      at:
        offset: 0x231
      class: IntField
      name: ACJTAG_MODE
      mode: RW
      lsBit: 7
      sizeBits: 1
      description: ''
    #########################################################
    ACJTAG_DEBUG_MODE:
      at:
        offset: 0x231
      class: IntField
      name: ACJTAG_DEBUG_MODE
      mode: RW
      lsBit: 6
      sizeBits: 1
      description: ''
    #########################################################
    ACJTAG_RESET:
      at:
        offset: 0x231
      class: IntField
      name: ACJTAG_RESET
      mode: RW
      lsBit: 5
      sizeBits: 1
      description: ''
    #########################################################
    RESET_POWERSAVE_DISABLE:
      at:
        offset: 0x231
      class: IntField
      name: RESET_POWERSAVE_DISABLE
      mode: RW
      lsBit: 4
      sizeBits: 1
      description: ''
    #########################################################
    RX_TUNE_AFE_OS:
      at:
        offset: 0x231
      class: IntField
      name: RX_TUNE_AFE_OS
      mode: RW
      lsBit: 2
      sizeBits: 2
      description: ''
    #########################################################
    RX_DFE_KL_LPM_KL_CFG0:
      at:
        offset: 0x231
      class: IntField
      name: RX_DFE_KL_LPM_KL_CFG0
      mode: RW
      lsBit: 0
      sizeBits: 2
      description: ''
    #########################################################
    RX_DFE_KL_LPM_KL_CFG1:
      at:
        offset: 0x230
      class: IntField
      name: RX_DFE_KL_LPM_KL_CFG1
      mode: RW
      lsBit: 5
      sizeBits: 3
      description: ''
    #########################################################
    TXSYNC_MULTILANE:
      at:
        offset: 0x22D
      class: IntField
      name: TXSYNC_MULTILANE
      mode: RW
      lsBit: 2
      sizeBits: 1
      description: ''
    #########################################################
    RXSYNC_MULTILANE:
      at:
        offset: 0x22D
      class: IntField
      name: RXSYNC_MULTILANE
      mode: RW
      lsBit: 1
      sizeBits: 1
      description: ''
    #########################################################
    RX_CTLE3_LPF:
      at:
        offset: 0x22C
      class: IntField
      name: RX_CTLE3_LPF
      mode: RW
      lsBit: 0
      sizeBits: 8
      description: ''
    #########################################################
    TX_PMADATA_OPT:
      at:
        offset: 0x229
      class: IntField
      name: TX_PMADATA_OPT
      mode: RW
      lsBit: 7
      sizeBits: 1
      description: ''
    #########################################################
    RXSYNC_OVRD:
      at:
        offset: 0x229
      class: IntField
      name: RXSYNC_OVRD
      mode: RW
      lsBit: 6
      sizeBits: 1
      description: ''
    #########################################################
    TXSYNC_OVRD:
      at:
        offset: 0x229
      class: IntField
      name: TXSYNC_OVRD
      mode: RW
      lsBit: 5
      sizeBits: 1
      description: ''
    #########################################################
    TX_IDLE_DATA_ZERO:
      at:
        offset: 0x229
      class: IntField
      name: TX_IDLE_DATA_ZERO
      mode: RW
      lsBit: 4
      sizeBits: 1
      description: ''
    #########################################################
    A_RXOSCALRESET:
      at:
        offset: 0x229
      class: IntField
      name: A_RXOSCALRESET
      mode: RW
      lsBit: 3
      sizeBits: 1
      description: ''
    #########################################################
    RXOOB_CLK_CFG:
      at:
        offset: 0x229
      class: IntField
      name: RXOOB_CLK_CFG
      mode: RW
      lsBit: 2
      sizeBits: 1
      description: ''
    #########################################################
    TXSYNC_SKIP_DA:
      at:
        offset: 0x229
      class: IntField
      name: TXSYNC_SKIP_DA
      mode: RW
      lsBit: 1
      sizeBits: 1
      description: ''
    #########################################################
    RXSYNC_SKIP_DA:
      at:
        offset: 0x229
      class: IntField
      name: RXSYNC_SKIP_DA
      mode: RW
      lsBit: 0
      sizeBits: 1
      description: ''
    #########################################################
    RXOSCALRESET_TIME:
      at:
        offset: 0x228
      class: IntField
      name: RXOSCALRESET_TIME
      mode: RW
      lsBit: 0
      sizeBits: 5
      description: ''
    #########################################################
    RXPRBS_LINKACQ_CNT:
      at:
        offset: 0x224
      class: IntField
      name: RXPRBS_LINKACQ_CNT
      mode: RW
      lsBit: 0
      sizeBits: 8
      description: ''
    #########################################################
    TX_QPI_STATUS_EN:
      at:
        offset: 0x215
      class: IntField
      name: TX_QPI_STATUS_EN
      mode: RW
      lsBit: 5
      sizeBits: 1
      description: ''
    #########################################################
    TX_INT_DATAWIDTH:
      at:
        offset: 0x215
      class: IntField
      name: TX_INT_DATAWIDTH
      mode: RW
      lsBit: 2
      sizeBits: 2
      description: ''
    #########################################################
    RXDFE_HD_CFG1:
      at:
        offset: 0x210
      class: IntField
      name: RXDFE_HD_CFG1
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    TX_MARGIN_LOW_3:
      at:
        offset: 0x20D
      class: IntField
      name: TX_MARGIN_LOW_3
      mode: RW
      lsBit: 1
      sizeBits: 7
      description: ''
    #########################################################
    TX_MARGIN_LOW_4:
      at:
        offset: 0x20C
      class: IntField
      name: TX_MARGIN_LOW_4
      mode: RW
      lsBit: 1
      sizeBits: 7
      description: ''
    #########################################################
    TX_MARGIN_LOW_1:
      at:
        offset: 0x209
      class: IntField
      name: TX_MARGIN_LOW_1
      mode: RW
      lsBit: 1
      sizeBits: 7
      description: ''
    #########################################################
    TX_MARGIN_LOW_2:
      at:
        offset: 0x208
      class: IntField
      name: TX_MARGIN_LOW_2
      mode: RW
      lsBit: 1
      sizeBits: 7
      description: ''
    #########################################################
    TX_MARGIN_FULL_4:
      at:
        offset: 0x205
      class: IntField
      name: TX_MARGIN_FULL_4
      mode: RW
      lsBit: 1
      sizeBits: 7
      description: ''
    #########################################################
    TX_MARGIN_LOW_0:
      at:
        offset: 0x204
      class: IntField
      name: TX_MARGIN_LOW_0
      mode: RW
      lsBit: 1
      sizeBits: 7
      description: ''
    #########################################################
    TX_MARGIN_FULL_2:
      at:
        offset: 0x201
      class: IntField
      name: TX_MARGIN_FULL_2
      mode: RW
      lsBit: 1
      sizeBits: 7
      description: ''
    #########################################################
    TX_MARGIN_FULL_3:
      at:
        offset: 0x200
      class: IntField
      name: TX_MARGIN_FULL_3
      mode: RW
      lsBit: 1
      sizeBits: 7
      description: ''
    #########################################################
    TX_MARGIN_FULL_0:
      at:
        offset: 0x1FD
      class: IntField
      name: TX_MARGIN_FULL_0
      mode: RW
      lsBit: 1
      sizeBits: 7
      description: ''
    #########################################################
    TX_MARGIN_FULL_1:
      at:
        offset: 0x1FC
      class: IntField
      name: TX_MARGIN_FULL_1
      mode: RW
      lsBit: 1
      sizeBits: 7
      description: ''
    #########################################################
    TX_CLKMUX_EN:
      at:
        offset: 0x1F9
      class: IntField
      name: TX_CLKMUX_EN
      mode: RW
      lsBit: 7
      sizeBits: 1
      description: ''
    #########################################################
    TX_LOOPBACK_DRIVE_HIZ:
      at:
        offset: 0x1F9
      class: IntField
      name: TX_LOOPBACK_DRIVE_HIZ
      mode: RW
      lsBit: 6
      sizeBits: 1
      description: ''
    #########################################################
    TX_DRIVE_MODE:
      at:
        offset: 0x1F9
      class: IntField
      name: TX_DRIVE_MODE
      mode: RW
      lsBit: 0
      sizeBits: 5
      description: ''
    #########################################################
    TX_EIDLE_ASSERT_DELAY:
      at:
        offset: 0x1F8
      class: IntField
      name: TX_EIDLE_ASSERT_DELAY
      mode: RW
      lsBit: 5
      sizeBits: 3
      description: ''
    #########################################################
    TX_EIDLE_DEASSERT_DELAY:
      at:
        offset: 0x1F8
      class: IntField
      name: TX_EIDLE_DEASSERT_DELAY
      mode: RW
      lsBit: 2
      sizeBits: 3
      description: ''
    #########################################################
    TX_RXDETECT_CFG:
      at:
        offset: 0x1F4
      class: IntField
      name: TX_RXDETECT_CFG
      mode: RW
      lsBit: 2
      sizeBits: 14
      description: ''
    #########################################################
    TX_MAINCURSOR_SEL:
      at:
        offset: 0x1F1
      class: IntField
      name: TX_MAINCURSOR_SEL
      mode: RW
      lsBit: 6
      sizeBits: 1
      description: ''
    #########################################################
    TXGEARBOX_EN:
      at:
        offset: 0x1F1
      class: IntField
      name: TXGEARBOX_EN
      mode: RW
      lsBit: 5
      sizeBits: 1
      description: ''
    #########################################################
    TXOUT_DIV:
      at:
        offset: 0x1F1
      class: IntField
      name: TXOUT_DIV
      mode: RW
      lsBit: 0
      sizeBits: 3
      description: ''
    #########################################################
    TXBUF_EN:
      at:
        offset: 0x1F0
      class: IntField
      name: TXBUF_EN
      mode: RW
      lsBit: 7
      sizeBits: 1
      description: ''
    #########################################################
    TXBUF_RESET_ON_RATE_CHANGE:
      at:
        offset: 0x1F0
      class: IntField
      name: TXBUF_RESET_ON_RATE_CHANGE
      mode: RW
      lsBit: 6
      sizeBits: 1
      description: ''
    #########################################################
    TX_RXDETECT_REF:
      at:
        offset: 0x1F0
      class: IntField
      name: TX_RXDETECT_REF
      mode: RW
      lsBit: 3
      sizeBits: 3
      description: ''
    #########################################################
    TXFIFO_ADDR_CFG:
      at:
        offset: 0x1F0
      class: IntField
      name: TXFIFO_ADDR_CFG
      mode: RW
      lsBit: 2
      sizeBits: 1
      description: ''
    #########################################################
    TX_DEEMPH0:
      at:
        offset: 0x1ED
      class: IntField
      name: TX_DEEMPH0
      mode: RW
      lsBit: 0
      sizeBits: 8
      description: ''
    #########################################################
    TX_DEEMPH1:
      at:
        offset: 0x1EC
      class: IntField
      name: TX_DEEMPH1
      mode: RW
      lsBit: 0
      sizeBits: 8
      description: ''
    #########################################################
    TX_CLK25_DIV:
      at:
        offset: 0x1E9
      class: IntField
      name: TX_CLK25_DIV
      mode: RW
      lsBit: 3
      sizeBits: 5
      description: ''
    #########################################################
    TX_XCLK_SEL:
      at:
        offset: 0x1E9
      class: IntField
      name: TX_XCLK_SEL
      mode: RW
      lsBit: 2
      sizeBits: 1
      description: ''
    #########################################################
    TX_DATA_WIDTH:
      at:
        offset: 0x1E8
      class: IntField
      name: TX_DATA_WIDTH
      mode: RW
      lsBit: 0
      sizeBits: 4
      description: ''
    #########################################################
    TST_RSV0:
      at:
        offset: 0x1E5
      class: IntField
      name: TST_RSV0
      mode: RW
      lsBit: 0
      sizeBits: 8
      description: ''
    #########################################################
    TST_RSV1:
      at:
        offset: 0x1E4
      class: IntField
      name: TST_RSV1
      mode: RW
      lsBit: 0
      sizeBits: 8
      description: ''
    #########################################################
    TRANS_TIME_RATE:
      at:
        offset: 0x1E1
      class: IntField
      name: TRANS_TIME_RATE
      mode: RW
      lsBit: 0
      sizeBits: 8
      description: ''
    #########################################################
    PD_TRANS_TIME_NONE_P2:
      at:
        offset: 0x1DD
      class: IntField
      name: PD_TRANS_TIME_NONE_P2
      mode: RW
      lsBit: 0
      sizeBits: 8
      description: ''
    #########################################################
    PD_TRANS_TIME_TO_P2:
      at:
        offset: 0x1DC
      class: IntField
      name: PD_TRANS_TIME_TO_P2
      mode: RW
      lsBit: 0
      sizeBits: 8
      description: ''
    #########################################################
    PD_TRANS_TIME_FROM_P2:
      at:
        offset: 0x1D8
      class: IntField
      name: PD_TRANS_TIME_FROM_P2
      mode: RW
      lsBit: 4
      sizeBits: 12
      description: ''
    #########################################################
    TERM_RCAL_OVRD:
      at:
        offset: 0x1D8
      class: IntField
      name: TERM_RCAL_OVRD
      mode: RW
      lsBit: 1
      sizeBits: 2
      description: ''
    #########################################################
    RXDFE_HF_CFG1:
      at:
        offset: 0x1D4
      class: IntField
      name: RXDFE_HF_CFG1
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    TERM_RCAL_CFG:
      at:
        offset: 0x1D0
      class: IntField
      name: TERM_RCAL_CFG
      mode: RW
      lsBit: 0
      sizeBits: 15
      description: ''
    #########################################################
    TXPH_CFG:
      at:
        offset: 0x1CC
      class: IntField
      name: TXPH_CFG
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXCDR_LOCK_CFG2:
      at:
        offset: 0x1C8
      class: IntField
      name: RXCDR_LOCK_CFG2
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    TXPH_MONITOR_SEL:
      at:
        offset: 0x1C4
      class: IntField
      name: TXPH_MONITOR_SEL
      mode: RW
      lsBit: 2
      sizeBits: 5
      description: ''
    #########################################################
    TAPDLY_SET_TX:
      at:
        offset: 0x1C4
      class: IntField
      name: TAPDLY_SET_TX
      mode: RW
      lsBit: 0
      sizeBits: 2
      description: ''
    #########################################################
    TXDLY_CFG:
      at:
        offset: 0x1C0
      class: IntField
      name: TXDLY_CFG
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    TXPHDLY_CFG:
      at:
        offset: 0x1B8
        stride: 4
        nelms: 2
      class: IntField
      name: TXPHDLY_CFG
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RX_CLK25_DIV:
      at:
        offset: 0x1B4
      class: IntField
      name: RX_CLK25_DIV
      mode: RW
      lsBit: 3
      sizeBits: 5
      description: ''
    #########################################################
    SATA_MAX_INIT:
      at:
        offset: 0x1B1
      class: IntField
      name: SATA_MAX_INIT
      mode: RW
      lsBit: 2
      sizeBits: 6
      description: ''
    #########################################################
    SATA_MAX_WAKE:
      at:
        offset: 0x1B0
      class: IntField
      name: SATA_MAX_WAKE
      mode: RW
      lsBit: 1
      sizeBits: 6
      description: ''
    #########################################################
    SATA_MAX_BURST:
      at:
        offset: 0x1AD
      class: IntField
      name: SATA_MAX_BURST
      mode: RW
      lsBit: 2
      sizeBits: 6
      description: ''
    #########################################################
    SAS_MAX_COM:
      at:
        offset: 0x1AC
      class: IntField
      name: SAS_MAX_COM
      mode: RW
      lsBit: 1
      sizeBits: 6
      description: ''
    #########################################################
    SATA_MIN_INIT:
      at:
        offset: 0x1A9
      class: IntField
      name: SATA_MIN_INIT
      mode: RW
      lsBit: 2
      sizeBits: 6
      description: ''
    #########################################################
    SATA_MIN_WAKE:
      at:
        offset: 0x1A8
      class: IntField
      name: SATA_MIN_WAKE
      mode: RW
      lsBit: 1
      sizeBits: 6
      description: ''
    #########################################################
    SATA_MIN_BURST:
      at:
        offset: 0x1A5
      class: IntField
      name: SATA_MIN_BURST
      mode: RW
      lsBit: 2
      sizeBits: 6
      description: ''
    #########################################################
    SAS_MIN_COM:
      at:
        offset: 0x1A4
      class: IntField
      name: SAS_MIN_COM
      mode: RW
      lsBit: 1
      sizeBits: 6
      description: ''
    #########################################################
    SATA_BURST_VAL:
      at:
        offset: 0x1A1
      class: IntField
      name: SATA_BURST_VAL
      mode: RW
      lsBit: 5
      sizeBits: 3
      description: ''
    #########################################################
    SATA_BURST_SEQ_LEN:
      at:
        offset: 0x1A0
      class: IntField
      name: SATA_BURST_SEQ_LEN
      mode: RW
      lsBit: 4
      sizeBits: 4
      description: ''
    #########################################################
    SATA_EIDLE_VAL:
      at:
        offset: 0x1A0
      class: IntField
      name: SATA_EIDLE_VAL
      mode: RW
      lsBit: 0
      sizeBits: 2
      description: ''
    #########################################################
    RXBUF_EIDLE_HI_CNT:
      at:
        offset: 0x19D
      class: IntField
      name: RXBUF_EIDLE_HI_CNT
      mode: RW
      lsBit: 4
      sizeBits: 4
      description: ''
    #########################################################
    RXCDR_HOLD_DURING_EIDLE:
      at:
        offset: 0x19D
      class: IntField
      name: RXCDR_HOLD_DURING_EIDLE
      mode: RW
      lsBit: 3
      sizeBits: 1
      description: ''
    #########################################################
    RX_DFE_LPM_HOLD_DURING_EIDLE:
      at:
        offset: 0x19D
      class: IntField
      name: RX_DFE_LPM_HOLD_DURING_EIDLE
      mode: RW
      lsBit: 2
      sizeBits: 1
      description: ''
    #########################################################
    RXBUF_EIDLE_LO_CNT:
      at:
        offset: 0x19C
      class: IntField
      name: RXBUF_EIDLE_LO_CNT
      mode: RW
      lsBit: 4
      sizeBits: 4
      description: ''
    #########################################################
    RXBUF_RESET_ON_EIDLE:
      at:
        offset: 0x19C
      class: IntField
      name: RXBUF_RESET_ON_EIDLE
      mode: RW
      lsBit: 3
      sizeBits: 1
      description: ''
    #########################################################
    RXCDR_FR_RESET_ON_EIDLE:
      at:
        offset: 0x19C
      class: IntField
      name: RXCDR_FR_RESET_ON_EIDLE
      mode: RW
      lsBit: 2
      sizeBits: 1
      description: ''
    #########################################################
    RXCDR_PH_RESET_ON_EIDLE:
      at:
        offset: 0x19C
      class: IntField
      name: RXCDR_PH_RESET_ON_EIDLE
      mode: RW
      lsBit: 1
      sizeBits: 1
      description: ''
    #########################################################
    RXBUF_THRESH_OVRD:
      at:
        offset: 0x199
      class: IntField
      name: RXBUF_THRESH_OVRD
      mode: RW
      lsBit: 7
      sizeBits: 1
      description: ''
    #########################################################
    RXBUF_RESET_ON_COMMAALIGN:
      at:
        offset: 0x199
      class: IntField
      name: RXBUF_RESET_ON_COMMAALIGN
      mode: RW
      lsBit: 6
      sizeBits: 1
      description: ''
    #########################################################
    RXBUF_RESET_ON_RATE_CHANGE:
      at:
        offset: 0x199
      class: IntField
      name: RXBUF_RESET_ON_RATE_CHANGE
      mode: RW
      lsBit: 5
      sizeBits: 1
      description: ''
    #########################################################
    RXBUF_RESET_ON_CB_CHANGE:
      at:
        offset: 0x199
      class: IntField
      name: RXBUF_RESET_ON_CB_CHANGE
      mode: RW
      lsBit: 4
      sizeBits: 1
      description: ''
    #########################################################
    RXBUF_THRESH_UNDFLW:
      at:
        offset: 0x198
      class: IntField
      name: RXBUF_THRESH_UNDFLW
      mode: RW
      lsBit: 6
      sizeBits: 6
      description: ''
    #########################################################
    RX_CLKMUX_EN:
      at:
        offset: 0x198
      class: IntField
      name: RX_CLKMUX_EN
      mode: RW
      lsBit: 5
      sizeBits: 1
      description: ''
    #########################################################
    RX_DISPERR_SEQ_MATCH:
      at:
        offset: 0x198
      class: IntField
      name: RX_DISPERR_SEQ_MATCH
      mode: RW
      lsBit: 4
      sizeBits: 1
      description: ''
    #########################################################
    RXBUF_ADDR_MODE:
      at:
        offset: 0x198
      class: IntField
      name: RXBUF_ADDR_MODE
      mode: RW
      lsBit: 3
      sizeBits: 1
      description: ''
    #########################################################
    RX_WIDEMODE_CDR:
      at:
        offset: 0x198
      class: IntField
      name: RX_WIDEMODE_CDR
      mode: RW
      lsBit: 2
      sizeBits: 1
      description: ''
    #########################################################
    RX_INT_DATAWIDTH:
      at:
        offset: 0x198
      class: IntField
      name: RX_INT_DATAWIDTH
      mode: RW
      lsBit: 0
      sizeBits: 2
      description: ''
    #########################################################
    RXBUF_THRESH_OVFLW:
      at:
        offset: 0x195
      class: IntField
      name: RXBUF_THRESH_OVFLW
      mode: RW
      lsBit: 2
      sizeBits: 6
      description: ''
    #########################################################
    DMONITOR_CFG0:
      at:
        offset: 0x194
      class: IntField
      name: DMONITOR_CFG0
      mode: RW
      lsBit: 0
      sizeBits: 10
      description: ''
    #########################################################
    RX_SIG_VALID_DLY:
      at:
        offset: 0x191
      class: IntField
      name: RX_SIG_VALID_DLY
      mode: RW
      lsBit: 3
      sizeBits: 5
      description: ''
    #########################################################
    RXSLIDE_MODE:
      at:
        offset: 0x191
      class: IntField
      name: RXSLIDE_MODE
      mode: RW
      lsBit: 1
      sizeBits: 2
      description: ''
    #########################################################
    RXPRBS_ERR_LOOPBACK:
      at:
        offset: 0x191
      class: IntField
      name: RXPRBS_ERR_LOOPBACK
      mode: RW
      lsBit: 0
      sizeBits: 1
      description: ''
    #########################################################
    RXSLIDE_AUTO_WAIT:
      at:
        offset: 0x190
      class: IntField
      name: RXSLIDE_AUTO_WAIT
      mode: RW
      lsBit: 4
      sizeBits: 4
      description: ''
    #########################################################
    RXBUF_EN:
      at:
        offset: 0x190
      class: IntField
      name: RXBUF_EN
      mode: RW
      lsBit: 3
      sizeBits: 1
      description: ''
    #########################################################
    RX_XCLK_SEL:
      at:
        offset: 0x190
      class: IntField
      name: RX_XCLK_SEL
      mode: RW
      lsBit: 1
      sizeBits: 2
      description: ''
    #########################################################
    RXGEARBOX_EN:
      at:
        offset: 0x190
      class: IntField
      name: RXGEARBOX_EN
      mode: RW
      lsBit: 0
      sizeBits: 1
      description: ''
    #########################################################
    CBCC_DATA_SOURCE_SEL:
      at:
        offset: 0x18D
      class: IntField
      name: CBCC_DATA_SOURCE_SEL
      mode: RW
      lsBit: 7
      sizeBits: 1
      description: ''
    #########################################################
    OOB_PWRUP:
      at:
        offset: 0x18D
      class: IntField
      name: OOB_PWRUP
      mode: RW
      lsBit: 6
      sizeBits: 1
      description: ''
    #########################################################
    RXOOB_CFG:
      at:
        offset: 0x18C
      class: IntField
      name: RXOOB_CFG
      mode: RW
      lsBit: 5
      sizeBits: 9
      description: ''
    #########################################################
    RXOUT_DIV:
      at:
        offset: 0x18C
      class: IntField
      name: RXOUT_DIV
      mode: RW
      lsBit: 0
      sizeBits: 3
      description: ''
    #########################################################
    RX_SUM_DFETAPREP_EN:
      at:
        offset: 0x189
      class: IntField
      name: RX_SUM_DFETAPREP_EN
      mode: RW
      lsBit: 6
      sizeBits: 1
      description: ''
    #########################################################
    RX_SUM_VCM_OVWR:
      at:
        offset: 0x189
      class: IntField
      name: RX_SUM_VCM_OVWR
      mode: RW
      lsBit: 5
      sizeBits: 1
      description: ''
    #########################################################
    RX_SUM_IREF_TUNE:
      at:
        offset: 0x189
      class: IntField
      name: RX_SUM_IREF_TUNE
      mode: RW
      lsBit: 1
      sizeBits: 4
      description: ''
    #########################################################
    RX_SUM_RES_CTRL:
      at:
        offset: 0x188
      class: IntField
      name: RX_SUM_RES_CTRL
      mode: RW
      lsBit: 7
      sizeBits: 2
      description: ''
    #########################################################
    RX_SUM_VCMTUNE:
      at:
        offset: 0x188
      class: IntField
      name: RX_SUM_VCMTUNE
      mode: RW
      lsBit: 3
      sizeBits: 4
      description: ''
    #########################################################
    RX_SUM_VREF_TUNE:
      at:
        offset: 0x188
      class: IntField
      name: RX_SUM_VREF_TUNE
      mode: RW
      lsBit: 0
      sizeBits: 3
      description: ''
    #########################################################
    RXPH_MONITOR_SEL:
      at:
        offset: 0x185
      class: IntField
      name: RXPH_MONITOR_SEL
      mode: RW
      lsBit: 3
      sizeBits: 5
      description: ''
    #########################################################
    RX_CM_BUF_PD:
      at:
        offset: 0x185
      class: IntField
      name: RX_CM_BUF_PD
      mode: RW
      lsBit: 2
      sizeBits: 1
      description: ''
    #########################################################
    RX_CM_BUF_CFG:
      at:
        offset: 0x184
      class: IntField
      name: RX_CM_BUF_CFG
      mode: RW
      lsBit: 6
      sizeBits: 4
      description: ''
    #########################################################
    RX_CM_TRIM:
      at:
        offset: 0x184
      class: IntField
      name: RX_CM_TRIM
      mode: RW
      lsBit: 2
      sizeBits: 4
      description: ''
    #########################################################
    RX_CM_SEL:
      at:
        offset: 0x184
      class: IntField
      name: RX_CM_SEL
      mode: RW
      lsBit: 0
      sizeBits: 2
      description: ''
    #########################################################
    PCS_RSVD0:
      at:
        offset: 0x180
      class: IntField
      name: PCS_RSVD0
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RX_BIAS_CFG0:
      at:
        offset: 0x17C
      class: IntField
      name: RX_BIAS_CFG0
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXDFE_HD_CFG0:
      at:
        offset: 0x178
      class: IntField
      name: RXDFE_HD_CFG0
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXDFE_HF_CFG0:
      at:
        offset: 0x174
      class: IntField
      name: RXDFE_HF_CFG0
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXDLY_LCFG:
      at:
        offset: 0x170
      class: IntField
      name: RXDLY_LCFG
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXDLY_CFG:
      at:
        offset: 0x16C
      class: IntField
      name: RXDLY_CFG
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXDFE_OS_CFG1:
      at:
        offset: 0x168
      class: IntField
      name: RXDFE_OS_CFG1
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXPHDLY_CFG:
      at:
        offset: 0x164
      class: IntField
      name: RXPHDLY_CFG
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXDFE_OS_CFG0:
      at:
        offset: 0x160
      class: IntField
      name: RXDFE_OS_CFG0
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    TXDLY_LCFG:
      at:
        offset: 0x15C
      class: IntField
      name: TXDLY_LCFG
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    ALIGN_PCOMMA_DET:
      at:
        offset: 0x159
      class: IntField
      name: ALIGN_PCOMMA_DET
      mode: RW
      lsBit: 2
      sizeBits: 1
      description: ''
    #########################################################
    ALIGN_PCOMMA_VALUE:
      at:
        offset: 0x158
      class: IntField
      name: ALIGN_PCOMMA_VALUE
      mode: RW
      lsBit: 0
      sizeBits: 10
      description: ''
    #########################################################
    LOCAL_MASTER:
      at:
        offset: 0x155
      class: IntField
      name: LOCAL_MASTER
      mode: RW
      lsBit: 5
      sizeBits: 1
      description: ''
    #########################################################
    PCS_PCIE_EN:
      at:
        offset: 0x155
      class: IntField
      name: PCS_PCIE_EN
      mode: RW
      lsBit: 4
      sizeBits: 1
      description: ''
    #########################################################
    ALIGN_MCOMMA_DET:
      at:
        offset: 0x155
      class: IntField
      name: ALIGN_MCOMMA_DET
      mode: RW
      lsBit: 2
      sizeBits: 1
      description: ''
    #########################################################
    ALIGN_MCOMMA_VALUE:
      at:
        offset: 0x154
      class: IntField
      name: ALIGN_MCOMMA_VALUE
      mode: RW
      lsBit: 0
      sizeBits: 10
      description: ''
    #########################################################
    RXDFE_CFG:
      at:
        offset: 0x14C
        stride: 4
        nelms: 2
      class: IntField
      name: RXDFE_CFG
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RX_EN_HI_LR:
      at:
        offset: 0x149
      class: IntField
      name: RX_EN_HI_LR
      mode: RW
      lsBit: 2
      sizeBits: 1
      description: ''
    #########################################################
    RX_DFE_AGC_CFG1:
      at:
        offset: 0x148
      class: IntField
      name: RX_DFE_AGC_CFG1
      mode: RW
      lsBit: 2
      sizeBits: 3
      description: ''
    #########################################################
    RX_DFE_AGC_CFG0:
      at:
        offset: 0x148
      class: IntField
      name: RX_DFE_AGC_CFG0
      mode: RW
      lsBit: 0
      sizeBits: 2
      description: ''
    #########################################################
    ES_PMA_CFG:
      at:
        offset: 0x144
      class: IntField
      name: ES_PMA_CFG
      mode: RW
      lsBit: 0
      sizeBits: 10
      description: ''
    #########################################################
    RXDFE_HC_CFG1:
      at:
        offset: 0x140
      class: IntField
      name: RXDFE_HC_CFG1
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    ES_HORZ_OFFSET:
      at:
        offset: 0x13C
      class: IntField
      name: ES_HORZ_OFFSET
      mode: RW
      lsBit: 4
      sizeBits: 12
      description: ''
    #########################################################
    FTS_LANE_DESKEW_CFG:
      at:
        offset: 0x13C
      class: IntField
      name: FTS_LANE_DESKEW_CFG
      mode: RW
      lsBit: 4
      sizeBits: 1
      description: ''
    #########################################################
    FTS_LANE_DESKEW_EN:
      at:
        offset: 0x138
      class: IntField
      name: FTS_LANE_DESKEW_EN
      mode: RW
      lsBit: 4
      sizeBits: 1
      description: ''
    #########################################################
    FTS_DESKEW_SEQ_ENABLE:
      at:
        offset: 0x138
      class: IntField
      name: FTS_DESKEW_SEQ_ENABLE
      mode: RW
      lsBit: 0
      sizeBits: 4
      description: ''
    #########################################################
    ES_SDATA_MASK:
      at:
        offset: 0x124
        stride: 4
        nelms: 5
      class: IntField
      name: ES_SDATA_MASK
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    ES_QUAL_MASK:
      at:
        offset: 0x110
        stride: 4
        nelms: 5
      class: IntField
      name: ES_QUAL_MASK
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    ES_QUALIFIER:
      at:
        offset: 0x0FC
        stride: 4
        nelms: 5
      class: IntField
      name: ES_QUALIFIER
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    TX_PROGDIV_CFG:
      at:
        offset: 0x0F8
      class: IntField
      name: TX_PROGDIV_CFG
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    RXDFE_HC_CFG0:
      at:
        offset: 0x0F4
      class: IntField
      name: RXDFE_HC_CFG0
      mode: RW
      lsBit: 0
      sizeBits: 16
      description: ''
    #########################################################
    ES_CONTROL:
      at:
        offset: 0x0F1
      class: IntField
      name: ES_CONTROL
      mode: RW
      lsBit: 2
      sizeBits: 6
      description: ''
    #########################################################
    ES_ERRDET_EN:
      at:
        offset: 0x0F1
      class: IntField
      name: ES_ERRDET_EN
      mode: RW
      lsBit: 1
      sizeBits: 1
      description: ''

AmcCarrierTiming: &AmcCarrierTiming 
  name: AmcCarrierTiming
  class: MMIODev
  configPrio: 1
  description: Timing receiver module for AMC Carrier
  size: 0x01000000
  ############
  children:
  ############
    TimingFrameRx:
      <<: *TimingFrameRx
      at:
        offset: 0x00000000
    ##################################################
    TPGMiniCore:
      <<: *TPGMiniCore
      at:
        offset: 0x00030000
    ##################################################
    EvrV2CoreTriggers:
      <<: *EvrV2CoreTriggers
      at:
        offset: 0x00040000
    ##################################################
    GthRxAlignCheck:
      <<: *GthRxAlignCheck
      at:
        offset: 0x00800000
    ##################################################  
    Gthe3Channel:
      <<: *Gthe3Channel
      at:
        offset: 0x00C00000
    ##################################################      

AxiStreamDmaRingWrite: &AxiStreamDmaRingWrite
  class: MMIODev
  configPrio: 1
  description: DMA Ring Buffer Manager
  size: 0x1000
  metadata:
    numBuffers: &numBuffers 4
    destEnums: &destEnums
        - name: Software
          value: 0
        - name: Auto-Readout
          value: 1
    destHidden: &destHidden true
  #########
  children:
    #########################################################
    StartAddr:
      at:
        offset: 0x000
        nelms: *numBuffers
        stride: 8
      class: IntField
      name: StartAddr
      mode: RW
      sizeBits: 64
    #########################################################
    EndAddr:
      at:
        offset: 0x200
        nelms: *numBuffers
        stride: 8
      class: IntField
      name: EndAddr
      mode: RW
      sizeBits: 64
    #########################################################
    WrAddr:
      at:
        offset: 0x400
        nelms: *numBuffers
        stride: 8
      class: IntField
      name: WrAddr
      mode: RO
      sizeBits: 64
    #########################################################
    TriggerAddr:
      at:
        offset: 0x600
        nelms: *numBuffers
        stride: 8
      class: IntField
      name: TriggerAddr
      mode: RO
      sizeBits: 64
    #########################################################
    Enabled:
      at:
        offset: 0x800
        nelms: *numBuffers
        stride: 4
      class: IntField
      name: Enabled
      mode: RW
      lsBit: 0
      sizeBits: 1
    #########################################################
    Mode:
      at:
        offset: 0x800
        nelms: *numBuffers
        stride: 4
      class: IntField
      name: Mode
      mode: RW
      lsBit: 1
      sizeBits: 1
      enums:
        - name: Wrap
          class: Enum
          value: 0
        - name: DoneWhenFull
          class: Enum
          value: 1
    ##########################################################
    Init:
      at:
        offset: 0x800
        nelms: *numBuffers
        stride: 4
      class: IntField
      name: Init
      mode: RW
      lsBit: 2
      sizeBits: 1
      hidden: true
    #########################################################
    SoftTrigger:
      at:
        offset: 0x800
        nelms: *numBuffers
        stride: 4
      class: IntField
      name: SoftTrigger
      mode: RW
      lsBit: 3
      sizeBits: 1
      hidden: true
    #########################################################
    MsgDest:
      at:
        offset: 0x800
        nelms: *numBuffers
        stride: 4
      class: IntField
      name: MsgDest
      mode: RW
      lsBit: 4
      sizeBits: 4
      enums: *destEnums
      hidden: true
    #########################################################
    FramesAfterTrigger:
      at:
        offset: 0x802
        nelms: *numBuffers
        stride: 4
      class: IntField
      name: FramesAfterTrigger
      mode: RW
      lsBit: 0
      sizeBits: 16
    #########################################################
    Status:
      at:
        offset: 0xA00
        nelms: *numBuffers
        stride: 4
      class: IntField
      name: Status
      mode: RO
      sizeBits: 32
      lsBit: 0
      description: Include all of the status bits in one access
    #########################################################
    Empty:
      at:
        offset: 0xA00
        nelms: *numBuffers
        stride: 4
      class: IntField
      name: Empty
      mode: RO
      sizeBits: 1
      lsBit: 0
    #########################################################
    Full:
      at:
        offset: 0xA00
        nelms: *numBuffers
        stride: 4
      class: IntField
      name: Full
      mode: RO
      sizeBits: 1
      lsBit: 1
    #########################################################
    Done:
      at:
        offset: 0xA00
        stride: 4
        nelms: *numBuffers
      class: IntField
      name: Done
      mode: RO
      sizeBits: 1
      lsBit: 2
    #########################################################
    Triggered:
      at:
        offset: 0xA00
        nelms: *numBuffers
        stride: 4
      class: IntField
      name: Triggered
      mode: RO
      sizeBits: 1
      lsBit: 3
    #########################################################
    Error:
      at:
        offset: 0xA00
        nelms: *numBuffers
        stride: 4
      class: IntField
      name: Error
      mode: RO
      sizeBits: 1
      lsBit: 4
    #########################################################
    BurstSize:
      at:
        offset: 0xA01 # Same constant value for every buffer so only define one
      class: IntField
      name: BurstSize
      mode: RO
      sizeBits: 4
      lsBit: 0
    #########################################################
    FramesSinceTrigger:
      at:
        offset: 0xA02
        nelms: *numBuffers
        stride: 4
      class: IntField
      name: FramesSinceTrigger
      mode: RO
      sizeBits: 16
      lsBit: 0
    #########################################################
    Initialize:
      name: Initialize
      class: SequenceCommand
      at:
        offset: 0x0
      description: "Initialize the buffer. Reset the write pointer to StartAddr. Clear the Done field."
      nelms: *numBuffers
      sequence:
      - entry: Init[0]
        value: 0x1
      - entry: Init[1]
        value: 0x1
      - entry: Init[2]
        value: 0x1
      - entry: Init[3]
        value: 0x1
      - entry: Init[0]
        value: 0x0
      - entry: Init[1]
        value: 0x0
      - entry: Init[2]
        value: 0x0
      - entry: Init[3]
        value: 0x0
    #########################################################
    C_SoftTrigger:
      name: C_SoftTrigger
      class: SequenceCommand
      at:
        offset: 0x0
      description: Send a trigger to the buffer
      nelms: *numBuffers
      sequence:
      - entry: SoftTrigger
        value: 0x1
      - entry: SoftTrigger
        value: 0x0
    #########################################################
    SoftTriggerAll:
      name: SoftTriggerAll
      class: SequenceCommand
      at:
        offset: 0x0
      description: Send a trigger to the buffer
      sequence:
      - entry: SoftTrigger
        value: 1

BsaBufferControl: &BsaBufferControl
  description: Configuration and status of the BSA dignosic buffers
  class: MMIODev
  configPrio: 1
  size: 0x2000 # Double check this
  #########
  children:
    Timestamps:
      at:
        offset: 0x00000000
      size: 512 # 64 64-bit values
      class: MMIODev
      configPrio: 1
      children:
        MemoryArray:
          <<: *MemoryArray
          at:
            offset: 0x0
            stride: 8
            nelms: 64
          sizeBits: 64
          mode: RO
    BsaBuffers:
      at:
        offset: 0x00001000
      <<: *AxiStreamDmaRingWrite
      metadata:
        numBuffers: &BsaBufferControlNelms 64
        destEnums: &BsaBufferControlEnums
          - name: Software
            value: 0
        destHidden: &BsaBufferControlHidden true
      children:
        StartAddr:
          class: IntField
          at:
            nelms: *BsaBufferControlNelms
        EndAddr:
          class: IntField
          at:
            nelms: *BsaBufferControlNelms
        WrAddr:
          class: IntField
          at:
            nelms: *BsaBufferControlNelms
        TriggerAddr:
          class: IntField
          at:
            nelms: *BsaBufferControlNelms
        Enabled:
          class: IntField
          at:
            nelms: *BsaBufferControlNelms
        Mode:
          class: IntField
          at:
            nelms: *BsaBufferControlNelms
        Init:
          class: IntField
          at:
            nelms: *BsaBufferControlNelms
        SoftTrigger:
          class: IntField
          at:
            nelms: *BsaBufferControlNelms
        MsgDest:
          class: IntField
          at:
            nelms: *BsaBufferControlNelms
          enums: *BsaBufferControlEnums
        FramesAfterTrigger:
          class: IntField
          at:
            nelms: *BsaBufferControlNelms
        Status:
          class: IntField
          at:
            nelms: *BsaBufferControlNelms
        Empty:
          class: IntField
          at:
            nelms: *BsaBufferControlNelms
        Full:
          class: IntField
          at:
            nelms: *BsaBufferControlNelms
        Done:
          class: IntField
          at:
            nelms: *BsaBufferControlNelms
        Triggered:
          class: IntField
          at:
            nelms: *BsaBufferControlNelms
        Error:
          class: IntField
          at:
            nelms: *BsaBufferControlNelms
        FramesSinceTrigger:
          class: IntField
          at:
            nelms: *BsaBufferControlNelms

Device: &BsaWaveformEngine
  name: BsaWaveformEngine
  class: MMIODev
  configPrio: 1
  description: Configuration and status of the BSA dignosic buffers
  size: 0x1000 
  metadata:
    numBuffers: &BsaWaveformNelms 4
    destHidden: &BsaWaveformHidden false
    destEnums: &BsaWaveformEnums
      - name: Software
        value: 0
      - name: Auto-Readout
        value: 1
  #########
  children:
    WaveformEngineBuffers:
      <<: *AxiStreamDmaRingWrite
      at:
        offset: 0x00000000
#      children:
#        StartAddr:
#          at:
#            nelms: *BsaWaveformNelms
#        EndAddr:
#          at:
#            nelms: *BsaWaveformNelms
#        WrAddr:
#          at:
#            nelms: *BsaWaveformNelms
#        TriggerAddr:
#          at:
#            nelms: *BsaWaveformNelms
#        Enabled:
#          at:
#            nelms: *BsaWaveformNelms
#        Mode:
#          at:
#            nelms: *BsaWaveformNelms
#        SoftTrigger:
#          at:
#            nelms: *BsaWaveformNelms
#        MsgDest:
#          at:
#            nelms: *BsaWaveformNelms
#          enums: *BsaWaveformEnums
#        FramesAfterTrigger:
#          at:
#            nelms: *BsaWaveformNelms
#        Empty:
#          at:
#            nelms: *BsaWaveformNelms
#        Full:
#          at:
#            nelms: *BsaWaveformNelms
#        Done:
#          at:
#            nelms: *BsaWaveformNelms
#        Triggered:
#          at:
#            nelms: *BsaWaveformNelms
#        Error:
#          at:
#            nelms: *BsaWaveformNelms
#        FramesSinceTrigger:
#          at:
#            nelms: *BsaWaveformNelms

BldAxiStream: &BldAxiStream 
  class: MMIODev
  configPrio: 1
  description: Beamline data streaming module for AMC Carrier
  size: 0x10000
  ########
  children:
  ########
    PacketSize:
      at:
        offset: 0x0000
      class: IntField
      name: PacketSize
      sizeBits: 12
      lsBit: 0
      mode: RW
      description: BLD max packet size in words
    ##################################################
    Enable:
      at:
        offset: 0x0003
      class: IntField
      name: Enable
      sizeBits: 1
      lsBit: 7
      mode: RW
      description: Enable BLD packet streaming
    ##################################################
    ChannelMask:
      at:
        offset: 0x0004
      class: IntField
      name: ChannelMask
      sizeBits: 31
      lsBit: 0
      mode: RW
      description: BLD diagnostic channel selection
    ##################################################
    ChannelSevr:
      at:
        offset: 0x0008
      class: IntField
      name: ChannelSevr
      sizeBits: 62
      lsBit: 0
      mode: RW
      description: BLD diagnostic channel severity limit
    ##################################################
    WordCount:
      at:
        offset: 0x0010
      class: IntField
      name: WordCount
      sizeBits: 12
      lsBit: 0
      mode: RO
      description: current BLD packet word count
    ##################################################
    TxState:
      at:
        offset: 0x0012
      class: IntField
      name: TxState
      sizeBits: 4
      lsBit: 0
      mode: RO
      description: BLD Tx State
    ##################################################
    PulseIdL:
      at:
        offset: 0x0014
      class: IntField
      name: PulseIdL
      sizeBits: 20
      lsBit: 0
      mode: RO
      description: BLD PulseID latch
    ##################################################
    TimeStampL:
      at:
        offset: 0x0018
      class: IntField
      name: TimeStampL
      sizeBits: 32
      lsBit: 0
      mode: RO
      description: BLD TimeStamp latch
    ##################################################
    Delta:
      at:
        offset: 0x001C
      class: IntField
      name: Delta
      sizeBits: 32
      lsBit: 0
      mode: RO
      description: BLD Pulse Delta
    ##################################################
    PacketCount:
      at:
        offset: 0x0020
      class: IntField
      name: Delta
      sizeBits: 20
      lsBit: 0
      mode: RO
      description: BLD Packet Count
    ##################################################
    Paused:
      at:
        offset: 0x0023
      class: IntField
      name: Delta
      sizeBits: 1
      lsBit: 7
      mode: RO
      description: BLD Paused
    ##################################################

AmcCarrierBsa: &AmcCarrierBsa 
  name: AmcCarrierBsa
  class: MMIODev
  configPrio: 1
  description: AmcCarrier BSA Module
  size: 0x40000
  #########
  children:
    BsaBufferControl:
      <<: *BsaBufferControl
      at:
        offset: 0x00000000
    BsaWaveformEngine:
      <<: *BsaWaveformEngine
      at:
        offset: 0x00010000
        nelms: 2
        stride: 0x00010000
    BldAxiStream:
      <<: *BldAxiStream
      at:
        offset: 0x00030000

EthMacPhy: &EthMacPhy
  class: MMIODev
  configPrio: 1
  description: EthMacPhy
  size: 0x1000
  children:
    #########################################################
    StatusCounters:
      at:
        offset: 0x000
        nelms: 32
      class: IntField
      mode: RO
      description: Status Counters
    #########################################################
    StatusVector:
      at:
        offset: 0x100
      class: IntField
      sizeBits: 32
      mode: RO
      description: Status Vector
    #########################################################
    CoreStatusVector:
      at:
        offset: 0x108
      class: IntField
      sizeBits: 16
      mode: RO
      description: Status Vector of Xilinx PCS/PMA IP Core
    #########################################################
    MacAddress:
      at:
        offset: 0x200
      class: IntField
      sizeBits: 48
      mode: RO
      description: MAC Address (big-Endian)
    #########################################################
    PauseTime:
      at:
        offset: 0x21C
      class: IntField
      sizeBits: 16
      mode: RO
      description: PauseTime
    #########################################################
    FilterEnable:
      at:
        offset: 0x228
      class: IntField
      sizeBits: 1
      mode: RO
      description: FilterEnable
    #########################################################
    PauseEnable:
      at:
        offset: 0x22C
      class: IntField
      sizeBits: 1
      mode: RO
      description: PauseEnable
    #########################################################
    RollOverEn:
      at:
        offset: 0xF00
      class: IntField
      sizeBits: 32
      mode: RW
      description: RollOverEn
    #########################################################
    CounterReset:
      at:
        offset: 0xFF4
      class: IntField
      sizeBits: 1
      mode: WO
      description: CounterReset
    #########################################################
    SoftReset:
      at:
        offset: 0xFF8
      class: IntField
      sizeBits: 1
      mode: WO
      description: SoftReset
    #########################################################
    HardReset:
      at:
        offset: 0xFFC
      class: IntField
      sizeBits: 1
      mode: WO
      description: HardReset
    #########################################################

UdpEngineClient: &UdpEngineClient 
  description: UdpEngineClient 
  class: MMIODev
  configPrio: 1
  size: 0x8
  #########
  children:
  #########
    #########################################################
    ClientRemotePort:
      at:
        offset: 0x00
        byteOrder: BE
      class: IntField
      sizeBits: 16      
      mode: RW
      description: ClientRemotePort
    #########################################################
    ClientRemoteIp:
      at:
        offset: 0x04
        byteOrder: BE
      class: IntField
      sizeBits: 32      
      mode: RW
      description: ClientRemoteIp
    #########################################################

UdpEngineServer: &UdpEngineServer 
  description: UdpEngineServer 
  class: MMIODev
  configPrio: 1
  size: 0x8
  #########
  children:
  #########
    #########################################################
    ServerRemotePort:
      at:
        offset: 0x00
        byteOrder: BE
      class: IntField
      sizeBits: 16      
      mode: RO
      description: ServerRemotePort
    #########################################################
    ServerRemoteIp:
      at:
        offset: 0x04
        byteOrder: BE
      class: IntField
      sizeBits: 32      
      mode: RO
      description: ServerRemoteIp
    #########################################################

RssiCore: &RssiCore
  class: MMIODev
  configPrio: 1
  description: RSSI module
  size: 0x100
  children:
    OpenConn:
      at:
        offset: 0x00
      class: IntField
      name: OpenConn
      sizeBits: 1
      lsBit: 0
      mode: RW
      description: Open Connection Request (Server goes to listen state, Client actively
        requests the connection by sending SYN segment)
    CloseConn:
    #########################################################
      at:
        offset: 0x00
      class: IntField
      name: CloseConn
      sizeBits: 1
      lsBit: 1
      mode: RW
      description: Close Connection Request (Send a RST Segment to peer and close
        the connection)
    Mode:
    #########################################################
      at:
        offset: 0x00
      class: IntField
      name: Mode
      sizeBits: 1
      lsBit: 2
      mode: RW
      description: 'Mode:''0'': Use internal parameters from generics,''1'': Use parameters
        from registers'
    HeaderChksumEn:
    #########################################################
      at:
        offset: 0x00
      class: IntField
      name: HeaderChksumEn
      sizeBits: 1
      lsBit: 3
      mode: RW
      description: 'Header checksum: ''1'': Enable calculation and check, ''0'': Disable
        check and insert 0 in place of header checksum'
    InjectFault:
    #########################################################
      at:
        offset: 0x00
      class: IntField
      name: InjectFault
      sizeBits: 1
      lsBit: 4
      mode: RW
      description: Inject fault to the next packet header checksum (Default '0').
        Acts on rising edge - injects exactly one fault in next segment
    InitSeqN:
    #########################################################
      at:
        offset: 0x04
      class: IntField
      name: InitSeqN
      sizeBits: 8
      mode: RW
      description: Initial sequence number [7:0]
    Version:
    #########################################################
      at:
        offset: 0x08
      class: IntField
      name: Version
      sizeBits: 4
      mode: RW
      description: Version register [3:0]
    MaxOutsSeg:
    #########################################################
      at:
        offset: 0x0C
      class: IntField
      name: MaxOutsSeg
      sizeBits: 8
      mode: RW
      description: Maximum out standing segments [7:0]
    MaxSegSize:
    #########################################################
      at:
        offset: 0x10
      class: IntField
      name: MaxSegSize
      sizeBits: 16
      mode: RW
      description: Maximum segment size [15:0]
    RetransTimeout:
    #########################################################
      at:
        offset: 0x14
      class: IntField
      name: RetransTimeout
      sizeBits: 16
      mode: RW
      description: Retransmission timeout [15:0]
    CumAckTimeout:
    #########################################################
      at:
        offset: 0x18
      class: IntField
      name: CumAckTimeout
      sizeBits: 16
      mode: RW
      description: Cumulative acknowledgment timeout [15:0]
    NullSegTimeout:
    #########################################################
      at:
        offset: 0x1C
      class: IntField
      name: NullSegTimeout
      sizeBits: 16
      mode: RW
      description: Null segment timeout [15:0]
    MaxNumRetrans:
    #########################################################
      at:
        offset: 0x20
      class: IntField
      name: MaxNumRetrans
      sizeBits: 8
      mode: RW
      description: Maximum number of retransmissions [7:0]
    MaxCumAck:
    #########################################################
      at:
        offset: 0x24
      class: IntField
      name: MaxCumAck
      sizeBits: 8
      mode: RW
      description: Maximum cumulative acknowledgments [7:0]
    MaxOutOfSeq:
    #########################################################
      at:
        offset: 0x28
      class: IntField
      name: MaxOutOfSeq
      sizeBits: 8
      mode: RW
      description: Max out of sequence segments (EACK) [7:0]
    ConnectionActive:
    #########################################################
      at:
        offset: 0x40
      class: IntField
      name: ConnectionActive
      sizeBits: 1
      lsBit: 0
      mode: RO
      description: Connection Active
    ErrMaxRetrans:
    #########################################################
      at:
        offset: 0x40
      class: IntField
      name: ErrMaxRetrans
      sizeBits: 1
      lsBit: 1
      mode: RO
      description: Maximum retransmissions exceeded retransMax.
    ErrNullTout:
    #########################################################
      at:
        offset: 0x40
      class: IntField
      name: ErrNullTout
      sizeBits: 1
      lsBit: 2
      mode: RO
      description: Null timeout reached (server) nullTout.
    ErrAck:
    #########################################################
      at:
        offset: 0x40
      class: IntField
      name: ErrAck
      sizeBits: 1
      lsBit: 3
      mode: RO
      description: Error in acknowledgment mechanism.
    ErrSsiFrameLen:
    #########################################################
      at:
        offset: 0x40
      class: IntField
      name: ErrSsiFrameLen
      sizeBits: 1
      lsBit: 4
      mode: RO
      description: SSI Frame length too long
    ErrConnTout:
    #########################################################
      at:
        offset: 0x40
      class: IntField
      name: ErrConnTout
      sizeBits: 1
      lsBit: 5
      mode: RO
      description: 'Connection to peer timed out. Timeout defined in generic PEER_CONN_TIMEOUT_G
        (Default: 1000 ms)'
    ParamRejected:
    #########################################################
      at:
        offset: 0x40
      class: IntField
      name: ParamRejected
      sizeBits: 1
      lsBit: 6
      mode: RO
      description: Client rejected the connection (parameters out of range), Server
        proposed new parameters (parameters out of range)
    ValidCnt:
    #########################################################
      at:
        offset: 0x44
      class: IntField
      name: ValidCnt
      sizeBits: 32
      mode: RO
      description: Number of valid segments [31:0]
    DropCnt:
    #########################################################    
      at:
        offset: 0x48
      class: IntField
      name: DropCnt
      sizeBits: 32
      mode: RO
      description: Number of dropped segments [31:0]
    RetransmitCnt:
    #########################################################
      at:
        offset: 0x4C
      class: IntField
      name: RetransmitCnt
      sizeBits: 32
      mode: RO
      description: Counts all retransmission requests within the active connection
        [31:0]
    ReconnectCnt:
    #########################################################    
      at:
        offset: 0x50
      class: IntField
      name: ReconnectCnt
      sizeBits: 32
      mode: RO
      description: Counts all reconnections from reset [31:0]
    FrameRate:
    #########################################################    
      at:
        offset: 0x54
        nelms: 2
        stride: 4
      class: IntField
      name: FrameRate
      sizeBits: 32
      mode: RO
      description: Frame Rate (in units of Hz)
    #########################################################    
    Bandwidth:
      at:
        offset: 0x5C
        nelms: 2
        stride: 8
      class: IntField
      sizeBits: 64
      mode: RO
      description: Bandwidth (in units of bytes per second)
    #########################################################    
    C_OpenConn:
      class: SequenceCommand
      at:
        offset: 0x0
      description: Open connection request
      sequence:
      - entry: OpenConn
        value: 0x1
      - entry: OpenConn
        value: 0x0
    #########################################################
    C_CloseConn:
      class: SequenceCommand
      at:
        offset: 0x0
      description: Close connection request
      sequence:
      - entry: CloseConn
        value: 0x1
      - entry: CloseConn
        value: 0x0
    #########################################################
    C_InjectFault:
      class: SequenceCommand
      at:
        offset: 0x0
      description: Inject a single fault(for debug and test purposes only). Corrupts
        checksum during transmission
      sequence:
      - entry: InjectFault
        value: 0x1
      - entry: InjectFault
        value: 0x0

AxiMemTester: &AxiMemTester
  name: AxiMemTester
  description: AXI4 Memory Tester Module
  class: MMIODev
  configPrio: 1
  size: 0x1000
  children:
    Passed:
      at:
        offset: 0x100
      class: IntField
      name: Passed
      mode: RO
      lsBit: 0
      sizeBits: 1
      description: Passed Memory Test
    Failed:
    #########################################################
      at:
        offset: 0x104
      class: IntField
      name: Failed
      mode: RO
      lsBit: 0
      sizeBits: 1
      description: Failed Memory Test
    WriteTimer:
    ######################################################### 
      at:
        offset: 0x108
      class: IntField
      name: WriteTimer
      mode: RO
      lsBit: 0
      sizeBits: 32
      description: Write Timer
    ReadTimer:
    #########################################################   
      at:
        offset: 0x10C
      class: IntField
      name: ReadTimer
      mode: RO
      lsBit: 0
      sizeBits: 32
      description: Read Timer
    StartAddress:
    #########################################################   
      at:
        offset: 0x110
      class: IntField
      name: StartAddress
      mode: RO
      lsBit: 0
      sizeBits: 64
      description: Start Address
    StopAddress:
    #########################################################    
      at:
        offset: 0x118
      class: IntField
      name: StopAddress
      mode: RO
      lsBit: 0
      sizeBits: 64
      description: Stop Address
    ADDR_WIDTH_C:
    #########################################################   
      at:
        offset: 0x120
      class: IntField
      name: ADDR_WIDTH_C
      mode: RO
      lsBit: 0
      sizeBits: 32
      description: AXI4 Address Bus Width (units of bits)
    DATA_BYTES_C:
    #########################################################   
      at:
        offset: 0x124
      class: IntField
      name: DATA_BYTES_C
      mode: RO
      lsBit: 0
      sizeBits: 32
      description: AXI4 Data Bus Width (units of bits)
    ID_BITS_C:
    #########################################################  
      at:
        offset: 0x128
      class: IntField
      name: ID_BITS_C
      mode: RO
      lsBit: 0
      sizeBits: 32
      description: AXI4 ID Bus Width (units of bits)

AppMpsSalt: &AppMpsSalt
  name: AppMpsSalt
  description: AmcCarrier MPS PHY Module
  class: MMIODev
  configPrio: 1
  size: 0x1000
  children:
    #########################################################
    MpsTxLinkUpCnt:
      at:
        offset: 0x000
      class: IntField
      name: MpsTxLinkUpCnt
      mode: RO
      sizeBits: 32
      description: MPS TX LinkUp Counter
    #########################################################
    MpsRxLinkUpCnt:
      at:
        offset: 0x004
        stride: 4
        nelms: 14
      class: IntField
      name: MpsRxLinkUpCnt
      mode: RO
      sizeBits: 32
      description: MPS RX LinkUp Counter[13:0]
    #########################################################
    MpsTxPktSentCnt:
      at:
        offset: 0x080
      class: IntField
      name: MpsTxPktSentCnt
      mode: RO
      sizeBits: 32
      description: MPS TX Packet Sent Counter
    #########################################################
    MpsRxPktRcvdCnt:
      at:
        offset: 0x084
        stride: 4
        nelms: 14
      class: IntField
      name: MpsRxPktRcvdCnt
      mode: RO
      sizeBits: 32
      description: MPS RX Packet Received Counter[13:0]  
    #########################################################
    MpsTxEofeSentCnt:
      at:
        offset: 0x100
      class: IntField
      name: MpsTxEofeSentCnt
      mode: RO
      sizeBits: 32
      description: MPS TX EOFE Sent Counter    
    #########################################################
    MpsRxErrDetCnt:
      at:
        offset: 0x104
        stride: 4
        nelms: 14
      class: IntField
      name: MpsRxErrDetCnt
      mode: RO
      sizeBits: 32
      description: MPS RX Error Detected Counter[13:0]        
    #########################################################
    MpsTxPktPeriod:
      at:
        offset: 0x180
      class: IntField
      name: MpsTxPktPeriod
      mode: RO
      sizeBits: 32
      description: MPS TX Period between packets
    #########################################################
    MpsRxPktPeriod:
      at:
        offset: 0x184
        stride: 4
        nelms: 14
      class: IntField
      name: MpsRxPktPeriod
      mode: RO
      sizeBits: 32
      description: Min MPS RX[13:0] Period between packets    
    #########################################################
    MpsTxPktPeriodMax:
      at:
        offset: 0x200
      class: IntField
      name: MpsTxPktPeriodMax
      mode: RO
      sizeBits: 32
      description: Max MPS TX Period between packets
    #########################################################
    MpsRxPktPeriodMax:
      at:
        offset: 0x204
        stride: 4
        nelms: 14
      class: IntField
      name: MpsRxPktPeriodMax
      mode: RO
      sizeBits: 32
      description: Max MPS RX[13:0] Period between packets    
    #########################################################  
    MpsTxPktPeriodMin:
      at:
        offset: 0x280
      class: IntField
      name: MpsTxPktPeriodMin
      mode: RO
      sizeBits: 32
      description: Min MPS TX Period between packets
    #########################################################
    MpsRxPktPeriodMin:
      at:
        offset: 0x284
        stride: 4
        nelms: 14
      class: IntField
      name: MpsRxPktPeriodMin
      mode: RO
      sizeBits: 32
      description: Min MPS RX[13:0] Period between packets    
    #########################################################      
    MpsTxLinkUP:
      at:
        offset: 0x700
      class: IntField
      name: MpsTxLinkUP
      mode: RO
      lsBit: 0
      sizeBits: 1
      description: MPS TX LinkUp
    #########################################################
    MpsRxLinkUP:
      at:
        offset: 0x700
      class: IntField
      name: MpsRxLinkUP
      mode: RO
      lsBit: 1
      sizeBits: 14
      description: MPS TX LinkUp[13:0]
    #########################################################
    MPS_SLOT_G:
      at:
        offset: 0x704
      class: IntField
      name: MPS_SLOT_G
      mode: RO
      lsBit: 0
      sizeBits: 1
      description: MPS_SLOT_G
    #########################################################
    APP_TYPE_G:
      at:
        offset: 0x708
      class: IntField
      name: APP_TYPE_G
      mode: RO
      lsBit: 0
      sizeBits: 7
      description: See AmcCarrierPkg.vhd for defination
    #########################################################
    MpsPllLocked:
      at:
        offset: 0x714
      class: IntField
      name: MpsPllLocked
      mode: RO
      lsBit: 0
      sizeBits: 1
      description: MPS PLL Lock Status
    #########################################################
    DiagnosticStrbCnt:
      at:
        offset: 0x718
      class: IntField
      name: MpsPllLocked
      mode: RO
      lsBit: 0
      sizeBits: 32
      description: Counts the diagnostic strobes     
    #########################################################
    RollOverEn:
      at:
        offset: 0xFF0
      class: IntField
      name: RollOverEn
      mode: RW
      lsBit: 0
      sizeBits: 15
      description: Status Counter Roll Over Enable
    #########################################################
    CntRst:
      at:
        offset: 0xFF4
      class: IntField
      name: CntRst
      mode: WO
      lsBit: 0
      # sizeBits: 1
      # CPSW requires all WO variables to be 32-bit size and 32-bit aligned
      sizeBits: 32          
      description: Status Counter Reset
    #########################################################
    PllRst:
      at:
        offset: 0xFF8
      class: IntField
      name: PllRst
      mode: WO
      lsBit: 0
      # sizeBits: 1
      # CPSW requires all WO variables to be 32-bit size and 32-bit aligned
      sizeBits: 32          
      description: PLL Reset      
    #########################################################
    RstCnt:
      name: RstCnt
      class: SequenceCommand
      at:
        offset: 0x0
      description: Reset all the status counters
      sequence:
      - entry: CntRst
        value: 0x1      
    #########################################################
    RstPll:
      name: RstPll
      class: SequenceCommand
      at:
        offset: 0x0
      description: PLL Reset Command
      sequence:
      - entry: PllRst
        value: 0x1      
    #########################################################

AppMpsRegBase: &AppMpsRegBase
  class: MMIODev
  configPrio: 1
  description: Mps application base registers
  size: 0x10000
  children:
    mpsAppId:
      at:
        offset:     0x00
      class:        IntField
      sizeBits:     10
      lsBit:        0
      mode:         RW
      description:  Application ID
    mpsEnable:
      at:
        offset:     0x02
      class:        IntField
      sizeBits:     1
      lsBit:        0
      mode:         RW
      description:  Mps enable
    lcls1Mode:
      at:
        offset:     0x02
      class:        IntField
      sizeBits:     1
      lsBit:        1
      mode:         RW
      description:  True = LCLS1, False = LCLS2 mode
    mpsVersion:
      at:
        offset:     0x03
      class:        IntField
      sizeBits:     6
      lsBit:        0
      mode:         RW
      description:  MPS Version
    byteCount:
      at:
        offset:     0x04
      class:        IntField
      sizeBits:     8
      lsBit:        0
      mode:         RO
      description:  Number of bytes in MPS message
    digitalEn:
      at:
        offset:     0x05
      class:        IntField
      sizeBits:     1
      lsBit:        0
      mode:         RO
      description:  Application generates digital message
    lcls2Count:
      at:
        offset:     0x06
      class:        IntField
      sizeBits:     8
      lsBit:        0
      mode:         RO
      description:  Number of bytes in LCLS2 MPS message
    lcls1Count:
      at:
        offset:     0x07
      class:        IntField
      sizeBits:     8
      lsBit:        0
      mode:         RO
      description:  Number of bytes in LCLS1 MPS message
    beamDestMask:
      at:
        offset:     0x08
      class:        IntField
      sizeBits:     16
      lsBit:        0
      mode:         RW
      description:  One bit per destination for BPM or kicker not idle for idelEn=true
    altDestMask:
      at:
        offset:     0x0A
      class:        IntField
      sizeBits:     16
      lsBit:        0
      mode:         RW
      description:  One bit per destination for alternative table for altEn=true
    mpsMsgDropCnt:
      at:
        offset:     0x0C
      class:        IntField
      sizeBits:     32
      lsBit:        0
      mode:         RO
      description:  Mps drop message counter
    mpsMsgCount:
      at:
        offset:     0x10
      class:        IntField
      sizeBits:     32
      lsBit:        0
      mode:         RO
      description:  Mps message counter
    lastMsgAppId:
      at:
        offset:     0x14
      class:        IntField
      sizeBits:     10
      lsBit:        0
      mode:         RO
      description:  APP ID in the last message
    lastMsgLcls:
      at:
        offset:     0x15
      class:        IntField
      sizeBits:     1
      lsBit:        2
      mode:         RO
      description:  LCLS flag in the last message
    lastMsgTimeStamp:
      at:
        offset:     0x16
      class:        IntField
      sizeBits:     16
      lsBit:        0
      mode:         RO
      description:  Timestamp in the last message
    lastMsgByte:
      at:
        offset:     0x18
        nelms:      6
        stride:     1
      class:        IntField
      sizeBits:     8
      mode:         RO
      description:  Bytes from the last message

threshold: &threshold
  class: MMIODev
  configPrio: 1
  description: Threshold duplex
  size: 0x10
  children:
    minEn:
      at:
        offset:    0x00
      class:       IntField
      sizeBits:    1
      lsBit:       0
      mode:        RW
      description: Minimun threshold enable
    maxEn:
      at:
        offset:    0x00
      class:       IntField
      sizeBits:    1
      lsBit:       1
      mode:        RW
      description: Maximun threshold enable
    min:
      at:
        offset:    0x04
      class:       IntField
      sizeBits:    32
      lsBit:       0
      mode:        RW
      description: Minimun threshold
    max:
      at:
        offset:    0x08
      class:       IntField
      sizeBits:    32
      lsBit:       0
      mode:        RW
      description: Maximum threshold


channel: &channel
  class: MMIODev
  configPrio: 1
  description: threshold channel
  size: 0x200
  children:
    thresholdCount:
      at:
        offset:     0
      class:        IntField
      sizeBits:     8
      lsBit:        0
      mode:         RO
      description:  Number of thresholds enabled
    idleEn:
      at:
        offset:     1
      class:        IntField
      sizeBits:     1
      lsBit:        0
      mode:         RW
      description:  Idle threshold table enable
    altEn:
      at:
        offset:     1
      class:        IntField
      sizeBits:     1
      lsBit:        1
      mode:         RO
      description:  Alt threshold table enable      
    lcls1En:
      at:
        offset:     1
      class:        IntField
      sizeBits:     1
      lsBit:        2
      mode:         RO
      description:  LCLS-1 threshold table enable
    byteMap:
      at:
        offset:     2
      class:        IntField
      sizeBits:     8
      lsBit:        0
      mode:         RO
      description:  Idle threshold table enable
    lcls1Thr:
      <<: *threshold
      at:
        offset: 0x10
        nelms:  1
    idleThr:
      <<: *threshold
      at:
        offset: 0x20
        nelms:  1
    stdThr:
      <<: *threshold
      at:
        offset: 0x100
        nelms:  8
        stride: 0x10
    altThr:
      <<: *threshold
      at:
        offset: 0x180
        nelms:  8
        stride: 0x10

AppMpsRegAppCh: &AppMpsRegAppCh
  class: MMIODev
  configPrio: 1
  description: Mps application application channel registers
  size: 0x10000
  children:
    channel:
      <<: *channel
      at:
        offset: 0x000
        nelms:  24
        stride: 0x200
AppMps: &AppMps
  name: AppMps
  description: AppMps
  class: MMIODev
  size: 0x01000000
  ########
  children:
  ########
    ##################################################
    AppMpsSalt:
      <<: *AppMpsSalt
      at:
        offset: 0x00000000
    ##################################################
    AppMpsRegBase:
      <<: *AppMpsRegBase
      at:
        offset: 0x00010000
    ##################################################
    AppMpsRegAppCh:
      <<: *AppMpsRegAppCh
      at:
        offset: 0x00018000
    ##################################################
AxiCdcm6208: &AxiCdcm6208 
  class: MMIODev
  configPrio: 1
  description: "AxiCdcm6208 Module"
  size: 0x00100
  #########
  children:
  #########
    #########################################################
    #
    #   Control registers
    #
    #########################################################
    Cdcm6208:
      class: IntField
      at:
        offset: 0x000
        stride: 4
        nelms: 21
      sizeBits: 32
      mode: RW
      description: "Cdcm6208 Control Registers"
    #########################################################
    #
    #   Status registers
    #
    #########################################################
    SEL_REF:
      class: IntField
      at:
        offset: 0x054
      lsBit: 0
      sizeBits: 1
      mode: RO
      description: "Indicates Reference Selected for PLL:0 SEL_REF 0 => Primary 1 => Secondary"
    ##########################################################
    LOS_REF:
      class: IntField
      at:
        offset: 0x054
      lsBit: 1
      sizeBits: 1
      mode: RO
      description: "Loss of reference input: 0 => Reference input present 1 => Loss of reference input."
    ##########################################################
    PLL_UNLOCK:
      class: IntField
      at:
        offset: 0x054
      lsBit: 2
      sizeBits: 1
      mode: RO
      description: "Indicates unlock status for PLL (digital):0 => PLL locked 1 => PLL unlocked"
    #########################################################
    DIE_REVISION:
      class: IntField
      at:
        offset: 0x0A0
      lsBit: 0
      sizeBits: 3
      mode: RO
      description: "Indicates the silicon die revision (Read only): 2:0 DIE_REVISION 00X --> Engineering Prototypes 010 --> Production Materia"
    #########################################################
    VCO_VERSION:
      class: IntField
      at:
        offset: 0x0A0
      lsBit: 3
      sizeBits: 3
      mode: RO
      description: "Indicates the device version (Read only):5:3 VCO_VERSION 000 => CDCM6208V1 001 => CDCM6208V2"
    #########################################################
    

AmcCarrierCore: &AmcCarrierCore 
  name: AmcCarrierCore
  description: AmcCarrierCore
  class: MMIODev
  configPrio: 1
  size: 0x80000000 # 2GB address space for core firmware
  ######### 
  children:
  ######### 
    ##################################################
    AMC_CARRIER_CORE_VERSION_C:
      at:
        offset: 0x00000400
      class: IntField
      mode: RO
      description: AMC Carrier Core Version Number
    ##################################################
    CPSW_TARBALL_ADDR_C:
      at:
        offset: 0x00000404
      class: IntField
      mode: RO
      description: PROM MCS CPSW tarball base address
    ##################################################
    AxiVersion:
      <<: *AxiVersion
      at:
        offset: 0x00000000
    ##################################################
    AxiSysMonUltraScale:
      <<: *AxiSysMonUltraScale
      at:
        offset: 0x01000000
    ##################################################
    AxiMicronN25Q:
      <<: *AxiMicronN25Q
      at:
        offset: 0x02000000  
    ##################################################
    AxiSy56040:
      <<: *AxiSy56040
      at:
        offset: 0x03000000      
      children:
        OutputConfig:
          enums:
            - { name: RTM_TIMING_IN0, value: 0 }
            - { name: FPGA_TIMING_IN, value: 1 }
            - { name: BP_TIMING_IN,   value: 2 }
            - { name: RTM_TIMING_IN1, value: 3 }
          description: "Crossbar Mux Selection"
      description: |
        Timing Crossbar:
        -----------------------------------------------------------------
        OutputConfig[0] = 0x0: Connects RTM_TIMING_OUT0 to RTM_TIMING_IN0
        OutputConfig[0] = 0x1: Connects RTM_TIMING_OUT0 to FPGA_TIMING_IN
        OutputConfig[0] = 0x2: Connects RTM_TIMING_OUT0 to BP_TIMING_IN
        OutputConfig[0] = 0x3: Connects RTM_TIMING_OUT0 to RTM_TIMING_IN1
        -----------------------------------------------------------------
        OutputConfig[1] = 0x0: Connects FPGA_TIMING_OUT to RTM_TIMING_IN0
        OutputConfig[1] = 0x1: Connects FPGA_TIMING_OUT to FPGA_TIMING_IN
        OutputConfig[1] = 0x2: Connects FPGA_TIMING_OUT to BP_TIMING_IN
        OutputConfig[1] = 0x3: Connects FPGA_TIMING_OUT to RTM_TIMING_IN1 
        -----------------------------------------------------------------
        OutputConfig[2] = 0x0: Connects Backplane DIST0 to RTM_TIMING_IN0
        OutputConfig[2] = 0x1: Connects Backplane DIST0 to FPGA_TIMING_IN
        OutputConfig[2] = 0x2: Connects Backplane DIST0 to BP_TIMING_IN
        OutputConfig[2] = 0x3: Connects Backplane DIST0 to RTM_TIMING_IN1
        -----------------------------------------------------------------
        OutputConfig[3] = 0x0: Connects Backplane DIST1 to RTM_TIMING_IN0
        OutputConfig[3] = 0x1: Connects Backplane DIST1 to FPGA_TIMING_IN
        OutputConfig[3] = 0x2: Connects Backplane DIST1 to BP_TIMING_IN
        OutputConfig[3] = 0x3: Connects Backplane DIST1 to RTM_TIMING_IN1
        -----------------------------------------------------------------
    ##################################################
    # Axi24LC64FT:
      # at:
        # offset: 0x04000000
      # class: MMIODev
      # size: 0x2000
      # description: AMC Carrier core's Non-volatile memory (100k endurance)
      # children:
        # MemoryArray:
          # <<: *MemoryArray
          # at:
            # offset: 0x0
            # nelms: 0x800
            # stride: 4
          # sizeBits: 32
      # instantiate: false          
   ##################################################
    # AxiCdcm6208:
      # <<: *AxiCdcm6208
      # at:
        # offset: 0x05000000
    ##################################################
    # DdrSpd:
      # at:
        # offset: 0x06000000
      # size: 0x400
      # class: MMIODev
      # description: Lookup tool at www.micron.com/spd
      # children:
        # MemoryArray:
          # <<: *MemoryArray
          # at:
            # offset: 0x0
            # nelms: 0x100
            # stride: 4
          # sizeBits: 8
          # mode: RO # Read only
    ##################################################
    AmcCarrierBsi:
      <<: *AmcCarrierBsi
      at:
        offset: 0x07000000
    ##################################################  
    AmcCarrierTiming:
      <<: *AmcCarrierTiming
      at:
        offset: 0x08000000
    ##################################################
    AmcCarrierBsa:
      <<: *AmcCarrierBsa
      at:
        offset: 0x09000000
    ##################################################
    BpUdpClient:
      <<: *UdpEngineClient
      at:
        offset: 0x0A000000
      description: "Backplane UDP Client for Application ASYNC Messaging"
    ##################################################
    BpUdpSrvXvc:
      <<: *UdpEngineServer
      at:
        offset: 0x0A000800
      description: "Backplane UDP Server: Xilinx XVC"  
    ##################################################
    BpUdpSrvFsbl:
      <<: *UdpEngineServer
      at:
        offset: 0x0A000808
      description: "Backplane UDP Server: FSBL Legacy SRPv0 register access"    
    ##################################################
    BpUdpSrvRssiAsyncMsg:
      <<: *UdpEngineServer
      at:
        offset: 0x0A000810
      description: "Backplane UDP Server: Legacy Non-interleaved RSSI for Register access and ASYNC messages"          
    ##################################################
    BpUdpSrvRssiData:
      <<: *UdpEngineServer
      at:
        offset: 0x0A000818
      description: "Backplane UDP Server: Legacy Non-interleaved RSSI for bulk data transfer"          
    ##################################################
    BpUdpSrvRssiInterleaved:
      <<: *UdpEngineServer
      at:
        offset: 0x0A000830
      description: "Backplane UDP Server: Interleaved RSSI"
    ##################################################
    BpUdpServer:
      <<: *UdpEngineServer
      at:
        offset: 0x0A000820
      description: "Backplane UDP Server for Application ASYNC Messaging"    
    ##################################################
    TimingUdpServer:
      <<: *UdpEngineServer
      at:
        offset: 0x0A000828
      description: "Backplane UDP Server for Timing ASYNC Messaging"       
    ##################################################
    SwRssiServer:
      <<: *RssiCore
      at:
        offset: 0x0A010000 
        nelms: 2
        stride: 0x1000   
      description: "Backplane UDP Server: Legacy Non-interleaved RSSI"
    ##################################################
    RssiServerInterleaved:
      <<: *RssiCore
      at:
        offset: 0x0A020000 
      description: "Backplane UDP Server: Interleaved RSSI"   
    ##################################################
    AxiMemTester:
      <<: *AxiMemTester
      at:
        offset: 0x0B000000  
    ##################################################   
    AppMps:
      <<: *AppMps
      at:
        offset: 0x0C000000   
    ##################################################   

Lmk04828: &Lmk04828
  class: MMIODev
  configPrio: 1
  description: LMK04828 Module
  size: 0x800
  children:
    LmkReg_0x0000:
      at:
        offset: 0x000
      class: IntField
      name: LmkReg_0x0000
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0002:
    #########################################################
      at:
        offset: 0x008
      class: IntField
      name: LmkReg_0x0002
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0100:
      at:
        offset: 0x400
      class: IntField
      name: LmkReg_0x0100
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0101:
    #########################################################
      at:
        offset: 0x404
      class: IntField
      name: LmkReg_0x0101
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0103:
    #########################################################
      at:
        offset: 0x40C
      class: IntField
      name: LmkReg_0x0103
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0104:
    #########################################################
      at:
        offset: 0x410
      class: IntField
      name: LmkReg_0x0104
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0105:
    #########################################################
      at:
        offset: 0x414
      class: IntField
      name: LmkReg_0x0105
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0106:
    #########################################################
      at:
        offset: 0x418
      class: IntField
      name: LmkReg_0x0106
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0107:
    #########################################################
      at:
        offset: 0x41C
      class: IntField
      name: LmkReg_0x0107
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0108:
    #########################################################
      at:
        offset: 0x420
      class: IntField
      name: LmkReg_0x0108
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0109:
    #########################################################
      at:
        offset: 0x424
      class: IntField
      name: LmkReg_0x0109
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x010B:
    #########################################################
      at:
        offset: 0x42C
      class: IntField
      name: LmkReg_0x010B
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x010C:
    #########################################################
      at:
        offset: 0x430
      class: IntField
      name: LmkReg_0x010C
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x010D:
    #########################################################
      at:
        offset: 0x434
      class: IntField
      name: LmkReg_0x010D
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x010E:
    #########################################################
      at:
        offset: 0x438
      class: IntField
      name: LmkReg_0x010E
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x010F:
    #########################################################
      at:
        offset: 0x43C
      class: IntField
      name: LmkReg_0x010F
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0110:
    #########################################################    
    #########################################################
      at:
        offset: 0x440
      class: IntField
      name: LmkReg_0x0110
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0111:
    #########################################################
      at:
        offset: 0x444
      class: IntField
      name: LmkReg_0x0111
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0113:
    #########################################################
      at:
        offset: 0x44C
      class: IntField
      name: LmkReg_0x0113
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0114:
    #########################################################
      at:
        offset: 0x450
      class: IntField
      name: LmkReg_0x0114
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0115:
    #########################################################
      at:
        offset: 0x454
      class: IntField
      name: LmkReg_0x0115
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0116:
    #########################################################
      at:
        offset: 0x458
      class: IntField
      name: LmkReg_0x0116
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0117:
    #########################################################
      at:
        offset: 0x45C
      class: IntField
      name: LmkReg_0x0117
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0118:
    #########################################################
      at:
        offset: 0x460
      class: IntField
      name: LmkReg_0x0118
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0119:
    #########################################################
      at:
        offset: 0x464
      class: IntField
      name: LmkReg_0x0119
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x011B:
    #########################################################
      at:
        offset: 0x46C
      class: IntField
      name: LmkReg_0x011B
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x011C:
    #########################################################
      at:
        offset: 0x470
      class: IntField
      name: LmkReg_0x011C
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x011D:
    #########################################################
      at:
        offset: 0x474
      class: IntField
      name: LmkReg_0x011D
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x011E:
    #########################################################
      at:
        offset: 0x478
      class: IntField
      name: LmkReg_0x011E
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x011F:
    #########################################################
      at:
        offset: 0x47C
      class: IntField
      name: LmkReg_0x011F
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0120:
    #########################################################      
    #########################################################
      at:
        offset: 0x480
      class: IntField
      name: LmkReg_0x0120
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0121:
    #########################################################
      at:
        offset: 0x484
      class: IntField
      name: LmkReg_0x0121
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0123:
    #########################################################
      at:
        offset: 0x48C
      class: IntField
      name: LmkReg_0x0123
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0124:
    #########################################################
      at:
        offset: 0x490
      class: IntField
      name: LmkReg_0x0124
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0125:
    #########################################################
      at:
        offset: 0x494
      class: IntField
      name: LmkReg_0x0125
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0126:
    #########################################################
      at:
        offset: 0x498
      class: IntField
      name: LmkReg_0x0126
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0127:
    #########################################################
      at:
        offset: 0x49C
      class: IntField
      name: LmkReg_0x0127
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0128:
    #########################################################
      at:
        offset: 0x4A0
      class: IntField
      name: LmkReg_0x0128
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0129:
    #########################################################
      at:
        offset: 0x4A4
      class: IntField
      name: LmkReg_0x0129
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x012B:
    #########################################################
      at:
        offset: 0x4AC
      class: IntField
      name: LmkReg_0x012B
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x012C:
    #########################################################
      at:
        offset: 0x4B0
      class: IntField
      name: LmkReg_0x012C
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x012D:
    #########################################################
      at:
        offset: 0x4B4
      class: IntField
      name: LmkReg_0x012D
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x012E:
    #########################################################
      at:
        offset: 0x4B8
      class: IntField
      name: LmkReg_0x012E
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x012F:
    #########################################################
      at:
        offset: 0x4BC
      class: IntField
      name: LmkReg_0x012F
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0130:
    #########################################################       
    #########################################################
      at:
        offset: 0x4C0
      class: IntField
      name: LmkReg_0x0130
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0131:
    #########################################################
      at:
        offset: 0x4C4
      class: IntField
      name: LmkReg_0x0131
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0133:
    #########################################################
      at:
        offset: 0x4CC
      class: IntField
      name: LmkReg_0x0133
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0134:
    #########################################################
      at:
        offset: 0x4D0
      class: IntField
      name: LmkReg_0x0134
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0135:
    #########################################################
      at:
        offset: 0x4D4
      class: IntField
      name: LmkReg_0x0135
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0136:
    #########################################################
      at:
        offset: 0x4D8
      class: IntField
      name: LmkReg_0x0136
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0137:
    #########################################################
      at:
        offset: 0x4DC
      class: IntField
      name: LmkReg_0x0137
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0138:
    #########################################################
      at:
        offset: 0x4E0
      class: IntField
      name: LmkReg_0x0138
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0139:
    #########################################################
      at:
        offset: 0x4E4
      class: IntField
      name: LmkReg_0x0139
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x013A:
    #########################################################
      at:
        offset: 0x4E8
      class: IntField
      name: LmkReg_0x013A
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x013B:
    #########################################################
      at:
        offset: 0x4EC
      class: IntField
      name: LmkReg_0x013B
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x013C:
    #########################################################
      at:
        offset: 0x4F0
      class: IntField
      name: LmkReg_0x013C
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x013D:
    #########################################################
      at:
        offset: 0x4F4
      class: IntField
      name: LmkReg_0x013D
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x013E:
    #########################################################
      at:
        offset: 0x4F8
      class: IntField
      name: LmkReg_0x013E
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x013F:
    #########################################################
      at:
        offset: 0x4FC
      class: IntField
      name: LmkReg_0x013F
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0140:
    #########################################################      

    #########################################################
      at:
        offset: 0x500
      class: IntField
      name: LmkReg_0x0140
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0141:
    #########################################################
      at:
        offset: 0x504
      class: IntField
      name: LmkReg_0x0141
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0142:
    #########################################################
      at:
        offset: 0x508
      class: IntField
      name: LmkReg_0x0142
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0143:
    #########################################################
      at:
        offset: 0x50C
      class: IntField
      name: LmkReg_0x0143
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0144:
    #########################################################
      at:
        offset: 0x510
      class: IntField
      name: LmkReg_0x0144
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0145:
    #########################################################
      at:
        offset: 0x514
      class: IntField
      name: LmkReg_0x0145
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0146:
    #########################################################
      at:
        offset: 0x518
      class: IntField
      name: LmkReg_0x0146
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0147:
    #########################################################
      at:
        offset: 0x51C
      class: IntField
      name: LmkReg_0x0147
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0148:
    #########################################################
      at:
        offset: 0x520
      class: IntField
      name: LmkReg_0x0148
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0149:
    #########################################################
      at:
        offset: 0x524
      class: IntField
      name: LmkReg_0x0149
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x014A:
    #########################################################
      at:
        offset: 0x528
      class: IntField
      name: LmkReg_0x014A
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x014B:
    #########################################################
      at:
        offset: 0x52C
      class: IntField
      name: LmkReg_0x014B
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x014C:
    #########################################################
      at:
        offset: 0x530
      class: IntField
      name: LmkReg_0x014C
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x014D:
    #########################################################
      at:
        offset: 0x534
      class: IntField
      name: LmkReg_0x014D
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x014E:
    #########################################################
      at:
        offset: 0x538
      class: IntField
      name: LmkReg_0x014E
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x014F:
    #########################################################
      at:
        offset: 0x53C
      class: IntField
      name: LmkReg_0x014F
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0150:
    #########################################################    
    #########################################################
      at:
        offset: 0x540
      class: IntField
      name: LmkReg_0x0150
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0151:
    #########################################################
      at:
        offset: 0x544
      class: IntField
      name: LmkReg_0x0151
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0152:
    #########################################################
      at:
        offset: 0x548
      class: IntField
      name: LmkReg_0x0152
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0153:
    #########################################################
      at:
        offset: 0x54C
      class: IntField
      name: LmkReg_0x0153
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0154:
    #########################################################
      at:
        offset: 0x550
      class: IntField
      name: LmkReg_0x0154
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0155:
    #########################################################
      at:
        offset: 0x554
      class: IntField
      name: LmkReg_0x0155
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0156:
    #########################################################
      at:
        offset: 0x558
      class: IntField
      name: LmkReg_0x0156
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0157:
    #########################################################
      at:
        offset: 0x55C
      class: IntField
      name: LmkReg_0x0157
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0158:
    #########################################################
      at:
        offset: 0x560
      class: IntField
      name: LmkReg_0x0158
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0159:
    #########################################################
      at:
        offset: 0x564
      class: IntField
      name: LmkReg_0x0159
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x015A:
    #########################################################
      at:
        offset: 0x568
      class: IntField
      name: LmkReg_0x015A
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x015B:
    #########################################################
      at:
        offset: 0x56C
      class: IntField
      name: LmkReg_0x015B
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x015C:
    #########################################################
      at:
        offset: 0x570
      class: IntField
      name: LmkReg_0x015C
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x015D:
    #########################################################
      at:
        offset: 0x574
      class: IntField
      name: LmkReg_0x015D
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x015E:
    #########################################################
      at:
        offset: 0x578
      class: IntField
      name: LmkReg_0x015E
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x015F:
    #########################################################
      at:
        offset: 0x57C
      class: IntField
      name: LmkReg_0x015F
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0160:
    #########################################################      
    #########################################################
      at:
        offset: 0x580
      class: IntField
      name: LmkReg_0x0160
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0161:
    #########################################################
      at:
        offset: 0x584
      class: IntField
      name: LmkReg_0x0161
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0162:
    #########################################################
      at:
        offset: 0x588
      class: IntField
      name: LmkReg_0x0162
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0163:
    #########################################################
      at:
        offset: 0x58C
      class: IntField
      name: LmkReg_0x0163
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0164:
    #########################################################
      at:
        offset: 0x590
      class: IntField
      name: LmkReg_0x0164
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0165:
    #########################################################
      at:
        offset: 0x594
      class: IntField
      name: LmkReg_0x0165
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0171:
    #########################################################
      at:
        offset: 0x5C4
      class: IntField
      name: LmkReg_0x0171
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0172:
    #########################################################
      at:
        offset: 0x5C8
      class: IntField
      name: LmkReg_0x0172
      sizeBits: 8
      mode: RW
      description: LMK Registers    
    LmkReg_0x0173:
    #########################################################
      at:
        offset: 0x5CC
      class: IntField
      name: LmkReg_0x0173
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0174:
    #########################################################
      at:
        offset: 0x5D0
      class: IntField
      name: LmkReg_0x0174
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x017C:
    #########################################################
      at:
        offset: 0x5F0
      class: IntField
      name: LmkReg_0x017C
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x017D:
    #########################################################
      at:
        offset: 0x5F4
      class: IntField
      name: LmkReg_0x017D
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0166:
    #########################################################
      at:
        offset: 0x598
      class: IntField
      name: LmkReg_0x0166
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0167:
    #########################################################
      at:
        offset: 0x59C
      class: IntField
      name: LmkReg_0x0167
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0168:
    #########################################################
      at:
        offset: 0x5A0
      class: IntField
      name: LmkReg_0x0168
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x0169:
    #########################################################
      at:
        offset: 0x5A4
      class: IntField
      name: LmkReg_0x0169
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x016A:
    #########################################################
      at:
        offset: 0x5A8
      class: IntField
      name: LmkReg_0x016A
      sizeBits: 8
      mode: RW
      description: LMK Registers
    LmkReg_0x016B:
    #########################################################
      at:
        offset: 0x5AC
      class: IntField
      name: LmkReg_0x016B
      sizeBits: 8
      mode: RW
      description: LMK Registers        
    LmkReg_0x016C:
    #########################################################
      at:
        offset: 0x5B0
      class: IntField
      name: LmkReg_0x016C
      sizeBits: 8
      mode: RW
      description: LMK Registers      
    LmkReg_0x016D:
    #########################################################
      at:
        offset: 0x5B4
      class: IntField
      name: LmkReg_0x016D
      sizeBits: 8
      mode: RW
      description: LMK Registers      
    LmkReg_0x016E:
    #########################################################
      at:
        offset: 0x5B8
      class: IntField
      name: LmkReg_0x016E
      sizeBits: 8
      mode: RW
      description: LMK Registers
    #########################################################
    # Commands
    #########################################################
    PwrDwnSysRef:
      name: PwrDwnSysRef
      class: SequenceCommand
      at:
        offset: 0x0
      description: Powerdown the sysref lines
      sequence:
        # Turn off normal continuous sysref
        - entry: EnableSysRef
          value: 0x0
        # 100 ms sleep
        - entry: usleep
          value: 100000           
    #########################################################
    PwrUpSysRef:
      name: PwrUpSysRef
      class: SequenceCommand
      at:
        offset: 0x0
      description: Powerup the sysref lines
      sequence:
        # 1000 ms sleep
        - entry: usleep
          value: 1000000      
        # Turn on normal continuous sysref
        - entry: EnableSysRef
          value: 0x3
        # 2000 ms sleep
        - entry: usleep
          value: 2000000          
    #########################################################
    InitLmk:
      name: InitLmk
      class: SequenceCommand
      at:
        offset: 0x0
      description: Synchronise LMK internal counters. Warning this function will power
        off and power on all the system clocks
      sequence:
        # Turn off normal continuous sysref
        - entry: EnableSysRef
          value: 0x0
        
        # Turn On SYNC
        - entry: EnableSync
          value: 0x0
        
        # 1000 ms sleep
        - entry: usleep
          value: 1000000
          
        # Toggle Sync bit
        - entry: SyncBit
          value: 0x1
        - entry: SyncBit
          value: 0x0
        
        # 1000 ms sleep
        - entry: usleep
          value: 1000000
        
        # Turn on normal continuous sysref
        - entry: EnableSysRef
          value: 0x3
        
        # Turn Off SYNC
        - entry: EnableSync
          value: 0xff
    #########################################################
    SyncBit:
    #########################################################
      at:
        offset: 0x50C
      class: IntField
      name: SyncBit
      sizeBits: 1
      lsBit: 5
      mode: RW
      description: SyncBit
    EnableSync:
    #########################################################
      at:
        offset: 0x510
      class: IntField
      name: EnableSync
      sizeBits: 8
      lsBit: 0
      mode: RW
      description: EnableSync
    EnableSysRef:
    #########################################################
    #
    #   Command support variables
    #
    #########################################################
      at:
        offset: 0x4E4
      class: IntField
      name: EnableSysRef
      sizeBits: 2
      lsBit: 0
      mode: RW
      description: EnableSysRef
    ID_VNDR_LOWER:
    #########################################################
      at:
        offset: 0x034
      class: IntField
      name: ID_VNDR_LOWER
      sizeBits: 8
      mode: RO
      description: ID_VNDR_LOWER
    ID_VNDR_UPPER:
    #########################################################
      at:
        offset: 0x030
      class: IntField
      name: ID_VNDR_UPPER
      sizeBits: 8
      mode: RO
      description: ID_VNDR_UPPER
    ID_MASKREV:
    #########################################################
      at:
        offset: 0x018
      class: IntField
      name: ID_MASKREV
      sizeBits: 8
      mode: RO
      description: ID_MASKREV
    ID_PROD_LOWER:
    #########################################################
      at:
        offset: 0x014
      class: IntField
      name: ID_PROD_LOWER
      sizeBits: 8
      mode: RO
      description: ID_PROD_LOWER
    ID_PROD_UPPER:
    #########################################################
      at:
        offset: 0x010
      class: IntField
      name: ID_PROD_UPPER
      sizeBits: 8
      mode: RO
      description: ID_PROD_UPPER
    ID_DEVICE_TYPE:
    #########################################################       
      at:
        offset: 0x00C
      class: IntField
      name: ID_DEVICE_TYPE
      sizeBits: 8
      mode: RO
      description: ID_DEVICE_TYPE
Adc16Dx370: &Adc16Dx370
  name: Adc16Dx370
  description: ADC16Dx370 Module
  class: MMIODev
  configPrio: 1
  size: 0x00001000
  children:
    AdcReg_0x0000:
      at:
        offset: 0x000
      class: IntField
      name: AdcReg_0x0000
      sizeBits: 8
      mode: RW
      description: ADC Control Registers
    #########################################################
    AdcReg_0x0002:
      at:
        offset: 0x008
      class: IntField
      name: AdcReg_0x0002
      sizeBits: 8
      mode: RW
      description: ADC Control Registers
    #########################################################
    AdcReg_0x0003:
      at:
        offset: 0x00C
      class: IntField
      name: AdcReg_0x0003
      sizeBits: 8
      mode: RW
      description: ADC Control Registers
    #########################################################
    AdcReg_0x0004:
      at:
        offset: 0x00F
      class: IntField
      name: AdcReg_0x0004
      sizeBits: 8
      mode: RW
      description: ADC Control Registers
    #########################################################
    AdcReg_0x0005:
      at:
        offset: 0x014
      class: IntField
      name: AdcReg_0x0005
      sizeBits: 8
      mode: RW
      description: ADC Control Registers
    #########################################################
    AdcReg_0x0006:
      at:
        offset: 0x018
      class: IntField
      name: AdcReg_0x0006
      sizeBits: 8
      mode: RW
      description: ADC Control Registers
    #########################################################
    AdcReg_0x000C:
      at:
        offset: 0x030
      class: IntField
      name: AdcReg_0x000C
      sizeBits: 8
      mode: RW
      description: ADC Control Registers
    #########################################################
    AdcReg_0x000D:
      at:
        offset: 0x034
      class: IntField
      name: AdcReg_0x000D
      sizeBits: 8
      mode: RW
      description: ADC Control Registers
    #########################################################
    AdcReg_0x000E:
      at:
        offset: 0x038
      class: IntField
      name: AdcReg_0x000E
      sizeBits: 8
      mode: RW
      description: ADC Control Registers
    #########################################################
    AdcReg_0x000F:
      at:
        offset: 0x03C
      class: IntField
      name: AdcReg_0x000F
      sizeBits: 8
      mode: RW
      description: ADC Control Registers
    #########################################################
    AdcReg_0x0010:
      at:
        offset: 0x040
      class: IntField
      name: AdcReg_0x0010
      sizeBits: 8
      mode: RW
      description: ADC Control Registers
    #########################################################
    AdcReg_0x0011:
      at:
        offset: 0x044
      class: IntField
      name: AdcReg_0x0011
      sizeBits: 8
      mode: RW
      description: ADC Control Registers
    #########################################################
    AdcReg_0x0012:
      at:
        offset: 0x048
      class: IntField
      name: AdcReg_0x0012
      sizeBits: 8
      mode: RW
      description: ADC Control Registers
    #########################################################
    AdcReg_0x0013:
      at:
        offset: 0x04C
      class: IntField
      name: AdcReg_0x0013
      sizeBits: 8
      mode: RW
      description: ADC Control Registers
    #########################################################
    AdcReg_0x0014:
      at:
        offset: 0x050
      class: IntField
      name: AdcReg_0x0014
      sizeBits: 8
      mode: RW
      description: ADC Control Registers
    #########################################################
    AdcReg_0x0015:
      at:
        offset: 0x054
      class: IntField
      name: AdcReg_0x0015
      sizeBits: 8
      mode: RW
      description: ADC Control Registers
    #########################################################
    AdcReg_0x0019:
      at:
        offset: 0x064
      class: IntField
      name: AdcReg_0x0019
      sizeBits: 8
      mode: RW
      description: ADC Control Registers
    #########################################################
    AdcReg_0x003B:
      at:
        offset: 0x0EC
      class: IntField
      name: AdcReg_0x003B
      sizeBits: 8
      mode: RW
      description: ADC Control Registers
    #########################################################
    AdcReg_0x003C:
      at:
        offset: 0x0F0
      class: IntField
      name: AdcReg_0x003C
      sizeBits: 8
      mode: RW
      description: ADC Control Registers
    #########################################################
    AdcReg_0x003D:
      at:
        offset: 0x0F4
      class: IntField
      name: AdcReg_0x003D
      sizeBits: 8
      mode: RW
      description: ADC Control Registers
    #########################################################
    AdcReg_0x0047:
      at:
        offset: 0x11C
      class: IntField
      name: AdcReg_0x0047
      sizeBits: 8
      mode: RW
      description: ADC Control Registers
    #########################################################
    AdcReg_0x0060:
      at:
        offset: 0x180
      class: IntField
      name: AdcReg_0x0060
      sizeBits: 8
      mode: RW
      description: ADC Control Registers
    #########################################################
    AdcReg_0x0061:
      at:
        offset: 0x184
      class: IntField
      name: AdcReg_0x0061
      sizeBits: 8
      mode: RW
      description: ADC Control Registers
    #########################################################
    AdcReg_0x0062:
      at:
        offset: 0x188
      class: IntField
      name: AdcReg_0x0062
      sizeBits: 8
      mode: RW
      description: ADC Control Registers
    #########################################################
    AdcReg_0x0063:
      at:
        offset: 0x18C
      class: IntField
      name: AdcReg_0x0063
      sizeBits: 8
      mode: RW
      description: ADC Control Registers
    #########################################################
    AdcReg_0x0070:
      at:
        offset: 0x1C0
      class: IntField
      name: AdcReg_0x0070
      sizeBits: 8
      mode: RW
      description: ADC Control Registers
    #########################################################
    #
    #   Status registers
    #
    #########################################################
    ID_DEVICE_TYPE:
      at:
        offset: 0x00C
      class: IntField
      name: ID_DEVICE_TYPE
      sizeBits: 8
      mode: RO
      description: ID_DEVICE_TYPE
    #########################################################
    ID_PROD_UPPER:
      at:
        offset: 0x010
      class: IntField
      name: ID_PROD_UPPER
      sizeBits: 8
      mode: RO
      description: ID_PROD_UPPER
    #########################################################
    ID_PROD_LOWER:
      at:
        offset: 0x014
      class: IntField
      name: ID_PROD_LOWER
      sizeBits: 8
      mode: RO
      description: ID_PROD_LOWER
    #########################################################
    ID_MASKREV:
      at:
        offset: 0x018
      class: IntField
      name: ID_MASKREV
      sizeBits: 8
      mode: RO
      description: ID_MASKREV
    #########################################################
    ID_VNDR_UPPER:
      at:
        offset: 0x030
      class: IntField
      name: ID_VNDR_UPPER
      sizeBits: 8
      mode: RO
      description: ID_VNDR_UPPER
    #########################################################
    ID_VNDR_LOWER:
      at:
        offset: 0x034
      class: IntField
      name: ID_VNDR_LOWER
      sizeBits: 8
      mode: RO
      description: ID_VNDR_LOWER
    #########################################################
    Clock_ready:
      at:
        offset: 0x1B0
      class: IntField
      name: Clock_ready
      sizeBits: 1
      lsBit: 0
      mode: RO
      description: Clock_ready
    #########################################################
    Calibration_done:
      at:
        offset: 0x1B0
      class: IntField
      name: Calibration_done
      sizeBits: 1
      lsBit: 1
      mode: RO
      description: Calibration_done
    #########################################################
    PLL_lock:
      at:
        offset: 0x1B0
      class: IntField
      name: PLL_lock
      sizeBits: 1
      lsBit: 2
      mode: RO
      description: PLL_lock
    #########################################################
    Aligned_to_sysref:
      at:
        offset: 0x1B0
      class: IntField
      name: Aligned_to_sysref
      sizeBits: 1
      lsBit: 3
      mode: RO
      description: Aligned_to_sysref
    #########################################################
    Realigned_to_sysref:
      at:
        offset: 0x1B0
      class: IntField
      name: Realigned_to_sysref
      sizeBits: 1
      lsBit: 4
      mode: RO
      description: Realigned_to_sysref
    #########################################################
    Sync_form_FPGA:
      at:
        offset: 0x1B0
      class: IntField
      name: Sync_form_FPGA
      sizeBits: 1
      lsBit: 5
      mode: RO
      description: Sync_form_FPGA
    #########################################################
    Link_active:
      at:
        offset: 0x1B0
      class: IntField
      name: Link_active
      sizeBits: 1
      lsBit: 6
      mode: RO
      description: Link_active
    #########################################################
    PowerDown:
      name: PowerDown
      class: SequenceCommand
      at:
        offset: 0x0
      description: PowerDown
      sequence:
      - entry: AdcReg_0x0002
        value: 0x3
    #########################################################
    PowerUp:
      name: PowerUp
      class: SequenceCommand
      at:
        offset: 0x0
      description: PowerUp
      sequence:
      - entry: AdcReg_0x0002
        value: 0x0
    #########################################################
    CalibrateAdc:
      name: CalibrateAdc
      class: SequenceCommand
      at:
        offset: 0x0
      description: CalibrateAdc
      sequence:
        # Power Down
        - entry: PowerDown
          value: 0x1
        # 1000 ms sleep
        - entry: usleep
          value: 1000000
        # Power Up
        - entry: PowerUp
          value: 0x1

Dac38J84: &Dac38J84
  name: Dac38J84
  description: DAC38J84 Module
  size: 0x200
  class: MMIODev
  configPrio: 1
  metadata:
    numTxLanes: &numTxLanes 2
  children:
    #########################################################    
    DacReg:
      at:
        offset: 0x000
        stride: 4
        nelms: 126
      class: IntField
      name: DacReg
      sizeBits: 16
      mode: RW
      description: "DAC Registers[125:0]"
    #########################################################    
    LaneBufferDelay:
      at:
        offset: 0x01C
      class: IntField
      name: LaneBufferDelay
      sizeBits: 5
      mode: RO
      description: Lane Buffer Delay
    #########################################################    
    Temperature:
      at:
        offset: 0x01D
      class: IntField
      name: Temperature
      sizeBits: 8
      mode: RO
      description: Temperature
    #########################################################    
    LinkErrCnt:
      at:
        offset: 0x104
        stride: 4
        nelms: *numTxLanes
      class: IntField
      name: LinkErrCnt
      sizeBits: 16
      mode: RO
      description: "Link Error Count"
    #########################################################    
    ReadFifoEmpty:
      at:
        offset: 0x190
        stride: 4
        nelms: *numTxLanes
      class: IntField
      name: ReadFifoEmpty
      sizeBits: 1
      lsBit: 0
      mode: RO
      description: "ReadFifoEmpty"
    #########################################################    
    ReadFifoUnderflow:
      at:
        offset: 0x190
        stride: 4
        nelms: *numTxLanes
      class: IntField
      name: ReadFifoUnderflow
      sizeBits: 1
      lsBit: 1
      mode: RO
      description: "ReadFifoUnderflow"
    #########################################################    
    ReadFifoFull:
      at:
        offset: 0x190
        stride: 4
        nelms: *numTxLanes
      class: IntField
      name: ReadFifoFull
      sizeBits: 1
      lsBit: 2
      mode: RO
      description: "ReadFifoFull"
    #########################################################    
    ReadFifoOverflow:
      at:
        offset: 0x190
        stride: 4
        nelms: *numTxLanes
      class: IntField
      name: ReadFifoOverflow
      sizeBits: 1
      lsBit: 3
      mode: RO
      description: "ReadFifoOverflow"
    #########################################################    
    DispErr:
      at:
        offset: 0x191
        stride: 4
        nelms: *numTxLanes
      class: IntField
      name: DispErr
      sizeBits: 1
      lsBit: 0
      mode: RO
      description: "DispErr"
    #########################################################    
    NotitableErr:
      at:
        offset: 0x191
        stride: 4
        nelms: *numTxLanes
      class: IntField
      name: NotitableErr
      sizeBits: 1
      lsBit: 1
      mode: RO
      description: "NotitableErr"
    #########################################################    
    CodeSyncErr:
      at:
        offset: 0x191
        stride: 4
        nelms: *numTxLanes
      class: IntField
      name: CodeSyncErr
      sizeBits: 1
      lsBit: 2
      mode: RO
      description: "CodeSyncErr"
    #########################################################    
    FirstDataMatchErr:
      at:
        offset: 0x191
        stride: 4
        nelms: *numTxLanes
      class: IntField
      name: FirstDataMatchErr
      sizeBits: 1
      lsBit: 3
      mode: RO
      description: "FirstDataMatchErr"
    #########################################################    
    ElasticBuffOverflow:
      at:
        offset: 0x191
        stride: 4
        nelms: *numTxLanes
      class: IntField
      name: ElasticBuffOverflow
      sizeBits: 1
      lsBit: 4
      mode: RO
      description: "ElasticBuffOverflow"
    #########################################################    
    LinkConfigErr:
      at:
        offset: 0x191
        stride: 4
        nelms: *numTxLanes
      class: IntField
      name: LinkConfigErr
      sizeBits: 1
      lsBit: 5
      mode: RO
      description: "LinkConfigErr"
    #########################################################    
    FrameAlignErr:
      at:
        offset: 0x191
        stride: 4
        nelms: *numTxLanes
      class: IntField
      name: FrameAlignErr
      sizeBits: 1
      lsBit: 6
      mode: RO
      description: "FrameAlignErr"
    #########################################################    
    MultiFrameAlignErr:
      at:
        offset: 0x191
        stride: 4
        nelms: *numTxLanes
      class: IntField
      name: MultiFrameAlignErr
      sizeBits: 1
      lsBit: 7
      mode: RO
      description: "MultiFrameAlignErr"
    #########################################################    
    Serdes1pllAlarm:
      at:
        offset: 0x1B0
      class: IntField
      name: Serdes1pllAlarm
      sizeBits: 1
      lsBit: 2
      mode: RO
      description: Serdes1pllAlarm
    #########################################################    
    Serdes0pllAlarm:
      at:
        offset: 0x1B0
      class: IntField
      name: Serdes0pllAlarm
      sizeBits: 1
      lsBit: 3
      mode: RO
      description: Serdes0pllAlarm
    #########################################################    
    SysRefAlarms:
      at:
        offset: 0x1B1
      class: IntField
      name: SysRefAlarms
      sizeBits: 4
      lsBit: 4
      mode: RO
      description: SysRefAlarms
    #########################################################    
    LaneLoss:
      at:
        offset: 0x1B4
      class: IntField
      name: LaneLoss
      sizeBits: 8
      mode: RO
      description: "LaneLoss"
    #########################################################    
    LaneAlarm:
      at:
        offset: 0x1B5
      class: IntField
      name: LaneAlarm
      sizeBits: 8
      mode: RO
      description: "LaneAlarm"
    #########################################################    
    ID:
      at:
        offset: 0x1FC
      class: IntField
      name: ID
      mode: RO
      description: Serials and IDs
    #########################################################    
    EnableTx:
      at:
        offset: 0xC
      class: IntField
      name: EnableTx
      sizeBits: 1
      lsBit: 0
      mode: RW
      description: EnableTx
    #########################################################    
    InitJesd:
      at:
        offset: 0x128
      class: IntField
      name: InitJesd
      sizeBits: 5
      lsBit: 0
      mode: RW
      description: InitJesd
    #########################################################    
    ClearAlarms:
      class: SequenceCommand
      at:
        offset: 0x0
      description: Clear all the DAC alarms
      sequence:
        - entry: DacReg[100]
          value: 0x0
        - entry: DacReg[101]
          value: 0x0
        - entry: DacReg[102]
          value: 0x0
        - entry: DacReg[103]
          value: 0x0
        - entry: DacReg[104]
          value: 0x0
        - entry: DacReg[105]
          value: 0x0
        - entry: DacReg[106]
          value: 0x0
        - entry: DacReg[107]
          value: 0x0
        - entry: DacReg[108]
          value: 0x0
    #########################################################
    InitDac:
      class: SequenceCommand
      at:
        offset: 0x0
      description: Initialization sequence for the DAC JESD core
      sequence:
        # Disable TX
        - entry: EnableTx
          value: 0x0
        
        # Disable and initialize JESD
        - entry: InitJesd
          value: 0x1E
        
        # Enable JESD
        - entry: InitJesd
          value: 0x01
        
        # Enable TX
        - entry: EnableTx
          value: 0x1
    #########################################################    

AmcGenericAdcDacCtrl: &AmcGenericAdcDacCtrl
  name: AmcGenericAdcDacCtrl
  description: Generic ADC/DAC AMC Control Module
  class: MMIODev 
  size: 0x400 
  children:
    #########################################################
    AdcValidCnt:
      at:
        offset: 0x00
        nelms: 4
      class: IntField
      name: AdcValidCnt
      mode: RO
      description: ADC Valid Transistion Counter[3:0]
    #########################################################
    lemoDoutCnt:
      at:
        offset: 0x10
        nelms: 2
      class: IntField
      name: lemoDoutCnt
      mode: RO
      description: LEMO DOUT Transistion Counter[1:0]      
    #########################################################
    lemoDinCnt:
      at:
        offset: 0x18
        nelms: 2
      class: IntField
      name: lemoDinCnt
      mode: RO
      description: LEMO DIN Transistion Counter[1:0]   
    #########################################################
    BcmCnt:
      at:
        offset: 0x20
      class: IntField
      name: BcmCnt
      mode: RO
      description: BCM Transistion Counter    
    #########################################################
    AdcCalCnt:
      at:
        offset: 0x24
      class: IntField
      name: AdcCalCnt
      mode: RO
      description: ADC_CAL Transistion Counter 
    #########################################################
    SmaTrigCnt:
      at:
        offset: 0x28
      class: IntField
      name: SmaTrigCnt
      mode: RO
      description: SMA_TRIG Transistion Counter
    #########################################################
    AdcValid:
      at:
        offset: 0x0FC
      class: IntField
      name: AdcValid
      sizeBits: 4
      lsBit: 0
      mode: RO
      description: ADC Valid[3:0]
    #########################################################
    lemoDout:
      at:
        offset: 0x0FC
      class: IntField
      name: lemoDout
      sizeBits: 2
      lsBit: 4
      mode: RO
      description: LEMO DOUT[1:0]
    #########################################################
    lemoDin:
      at:
        offset: 0x0FC
      class: IntField
      name: lemoDin
      sizeBits: 2
      lsBit: 6
      mode: RO
      description: LEMO DIN[1:0]
    #########################################################
    Bcm:
      at:
        offset: 0x0FD
      class: IntField
      name: Bcm
      sizeBits: 1
      lsBit: 0
      mode: RO
      description: BCM
    #########################################################
    AdcCal:
      at:
        offset: 0x0FD
      class: IntField
      name: AdcCal
      sizeBits: 1
      lsBit: 1
      mode: RO
      description: ADC_CAL
    #########################################################
    SmaTrig:
      at:
        offset: 0x0FD
      class: IntField
      name: SmaTrig
      sizeBits: 1
      lsBit: 2
      mode: RO
      description: SMA_TRIG
    #########################################################
    AdcData:
      at:
        offset: 0x100
        stride: 4
        nelms: 4
      class: IntField
      name: AdcData
      sizeBits: 16
      mode: RO
      description: ADC Data[3:0]
    #########################################################
    DacData:
      at:
        offset: 0x110
        stride: 4
        nelms: 2
      class: IntField
      name: DacData
      sizeBits: 16
      mode: RO
      description: DAC Data[1:0]
    #########################################################
    VcoDac:
      at:
        offset: 0x1F8
      class: IntField
      name: VcoDac
      sizeBits: 16
      mode: RO
      description: VCO's DAC Value
    #########################################################
    AmcClkFreq:
      at:
        offset: 0x1FC
      class: IntField
      name: AmcClkFreq
      mode: RO
      description: AMC Clock frequency (in units of Hz)
    #########################################################
    LmkClkSel:
      at:
        offset: 0x200
      class: IntField
      name: LmkClkSel
      sizeBits: 2
      mode: RW
      description: LMK Clock Select
    #########################################################
    LmkRst:
      at:
        offset: 0x204
      class: IntField
      name: LmkRst
      sizeBits: 1
      mode: RW
      description: LMK Reset
    #########################################################
    LmkSync:
      at:
        offset: 0x208
      class: IntField
      name: LmkSync
      sizeBits: 1
      mode: RW
      description: LMK SYNC
    #########################################################
    LmkStatus:
      at:
        offset: 0x20C
      class: IntField
      name: LmkStatus
      sizeBits: 2
      mode: RO
      description: LMK Status
    #########################################################
    LmkMuxSel:
      at:
        offset: 0x214
      class: IntField
      name: LmkMuxSel
      sizeBits: 1
      mode: RW
      description: LMK MUX Select
    #########################################################
    VcoDacSckConfig:
      at:
        offset: 0x220
      class: IntField
      name: VcoDacSckConfig
      sizeBits: 16
      mode: RW
      description: VCO DAC SCK Rate Configuration
    #########################################################
    VcoDacEnable:
      at:
        offset: 0x224
      class: IntField
      name: VcoDacEnable
      sizeBits: 1
      mode: RW
      description: VCO DAC Enable
    #########################################################
    RollOverEn:
      at:
        offset: 0x3F8
      class: IntField
      name: RollOverEn
      sizeBits: 4
      mode: RW
      description: Enable Status counter roll over
    #########################################################
    CntRst:
      at:
        offset: 0x3FC
      class: IntField
      name: CntRst
      # sizeBits: 1
      mode: WO
      # CPSW requires all WO variables to be 32-bit size and 32-bit aligned
      sizeBits: 32      
      description: Status counter reset
    #########################################################

AmcGenericAdcDacCore: &AmcGenericAdcDacCore 
  description: Generic ADC/DAC AMC Core
  class: MMIODev
  configPrio: 1
  size: 0x00080000
  ########
  children:
  ########
    ##################################################     
    AmcGenericAdcDacCtrl:
      <<: *AmcGenericAdcDacCtrl
      at:
        offset: 0x00000000              
    ##################################################     
    Dac38J84:
      <<: *Dac38J84
      at:
        offset: 0x00002000 
    ##################################################     
    Lmk04828:
      <<: *Lmk04828
      at:
        offset: 0x00020000 
    ##################################################     
    Adc16Dx370:
      <<: *Adc16Dx370
      at:
        offset: 0x00040000 
        stride: 0x00020000              
        nelms: 2
    ##################################################
    InitAmcCard:
      description: Initialization for AMC card's JESD modules
      at:
        offset: 0x0
      class: SequenceCommand
      sequence:
                    
        # Calibrate the JESD ADCs
        - entry: Adc16Dx370/CalibrateAdc
          value: 0x1       
        # 100 ms sleep
        - entry: usleep
          value: 100000       

        # Power up the LMK's SYSREF
        - entry: Lmk04828/PwrUpSysRef
          value: 0x1       
        # 1000 ms sleep
        - entry: usleep
          value: 1000000          

        # Clear the Alarms
        - entry: Lmk04828/InitLmk          
          value: 0x1 
          
        # Init the DACs
        - entry: Dac38J84/InitDac     
          value: 0x1       
        # 100 ms sleep
        - entry: usleep
          value: 100000
          
        # Clear the Alarms
        - entry: Dac38J84/ClearAlarms  
          value: 0x1       
        # 100 ms sleep
        - entry: usleep
          value: 100000  
          
        # Reset status counters
        - entry: AmcGenericAdcDacCtrl/CntRst          
          value: 0x1           
    ##################################################

RtmMpsLinkNode: &RtmMpsLinkNode
  name: RtmMpsLinkNode
  description: MPS Link Node RTM
  class: MMIODev 
  size: 0x10 
  children:
    #########################################################
    RtmDin:
      at:
        offset: 0x0
      class: IntField
      name: RtmDin
      sizeBits: 32
      mode: RO
      description: Digital Inputs   
    #########################################################
    RtmDout:
      at:
        offset: 0x4
      class: IntField
      name: RtmDout
      sizeBits: 8
      mode: RO
      description: Digital Outputs    
    #########################################################
    RtmDoutMask:
      at:
        offset: 0x8
      class: IntField
      name: RtmDoutMask
      sizeBits: 8
      mode: RW
      description: Digital Outputs Mask          
    #########################################################
MpsAnalogLclsReg: &MpsAnalogLclsReg
  class: MMIODev
  configPrio: 1
  description: MPS Analog Core
  size: 0x10000
  ########
  children:
  ########
    #########################################################
    IntegrationCounts:
      class: IntField
      at:
        offset: 0x0000
        stride: 4
        nelms: 24
      sizeBits: 16
      lsBit: 0
      mode: RW
      description: "LCLS Integration Count."
    #########################################################
    ProcessingSelect:
      class: IntField
      at:
        offset: 0x0060
        stride: 4
        nelms: 6
      sizeBits: 4
      lsBit: 0
      mode: RW
      description: "LCLS Processing Selection."
    #########################################################
    Slope:
      class: IntField
      at:
        offset: 0x0078
        stride: 4
        nelms: 6
      sizeBits: 16
      lsBit: 0
      mode: RW
      description: "LCLS Equation Slope."
    #########################################################
    Intercept:
      class: IntField
      at:
        offset: 0x007A
        stride: 4
        nelms: 6
      sizeBits: 16
      lsBit: 0
      mode: RW
      description: "LCLS Equation Intercept."
    #########################################################
    PrcValueSelect:
      class: IntField
      at:
        offset: 0x0090
      sizeBits: 2
      lsBit: 0
      mode: RW
      enums:
        - { name: Peak_Values,   value: 0 }
        - { name: Forced_Values, value: 1 }
        - { name: Min_Values,    value: 2 }
        - { name: Avg_Values,    value: 3 }
      description: "LCLS Select value to be processed."
    #########################################################
    ForcePrcVals:
      class: IntField
      at:
        offset: 0x0094
        stride: 4
        nelms: 6
      sizeBits: 16
      lsBit: 0
      mode: RW
      description: "LCLS Force values to be processed."
    #########################################################
    InputDisable:
      class: IntField
      at:
        offset: 0x00B0
      sizeBits: 2
      lsBit: 0
      mode: RW
      description: "LCLS Disable analog AMC card."
    #########################################################
    bunchPresentIntEn:
      class: IntField
      at:
        offset: 0x00B4
      sizeBits: 24
      lsBit: 0
      mode: RW
      description: "LCLS Enable boxcar integration only on bunch present signal, the rest input are 0."
    #########################################################
    offsetPolarity:
      class: IntField
      at:
        offset: 0x00B8
      sizeBits: 6
      lsBit: 0
      mode: RW
      description: "Define output substraction order 0(data - offest) or 1(offset-data)"
    #########################################################
    treshBlm:
      class: IntField
      at:
        offset: 0x00C0
        stride: 4
        nelms: 6
      sizeBits: 16
      lsBit: 0
      mode: RW
      description: "Theshold for BLM pulse difference between signal and pedestal"
    #########################################################
    triggerDelayPeak:
      class: IntField
      at:
        offset: 0x00E0
        stride: 4
        nelms: 6
      sizeBits: 16
      lsBit: 0
      mode: RW
      description: "Trigger delay for ADC window processing peak windowing, in JESD clocks(2-0)-JESD0,(5-3)-JESD1 "
    #########################################################
    triggerWidthPeak:
      class: IntField
      at:
        offset: 0x00E2
        stride: 4
        nelms: 6
      sizeBits: 16
      lsBit: 0
      mode: RW
      description: "Width for ADC window processing Peak windowing, in JESD clocks(2-0)-JESD0,(5-3)-JESD1 "
    #########################################################
    triggerDelayPedestal:
      class: IntField
      at:
        offset: 0x00F8
        stride: 4
        nelms: 6
      sizeBits: 16
      lsBit: 0
      mode: RW
      description: "Trigger delay for ADC window processing Pedestal windowing, in JESD clocks(2-0)-JESD0,(5-3)-JESD1 "
    #########################################################
    triggerWidthPedestal:
      class: IntField
      at:
        offset: 0x00FA
        stride: 4
        nelms: 6
      sizeBits: 16
      lsBit: 0
      mode: RW
      description: "Width for ADC window processing Pedestal windowing, in JESD clocks(2-0)-JESD0,(5-3)-JESD1"
    #########################################################
MpsAnalogCore: &MpsAnalogCore
  class: MMIODev
  configPrio: 1
  description: MPS Analog Core
  size: 0x1000000
  ########
  children:
  ########
    MpsAnalogLcls1Reg:
       <<: *MpsAnalogLclsReg
       at:
          offset: 0x000000
    #########################################################
    MpsAnalogLcls2Reg:
       <<: *MpsAnalogLclsReg
       at:
          offset: 0x100000
    #########################################################
    MinValue:
      class: IntField
      at:
        offset: 0x0000
        stride: 8
        nelms: 6
      sizeBits: 16
      lsBit: 0
      mode: RO
      description: "Minimum value per channel"
    #########################################################
    MaxValue:
      class: IntField
      at:
        offset: 0x0002
        stride: 8
        nelms: 6
      sizeBits: 16
      lsBit: 0
      mode: RO
      description: "Maximum value per channel"
    #########################################################
    AvgValue:
      class: IntField
      at:
        offset: 0x0004
        stride: 8
        nelms: 6
      sizeBits: 16
      lsBit: 0
      mode: RO
      description: "Average value per channel"
    #########################################################
    BsaData:
      class: IntField
      at:
        offset: 0x0030
        stride: 4
        nelms: 24
      sizeBits: 32
      lsBit: 0
      mode: RO
      description: "BSA data, depending on selection in 0x60-0x74 of MpsAnalogLcllsReg of LCLS1 or LCLS2  select  nop , integration, or linear value."
      #########################################################
    overThreshCnt:
      class: IntField
      at:
        offset: 0x0090
        stride: 4
        nelms: 6
      sizeBits: 32
      lsBit: 0
      mode: RO
      description: "Report each instance over threshold detection for each ADC input processing"
      #########################################################
    overThreshCnt:
      class: IntField
      at:
        offset: 0x00A8
      sizeBits: 32
      lsBit: 0
      mode: RO
      description: "Report bunch present count"
      #########################################################
    overThreshCntClear:
      class: IntField
      at:
        offset: 0x00AA
      sizeBits: 1
      lsBit: 0
      mode: RO
      description: "Clear overthreshold conters and bunch present counter"
      #########################################################
MpsDigitalMsg: &MpsDigitalMessage
  class: MMIODev
  configPrio: 1
  description: MPS Digital Message Generator
  size: 0x10000
  ########
  children:
  ########
    #########################################################
    DigitalForceEn:
      class: IntField
      at:
        offset: 0x0000
      sizeBits: 1
      lsBit: 0
      mode: RW
      description: "Enable Digital Force Bits."
    #########################################################
    DigitalForceBits:
      class: IntField
      at:
        offset: 0x0004
      sizeBits: 64
      lsBit: 0
      mode: RW
      description: "Digital Force Bits."
    #########################################################
    AppId:
      class: IntField
      at:
        offset: 0x000C
      sizeBits: 16
      lsBit: 0
      mode: RW
      description: "Application ID."
    #########################################################
    L1Polarity:
      class: IntField
      at:
        offset: 0x0010
        stride: 1
        nelms: 64
      sizeBits: 1
      lsBit: 0
      mode: RW
      description: "Digital Bit Polarity for LCLS1."
    #########################################################
    L2Polarity:
      class: IntField
      at:
        offset: 0x0018
        stride: 1
        nelms: 64
      sizeBits: 1
      lsBit: 0
      mode: RW
      description: "Digital Bit Polarity for LCLS2."
    #########################################################
    L1DebounceValue:
      class: IntField
      at:
        offset: 0x0020
        stride: 2
        nelms: 64
      sizeBits: 2
      lsBit: 0
      mode: RW
      description: "Digital Debounce Config for LCLS1."
    #########################################################
    L2DebounceValue:
      class: IntField
      at:
        offset: 0x0030
        stride: 2
        nelms: 64
      sizeBits: 2
      lsBit: 0
      mode: RW
      description: "Digital Debounce Config for LCLS2."
    #########################################################
    DigitalBytes:
      class: IntField
      at:
        offset: 0x0040
      sizeBits: 8
      lsBit: 0
      mode: RO
      description: "Number of digital bytes in message."
    #########################################################
    SwBytes:
      class: IntField
      at:
        offset: 0x0041
      sizeBits: 8
      lsBit: 0
      mode: RO
      description: "Number of software bytes in message."
    #########################################################
    SwBitError:
      class: IntField
      at:
        offset: 0x0044
      sizeBits: 16
      lsBit: 0
      mode: RW
      description: "Value to set for sw bits in case of timeout."
    #########################################################
    SwBitValue:
      class: IntField
      at:
        offset: 0x0048
      sizeBits: 16
      lsBit: 0
      mode: RW
      description: "Value to set for sw bits."
    #########################################################
    RegInputBits:
      class: IntField
      at:
        offset: 0x0054
      sizeBits: 64
      lsBit: 0
      mode: RO
      description: "Debounced Input Values"
MpsConcentratorReg: &MpsConcentratorReg
  class: MMIODev
  configPrio: 1
  description: MPS Concentrator Module
  size: 0x10000
  ########
  children:
  ######## 
    #########################################################
    GtRxPolarity:
      class: IntField
      at:
        offset: 0x000
      sizeBits: 4
      lsBit: 0
      mode: RW
      description: "GtRxPolarity" 
    #########################################################
    GtTxPolarity:
      class: IntField
      at:
        offset: 0x0004
      sizeBits: 4
      lsBit: 0
      mode: RW
      description: "GtTxPolarity" 
    #########################################################
    GtTxPreCursor:
      class: IntField
      at:
        offset: 0x0080
        stride: 4
        nelms: 4
      sizeBits: 5
      lsBit: 0
      mode: RW
      description: "GtTxPreCursor" 
    #########################################################
    GtTxPostCursor:
      class: IntField
      at:
        offset: 0x0100
        stride: 4
        nelms: 4
      sizeBits: 5
      lsBit: 0
      mode: RW
      description: "GtTxPostCursor"   
    #########################################################
    GtTxDiffCtrl:
      class: IntField
      at:
        offset: 0x0180
        stride: 4
        nelms: 4
      sizeBits: 4
      lsBit: 0
      mode: RW
      description: "GtTxDiffCtrl"         

MpsConcentrator: &MpsConcentrator
  class: MMIODev
  configPrio: 1
  description: MPS Concentrator Module
  size: 0x100000
  ########
  children:
    MpsConcentratorReg:
       <<: *MpsConcentratorReg
       at:
          offset: 0x10000
    #########################################################
    PacketDropCount:
      class: IntField
      at:
        offset: 0x00000
        stride: 4
        nelms: 12
      sizeBits: 16
      lsBit: 0
      mode: RO
      description: "Packet Drop Count. "
    #########################################################
    OverflowCount:
      class: IntField
      at:
        offset: 0x00080
        stride: 4
        nelms: 12
      sizeBits: 16
      lsBit: 0
      mode: RO
      description: "Packet Overflow Count. "
    #########################################################
    PauseDetCnt:
      class: IntField
      at:
        offset: 0x00200
        stride: 4
        nelms: 12
      sizeBits: 16
      lsBit: 0
      mode: RO
      description: "Pause Detect Count. "      
    #########################################################
    PacketCount:
      class: IntField
      at:
        offset: 0x00100
      sizeBits: 32
      lsBit: 0
      mode: RO
      description: "Total Packet Count. "
    #########################################################
    PacketRate:
      class: IntField
      at:
        offset: 0x00104
      sizeBits: 32
      lsBit: 0
      mode: RO
      description: "Total Packet Rate. "
    #########################################################
    WordCount:
      class: IntField
      at:
        offset: 0x00108
      sizeBits: 32
      lsBit: 0
      mode: RO
      description: "Total Word Count. "
    #########################################################
    WordRate:
      class: IntField
      at:
        offset: 0x0010C
      sizeBits: 32
      lsBit: 0
      mode: RO
      description: "Total Word Rate. "
    #########################################################
    Size:
      class: IntField
      at:
        offset: 0x00110
      sizeBits: 32
      lsBit: 0
      mode: RO
      description: "Total Number Of Channels."
    #########################################################
    PgpSize:
      class: IntField
      at:
        offset: 0x00114
      sizeBits: 32
      lsBit: 0
      mode: RO
      description: "Number Of PGP Channels."
    #########################################################
    LocSize:
      class: IntField
      at:
        offset: 0x00118
      sizeBits: 32
      lsBit: 0
      mode: RO
      description: "Number Of Local Channels."
    #########################################################
    ArbCount:
      class: IntField
      at:
        offset: 0x0011C
      sizeBits: 5
      lsBit: 0
      mode: RO
      description: "Arbiter Count Size."

    #########################################################
    CountReset:
      class: IntField
      at:
        offset: 0x001F8
      sizeBits: 1
      lsBit: 0
      mode: RW
      description: "Counter Reset."
    #########################################################
    UserReset:
      class: IntField
      at:
        offset: 0x001FC
      sizeBits: 1
      lsBit: 0
      mode: RW
      description: "User Reset."         
    #########################################################
    ResetUser:
      class: SequenceCommand
      at:
        offset: 0x00
      description: "Command send the user reset."
      sequence:
        - entry: UserReset
          value: 0x01
        - entry: UserReset
          value: 0x00 
    #########################################################
    ResetCount:
      class: SequenceCommand
      at:
        offset: 0x0
      description: "Command to reset the counter."
      sequence:
        - entry: CountReset
          value: 0x01
        - entry: CountReset
          value: 0x00

GigEthReg: &GigEthReg 
  class: MMIODev
  description: GigEthReg 
  size: 0x1000
  #########
  children:
  #########
    #########################################################:
    StatusCounters:
      class: IntField
      at:
        offset: 0x000
        nelms: 9
      mode: RO
      description: Status Counters
    #########################################################:
    StatusVector:
      class: IntField
      at:
        offset: 0x100
      sizeBits: 9       
      mode: RO
      description: Status Vector   
    #########################################################:
    PhyStatus:
      class: IntField
      at:
        offset: 0x108
      sizeBits: 8      
      mode: RO
      description: PhyStatus              
    #########################################################:
    MacAddress:
      class: IntField
      at:
        offset: 0x200
      sizeBits: 48      
      mode: RO
      description: MAC Address (big-Endian)  
    #########################################################:
    PauseTime:
      class: IntField
      at:
        offset: 0x21C
      sizeBits: 16      
      mode: RO
      description: PauseTime  
    #########################################################:
    FilterEnable:
      class: IntField
      at:
        offset: 0x228
      sizeBits: 1    
      mode: RO
      description: FilterEnable 
    #########################################################:
    PauseEnable:
      class: IntField
      at:
        offset: 0x22C
      sizeBits: 1    
      mode: RO
      description: PauseEnable            
    #########################################################:
    RollOverEn:
      class: IntField
      at:
        offset: 0xF00
      sizeBits: 9    
      mode: RW
      description: RollOverEn        
    #########################################################:
    CounterReset:
      class: IntField
      at:
        offset: 0xFF4
      sizeBits: 1    
      mode: WO
      description: CounterReset  
    #########################################################:
    SoftReset:
      class: IntField
      at:
        offset: 0xFF8
      sizeBits: 1    
      mode: WO
      description: SoftReset    
    #########################################################:
    HardReset:
      class: IntField
      at:
        offset: 0xFFC
      sizeBits: 1    
      mode: WO
      description: HardReset          
    #########################################################

MpsLcls1Core: &MpsLcls1Core 
  class: MMIODev
  configPrio: 1
  description: Lcls1 Interface Core 
  size: 0x10000
  ########
  children:
  ########
    #########################################################
    #   Timeout Engine
    #########################################################
    TimeoutEnable:
      class: IntField
      at:
        offset: 0x0000
      sizeBits: 1
      lsBit: 0
      mode: RW
      description: "Enable Application Timeout Engine. "
    #########################################################
    TimeoutClear:
      class: IntField
      at:
        offset: 0x0000
      sizeBits: 1
      lsBit: 1
      mode: RW
      description: "Clear the latched timeout error. The clearing will occur on the rising edge of this signal."
    #########################################################
    TimeoutTime:
      class: IntField
      at:
        offset: 0x0004
      sizeBits: 3
      lsBit: 0
      mode: RW
      description: "Application timeout setting. In micro seconds. Range from 0 us to 7 us."
    #########################################################
    TimeoutMask:
      class: IntField
      at:
        offset: 0x0008
      sizeBits: 11
      mode: RW
      description: "11 Bit Application Mask. 1 - App Timeout Active/Enabled, 0 - App Timeout Inactive/Masked."
    #########################################################   
    appIdRemap:
      class: IntField
      at:
        offset: 0x000C
        stride: 4
        nelms: 11
      sizeBits: 10
      mode: RW
      description: "AppId Remapping. Remap the existing AppIDs in the carate to 0 - 10."
    #########################################################
    NodeId:
      class: IntField
      at:
        offset: 0x0040
      sizeBits: 8
      mode: RW
      description: "Lcls1 BLM Link Node Id for the App."
    #########################################################   
    TimeoutStatusMask:
      class: IntField
      at:
        offset: 0x0100
      sizeBits: 11
      mode: RO
      description: "Timeout error status (11 bit) - Shows which corresponding app is in timeout."
    #########################################################   
    lcls1MessageError:
      class: IntField
      at:
        offset: 0x0104
      sizeBits: 32
      mode: RO
      description: "Lcls1 Message Error counter."
    #########################################################   
    lcls2MessageError:
      class: IntField
      at:
        offset: 0x0108
      sizeBits: 32
      mode: RO
      description: "Lcls2 Message Error counter."
    #########################################################   
    IpAddr:
      class: IntField
      at:
        offset: 0x0110
      sizeBits: 32
      mode: RW
      description: "IP Address for LCLS1 Interface."
    #########################################################   
    MacAddr:
      class: IntField
      at:
        offset: 0x0114
      sizeBits: 48
      mode: RO
      description: "MAC Address for LCLS1 Interface. Set by BSI."
    #########################################################
    # Commands
    #########################################################
    ClearTout:
      name: ClearTout
      class: SequenceCommand
      at:
        offset: 0x0
      description: Clear timeout error
      sequence:
      - entry: TimeoutClear
        value: 0x1
      - entry: TimeoutClear
        value: 0x0 

MpsMitigationCore: &MpsMitigationCore
  class:       MMIODev
  configPrio:  1
  description: Mps Mitigation Core
  size:        0x340
  children:
    mpsTimeoutClr:
      at:
        offset:    0x000
      class:       IntField
      sizeBits:    1
      lsBit:       0
      mode:        RW
      description: Clear timeout latch
    mitMsgTimeStamp:
      at:
        offset:    0x010
      class:       IntField
      sizeBits:    16
      lsBit:       0
      mode:        RO
      description: Mitigation message, timestamp
    mpsErrorCnt:
      at:
        offset:    0x014
      class:       IntField
      sizeBits:    32
      lsBit:       0
      mode:        RO
      description: Error counter
    mpsTimeoutCnt:
      at:
        offset:    0x018
      class:       IntField
      sizeBits:    32
      lsBit:       0
      mode:        RO
      description: Timeout counter
    mpsRtmDest:
      at:
        offset:    0x100
        nelms:     8
        stride:    4
      class:       IntField
      sizeBits:    4
      lsBit:       0
      mode:        RW
      description: RTM destination 
    mpsAmcDest:
      at:
        offset:    0x200
        nelms:     4
        stride:    4
      class:       IntField
      sizeBits:    4
      lsBit:       0
      mode:        RW
      description: AMC desctination                    
    mitMsgClass:
      at:
        offset:    0x300
        nelms:     16
        stride:    4
      class:       IntField
      sizeBits:    4
      lsBit:       0
      mode:        RO
      description: Mitigation message, power class limits for each of 16 destinations
    clrTimeout:
      class: SequenceCommand
      at: 
        offset: 0x0
      description: Command to clear timeout
      sequence:
        - entry: mpsTimeoutClr
          value: 0x01
        - entry: mpsTimeoutClr
          value: 0x00
Pgp2bAxi: &Pgp2bAxi
  class: MMIODev
  configPrio: 1
  description: "Configuration and status of a downstream PGP link"
  size: 0x2000
  ########
  children:
    #########################################################
    countReset:
      at:
        offset: 0x00
      class: IntField
      sizeBits: 1
      lsBit: 0
      mode: RW
      description: "countReset"
    #########################################################
    resetRx:
      at:
        offset: 0x04
      class: IntField
      sizeBits: 1
      lsBit: 0
      mode: RW
      description: "resetRx"
    #########################################################
    flush:
      at:
        offset: 0x08
      class: IntField
      sizeBits: 1
      lsBit: 0
      mode: RW
      description: "flush"
    #########################################################
    Loopback:
      at:
        offset: 0xC
      class: IntField
      sizeBits: 3
      lsBit: 0
      mode: RW
      enums:
        - name: Disabled
          class: Off
          value: 0
        - name:  NearPcs
          class: Enum
          value: 1
        - name:  NearPma
          class: Enum
          value: 2
        - name:  FarPma
          class: Enum
          value: 4
        - name:  FarPcs
          class: Enum
          value: 6          
      description: "GT Loopback Mode"
    #########################################################
    LocData:
      at:
        offset: 0x10
      class: IntField
      sizeBits: 8
      lsBit: 0
      mode: RW
      description: "Sideband data to transmit"
    #########################################################
    LocDataEn:
      at:
        offset: 0x11
      class: IntField
      sizeBits: 1
      lsBit: 0
      mode: RW
      description: "Enable sideband data to transmit"
    #########################################################
    AutoStatus:
      at:
        offset: 0x14
      class: IntField
      sizeBits: 1
      lsBit: 0
      mode: RW
      description: "Auto Status Send Enable (PPI)"
    ######################################################### 
    RxPhyReady:
      at:
        offset: 0x20
      class: IntField
      sizeBits: 1
      lsBit: 0
      mode: RO
      description: "RX Phy is Ready"
    ######################################################### 
    TxPhyReady:
      at:
        offset: 0x20
      class: IntField
      sizeBits: 1
      lsBit: 1
      mode: RO
      description: "TX Phy is Ready"
    ######################################################### 
    RxLocalLinkReady:
      at:
        offset: 0x20
      class: IntField
      sizeBits: 1
      lsBit: 2
      mode: RO
      description: "Rx Local Link Ready"
    ######################################################### 
    RxRemLinkReady:
      at:
        offset: 0x20
      class: IntField
      sizeBits: 1
      lsBit: 3
      mode: RO
      description: "Rx Remote Link Ready"
    ######################################################### 
    TxLinkReady:
      at:
        offset: 0x20
      class: IntField
      sizeBits: 1
      lsBit: 4
      mode: RO
      description: "Tx Link Ready"
    ######################################################### 
    RxLinkPolarity:
      at:
        offset: 0x21
      class: IntField
      sizeBits: 2
      lsBit: 0
      mode: RO
      description: "Rx Link Polarity"
    ######################################################### 
    RxRemPause:
      at:
        offset: 0x21
      class: IntField
      sizeBits: 4
      lsBit: 4
      mode: RO
      description: "RX Remote Pause Asserted"
    ######################################################### 
    TxLocPause:
      at:
        offset: 0x22
      class: IntField
      sizeBits: 4
      lsBit: 0
      mode: RO
      description: "Tx Local Pause Asserted"
    ######################################################### 
    RxRemOverflow:
      at:
        offset: 0x22
      class: IntField
      sizeBits: 4
      lsBit: 4
      mode: RO
      description: "Received remote overflow flag"
    ######################################################### 
    TxLocOverflow:
      at:
        offset: 0x23
      class: IntField
      sizeBits: 4
      lsBit: 0
      mode: RO
      description: "Received local overflow flag"
    ######################################################### 
    RxRemLinkData:
      at:
        offset: 0x23
      class: IntField
      sizeBits: 8
      lsBit: 0
      mode: RO
      description: "RxRemLinkData"
    ######################################################### 
    RxCellErrorCount:
      at:
        offset: 0x28
      class: IntField
      sizeBits: 8
      lsBit: 0
      mode: RO
      description: "RxCellErrorCount"
    ######################################################### 
    RxLinkDownCount:
      at:
        offset: 0x2C
      class: IntField
      sizeBits: 8
      lsBit: 0
      mode: RO
      description: "RxLinkDownCount"
    ######################################################### 
    RxLinkErrorCount:
      at:
        offset: 0x30
      class: IntField
      sizeBits: 8
      lsBit: 0
      mode: RO
      description: "RxLinkErrorCount"
    ######################################################### 
    RxRemOverflow0Count:
      at:
        offset: 0x34
      class: IntField
      sizeBits: 8
      lsBit: 0
      mode: RO
      description: "RxRemOverflow0Count"
    ######################################################### 
    RxRemOverflow1Count:
      at:
        offset: 0x38
      class: IntField
      sizeBits: 8
      lsBit: 0
      mode: RO
      description: "RxRemOverflow1Count"
    ######################################################### 
    RxRemOverflow2Count:
      at:
        offset: 0x3C
      class: IntField
      sizeBits: 8
      lsBit: 0
      mode: RO
      description: "RxRemOverflow2Count"
    ######################################################### 
    RxRemOverflow3Count:
      at:
        offset: 0x40
      class: IntField
      sizeBits: 8
      lsBit: 0
      mode: RO
      description: "RxRemOverflow3Count"
    ######################################################### 
    RxFrameErrorCoumt:
      at:
        offset: 0x44
      class: IntField
      sizeBits: 8
      lsBit: 0
      mode: RO
      description: "RxFrameErrorCoumt"
    ######################################################### 
    RxFrameCount:
      at:
        offset: 0x48
      class: IntField
      sizeBits: 8
      lsBit: 0
      mode: RO
      description: "RxFrameCount"
    ######################################################### 
    TxLocOverflow0Count:
      at:
        offset: 0x4C
      class: IntField
      sizeBits: 8
      lsBit: 0
      mode: RO
      description: "TxLocOverflow0Count"
    ######################################################### 
    TxLocOverflow1Count:
      at:
        offset: 0x50
      class: IntField
      sizeBits: 8
      lsBit: 0
      mode: RO
      description: "TxLocOverflow1Count"
    ######################################################### 
    TxLocOverflow2Count:
      at:
        offset: 0x54
      class: IntField
      sizeBits: 8
      lsBit: 0
      mode: RO
      description: "TxLocOverflow2Count"
    ######################################################### 
    TxLocOverflow3Count:
      at:
        offset: 0x58
      class: IntField
      sizeBits: 8
      lsBit: 0
      mode: RO
      description: "TxLocOverflow3Count"
    ######################################################### 
    TxFrameErrorCount:
      at:
        offset: 0x5C
      class: IntField
      sizeBits: 8
      lsBit: 0
      mode: RO
      description: "TxFrameErrorCount"
    ######################################################### 
    TxFrameCount:
      at:
        offset: 0x60
      class: IntField
      sizeBits: 8
      lsBit: 0
      mode: RO
      description: "TxFrameCount"
    ######################################################### 
    RxClkFreq:
      at:
        offset: 0x64
      class: IntField
      sizeBits: 32
      lsBit: 0
      mode: RO
      description: "RxClkFreq"
    ######################################################### 
    TxClkFreq:
      at:
        offset: 0x68
      class: IntField
      sizeBits: 32
      lsBit: 0
      mode: RO
      description: "TxClkFreq"
    ######################################################### 
    LastTxOpCode:
      at:
        offset: 0x70
      class: IntField
      sizeBits: 8
      lsBit: 0
      mode: RO
      description: "LastTxOpCode"
    ######################################################### 
    LastRxOpCode:
      at:
        offset: 0x74
      class: IntField
      sizeBits: 8
      lsBit: 0
      mode: RO
      description: "LastRxOpCode"
    ######################################################### 
    TxOpCodeCount:
      at:
        offset: 0x78
      class: IntField
      sizeBits: 8
      lsBit: 0
      mode: RO
      description: "TxOpCodeCount"
    ######################################################### 
    RxOpCodeCount:
      at:
        offset: 0x7C
      class: IntField
      sizeBits: 8
      lsBit: 0
      mode: RO
      description: "RxOpCodeCount"
    #########################################################
    ## Commands
    #########################################################
    ResetCounters:
      class: SequenceCommand
      at:
        offset: 0x0
      description: ResetCounters
      sequence:
      - entry: countReset
        value: 0x1
      - entry: countReset
        value: 0x0
    #########################################################
    ResetReceiver:
      class: SequenceCommand
      at:
        offset: 0x0
      description: ResetReceiver
      sequence:
      - entry: resetRx
        value: 0x1
      - entry: resetRx
        value: 0x0
    #########################################################
    FlushData:
      class: SequenceCommand
      at:
        offset: 0x0
      description: FlushData
      sequence:
      - entry: flush
        value: 0x1
      - entry: flush
        value: 0x0
    #########################################################
MpsAsmCore: &MpsAsmCore
  class:       MMIODev
  configPrio:  1
  description: Mps Mitigation Core
  size:        0x340
  children:
    mpsAmcDest:
      at:
        offset:    00000
        nelms:     4
        stride:    4
      class:       IntField
      sizeBits:    4
      lsBit:       0
      mode:        RW
      enums:
        - { name: AMC00,         value: 0 }
        - { name: AMC01,         value: 1 }
        - { name: AMC10,         value: 2 }
        - { name: AMC11,         value: 3 }
        - { name: AOM_Permit,    value: 4 }
        - { name: Trg)Select,    value: 5 }
      description: "AMC desctination out of 6 option" 
    #########################################################
    mpsOpenSrs:
      class: IntField
      at:
        offset: 0x010
      sizeBits: 6
      lsBit: 0
      mode: RW
      description: "Open shutter signal selectionout of 64 inputs"
    #########################################################    
    mpsCloseSrs:
      class: IntField
      at:
        offset: 0x014
      sizeBits: 6
      lsBit: 0
      mode: RW
      description: "Closed shutter signal selectionout of 64 inputs"
    #########################################################     
    shtrSrs:
      class: IntField
      at:
        offset: 0x018
      sizeBits: 4
      lsBit: 0
      mode: RW
      description: "Shutter signal selectionout of 8 possible"
    ######################################################### 
    mpsAmcDout:
      class: IntField
      at:
        offset: 0x01C
      sizeBits: 4
      lsBit: 0
      mode: RO
      description: "State of the 4 AMC lines"
    #########################################################
    aomPermit:
      class: IntField
      at:
        offset: 0x01C
      sizeBits: 1
      lsBit: 4
      mode: RO
      description: "State of AOM permit line"
    #########################################################
    trgSelect:
      class: IntField
      at:
        offset: 0x01C
      sizeBits: 1
      lsBit: 5
      mode: RO
      description: "State of trigger select line"
    #########################################################
    shutter:
      class: IntField
      at:
        offset: 0x01C
      sizeBits: 1
      lsBit: 6
      mode: RO
      description: "State of shutter input line"
    #########################################################
    shtrClose:
      class: IntField
      at:
        offset: 0x01C
      sizeBits: 1
      lsBit: 7
      mode: RO
      description: "State of shutter closed input line"
    ########################################################
    shtrOpen:
      class: IntField
      at:
        offset: 0x01D
      sizeBits: 1
      lsBit: 0
      mode: RO
      description: "State of shutter open input line"
    ########################################################
    stateSM:
      class: IntField
      at:
        offset: 0x01D
      sizeBits: 2
      lsBit: 1
      mode: RO
      description: "State of SM"
    ########################################################
MpsLinkNodeCore: &MpsLinkNodeCore
  class: MMIODev
  configPrio: 1
  description: MPS Link Node Core Module
  size: 0x1000000
  ########
  children:
  ########
    MpsDigitalMessage:
       <<: *MpsDigitalMessage
       at:
          offset: 0x000000
    #########################################################
    MpsConcentrator:
       <<: *MpsConcentrator
       at:
          offset: 0x100000
    #########################################################
    MpsLcls1Core:
       <<: *MpsLcls1Core
       at:
          offset: 0x200000
    #########################################################
    GigEthReg:
       <<: *GigEthReg
       at:
          offset: 0x300000
    ##################################################
    UdpEngineServer:
       <<: *UdpEngineServer
       at:
          offset: 0x400800
    #########################################################
    UdpBroadcastIP:
       at:
         offset: 0x400FF0
       class: IntField
       sizeBits: 32
       mode: RW
       description: Broadcast IP port
    ##################################################
    UdpDhcpIP:
       at:
         offset: 0x400FF4
       class: IntField
       sizeBits: 32
       mode: RO
       description: DHCP IP port
    ##################################################
    UdplocalMac:
       at:
         offset: 0x400FF8
       class: IntField
       sizeBits: 32
       mode: RO
       description: Local MAC
    #########################################################
    Pgp2bAxi:
       <<: *Pgp2bAxi
       at:
          offset: 0x500000
          nelms:  4
          stride: 0x100000
    #########################################################
    MpsMitigationCore:
       <<: *MpsMitigationCore
       at:
          offset: 0x900000
    #########################################################

AppCore: &AppCore 
  name: AppCore
  description: AMC Carrier Application Core
  size: 0x10000000
  class: MMIODev
  configPrio: 1
  ########
  children:
  ########
    ##################################################     
    AmcGenericAdcDacCore:
      <<: *AmcGenericAdcDacCore
      at:
        offset: 0x00000000      
        stride: 0x00080000
        nelms: 2
    ################################################## 
    RtmMpsLinkNode:
      <<: *RtmMpsLinkNode
      at:
        offset: 0x01000000
    ################################################## 
    MpsAnalogCore:
      <<: *MpsAnalogCore
      at:
        offset: 0x02000000
    ################################################## 
    MpsLinkNodeCore:
      <<: *MpsLinkNodeCore
      at:
        offset: 0x03000000

DaqMuxV2: &DaqMuxV2
  name: DaqMuxV2
  description: Waveform Data Acquisition Module
  size: 0x1000
  class: MMIODev
  configPrio: 1
  metadata:
    - numOutPorts: 4              
  children:
    #########################################################
    TriggerSw:
      at:
        offset: 0x000
      class: IntField
      name: TriggerSw
      sizeBits: 1
      lsBit: 0
      mode: RW
      description: "Software Trigger (triggers DAQ on all enabled channels)."
    #########################################################
    TriggerCascMask:
      at:
        offset: 0x000
      class: IntField
      name: TriggerCascMask
      sizeBits: 1
      lsBit: 1
      mode: RW
      enums:
        - name: Disabled
          class: Enum
          value: 0
        - name: Enabled
          class: Enum
          value: 1
      description: Mask for enabling/disabling cascaded trigger.
    #########################################################
    TriggerHwAutoRearm:
      at:
        offset: 0x000
      class: IntField
      name: TriggerHwAutoRearm
      sizeBits: 1
      lsBit: 2
      mode: RW
      enums:
        - name: Disabled
          class: Enum
          value: 0
        - name: Enabled
          class: Enum
          value: 1
      description: Mask for enabling/disabling hardware trigger. If disabled it has
        to be rearmed by ArmHwTrigger.
    #########################################################
    TriggerHwArm:
      at:
        offset: 0x000
      class: IntField
      name: TriggerHwArm
      sizeBits: 1
      lsBit: 3
      mode: RW
      description: Arm the Hardware trigger (On the rising edge). After trigger occurs
        the trigger has to be rearmed.
    #########################################################
    TriggerClearStatus:
      at:
        offset: 0x000
      class: IntField
      name: TriggerClearStatus
      sizeBits: 1
      lsBit: 4
      mode: RW
      description: Trigger status will be cleared (On the rising edge).
    #########################################################
    DaqMode:
      at:
        offset: 0x000
      class: IntField
      name: DaqMode
      sizeBits: 1
      lsBit: 5
      mode: RW
      enums:
        - name: TriggeredMode
          class: Enum
          value: 0
        - name: ContinuousMode
          class: Enum
          value: 1
      description: Select the data ackuisition mode.
    #########################################################
    PacketHeaderEn:
      at:
        offset: 0x000
      class: IntField
      name: PacketHeaderEn
      sizeBits: 1
      lsBit: 6
      mode: RW
      enums:
        - name: Disabled
          class: Enum
          value: 0
        - name: Enabled
          class: Enum
          value: 1
      description: Applies only to Triggered mode.
    #########################################################
    FreezeSw:
      at:
        offset: 0x000
      class: IntField
      name: FreezeSw
      sizeBits: 1
      lsBit: 7
      mode: RW
      description: Software freeze buffer (Freezes all enabled circular buffers).
    #########################################################
    FreezeHwMask:
      at:
        offset: 0x001
      class: IntField
      name: FreezeHwMask
      sizeBits: 1
      lsBit: 0
      mode: RW
      enums:
        - name: Disabled
          class: Enum
          value: 0
        - name: Enabled
          class: Enum
          value: 1
      description: Mask for enabling/disabling hardware freaze buffer request.
    #########################################################
    TriggerSwStatus:
      at:
        offset: 0x004
      class: IntField
      name: TriggerSwStatus
      sizeBits: 1
      lsBit: 0
      mode: RO
      description: Software Trigger Status (Registered on first trigger until cleared
        by TriggerClearStatus).
    #########################################################
    TriggerCascStatus:
      at:
        offset: 0x004
      class: IntField
      name: TriggerCascStatus
      sizeBits: 1
      lsBit: 1
      mode: RO
      description: Cascade Trigger Status (Registered on first trigger until cleared
        by TriggerClearStatus).
    #########################################################
    TriggerHwStatus:
      at:
        offset: 0x004
      class: IntField
      name: TriggerHwStatus
      sizeBits: 1
      lsBit: 2
      mode: RO
      description: Hardware Trigger Status (Registered on first trigger until cleared
        by TriggerClearStatus).
    #########################################################
    TriggerHwArmed:
      at:
        offset: 0x004
      class: IntField
      name: TriggerHwArmed
      sizeBits: 1
      lsBit: 3
      mode: RO
      description: Hardware Trigger Armed Status (Registered on rising edge Control(3)
        and cleared when Hw trigger occurs).
    #########################################################
    TriggerStatus:
      at:
        offset: 0x004
      class: IntField
      name: TriggerStatus
      sizeBits: 1
      lsBit: 4
      mode: RO
      description: Combined Trigger Status (Registered on first trigger until cleared
        by TriggerClearStatus).
    #########################################################    
    FreezeStatus:
      at:
        offset: 0x004
      class: IntField
      name: FreezeStatus
      sizeBits: 1
      lsBit: 5
      mode: RO
      description: Freeze Buffers Status (Registered on first freeze until cleared
        by TriggerClearStatus)
    #########################################################      
    DecimationRateDiv:
      at:
        offset: 0x008
      class: IntField
      name: DecimationRateDiv
      sizeBits: 16
      mode: RW
      description: 'Averaging Enabled: (powers of two) 1,2,4,8,16,etc (max 2^12).
        Averaging Disabled (32-bit): 1,2,3,4,etc (max 2^16-1). Averaging Disabled
        (16-bit): 1,2,4,6,8,etc (max 2^16-1).'
    #########################################################
    DataBufferSize:
      at:
        offset: 0x00C
      class: IntField
      name: DataBufferSize
      sizeBits: 32
      mode: RW
      description: Number of 32-bit words. Minimum size is 4.
    #########################################################
    Timestamp:
      at:
        offset: 0x010
        nelms: 2
      class: IntField
      name: Timestamp
      sizeBits: 32
      mode: RO
      description: Timestamp 63:0
    #########################################################
    Bsa:
      at:
        offset: 0x018
        nelms: 4
      class: IntField
      name: Bsa
      sizeBits: 32
      mode: RO
      description:  "bsa(0) - edefAvgDn, bsa(1) - edefMinor, bsa(2) - edefMajor, bsa(3) - edefInit"
    #########################################################
    TrigCount:
      at:
        offset: 0x028
      class: IntField
      name: TrigCount
      sizeBits: 32
      mode: RO
      description:  "Counts valid data acquisition triggers."
    #########################################################
    DbgInputValid:
      at:
        offset: 0x02C
      class: IntField
      name: DbgInputValid
      sizeBits: 32
      mode: RO
      description:  "Input Valid bus for debugging"   
    #########################################################
    DbgLinkReady:
      at:
        offset: 0x030
      class: IntField
      name: DbgInputValid
      sizeBits: 32
      mode: RO
      description:  "Input LinkReady bus for debugging"         
    #########################################################
    InputMuxSel:
      at:
        offset: 0x040
        stride: 4
        nelms: 4                  
      class: IntField
      name: InputMuxSel
      sizeBits: 5
      mode: RW
      enums:
        - name: Disabled
          class: Enum
          value: 0
        - name: Test
          class: Enum
          value: 1
        - name: Ch0
          class: Enum
          value: 2
        - name: Ch1
          class: Enum
          value: 3
        - name: Ch2
          class: Enum
          value: 4
        - name: Ch3
          class: Enum
          value: 5
        - name: Ch4
          class: Enum
          value: 6
        - name: Ch5
          class: Enum
          value: 7
        - name: Ch6
          class: Enum
          value: 8
        - name: Ch7
          class: Enum
          value: 9
        - name: Ch8
          class: Enum
          value: 10
        - name: Ch9
          class: Enum
          value: 11
        - name: Ch10
          class: Enum
          value: 12
        - name: Ch11
          class: Enum
          value: 13
        - name: Ch12
          class: Enum
          value: 14
        - name: Ch13
          class: Enum
          value: 15
        - name: Ch14
          class: Enum
          value: 16
        - name: Ch15
          class: Enum
          value: 17
        - name: Ch16
          class: Enum
          value: 18
        - name: Ch17
          class: Enum
          value: 19
        - name: Ch18
          class: Enum
          value: 20
        - name: Ch19
          class: Enum
          value: 21
        - name: Ch20
          class: Enum
          value: 22
        - name: Ch21
          class: Enum
          value: 23
        - name: Ch22
          class: Enum
          value: 24
        - name: Ch23
          class: Enum
          value: 25
        - name: Ch24
          class: Enum
          value: 26
        - name: Ch25
          class: Enum
          value: 27
        - name: Ch26
          class: Enum
          value: 28
        - name: Ch27
          class: Enum
          value: 29
        - name: Ch28
          class: Enum
          value: 30
        - name: Ch29
          class: Enum
          value: 31
      description: Input Mux select. Maximum number of channels is 29.
    #########################################################
    StreamPause:
      at:
        offset: 0x080
        stride: 4
        nelms: 4                  
      class: IntField
      name: StreamPause
      sizeBits: 1
      mode: RO
      description: Raw diagnostic stream control Pause.
    #########################################################
    StreamReady:
      at:
        offset: 0x080
        stride: 4
        nelms: 4                  
      class: IntField
      name: StreamReady
      sizeBits: 1
      lsBit: 1
      mode: RO
      description: Raw diagnostic stream control Ready.
    #########################################################
    StreamOverflow:
      at:
        offset: 0x080
        stride: 4
        nelms: 4                  
      class: IntField
      name: StreamOverflow
      sizeBits: 1
      lsBit: 2
      mode: RO
      description: Raw diagnostic stream control Overflow.
    #########################################################
    StreamError:
      at:
        offset: 0x080
        stride: 4
        nelms: 4                  
      class: IntField
      name: StreamError
      sizeBits: 1
      lsBit: 3
      mode: RO
      description: Error during last Acquisition (Raw diagnostic stream control Ready
        or incoming data valid dropped).
    #########################################################
    InputDataValid:
      at:
        offset: 0x080
        stride: 4
        nelms: 4                  
      class: IntField
      name: InputDataValid
      sizeBits: 1
      lsBit: 4
      mode: RO
      description: The incoming data is Valid (Usually connected to JESD valid signal).
    #########################################################
    StreamEnabled:
      at:
        offset: 0x080
        stride: 4
        nelms: 4                  
      class: IntField
      name: StreamEnabled
      sizeBits: 1
      lsBit: 5
      mode: RO
      description: Output stream enabled.
    #########################################################
    FrameCnt:
      at:
        offset: 0x080
        stride: 4
        nelms: 4                  
      class: IntField
      name: FrameCnt
      sizeBits: 26
      lsBit: 6
      mode: RO
      description: Number of 4096 byte frames sent.
    #########################################################
    FormatSignWidth:
      at:
        offset: 0x0C0
        stride: 4
        nelms: 4                  
      class: IntField
      name: FormatSignWidth
      sizeBits: 5
      mode: RW
      hidden: true
      description: Indicating sign extension point.
    #########################################################
    FormatDataWidth:
      at:
        offset: 0x0C0
        stride: 4
        nelms: 4                  
      class: IntField
      name: FormatDataWidth
      sizeBits: 1
      lsBit: 5
      mode: RW
      enums:
        - name: D32-bit
          class: Enum
          value: 0
        - name: D16-bit
          class: Enum
          value: 1
      description: Data width 32-bit or 16-bit.
    #########################################################
    FormatSign:
      at:
        offset: 0x0C0
        stride: 4
        nelms: 4                  
      class: IntField
      name: FormatSign
      sizeBits: 1
      lsBit: 6
      mode: RW
      enums:
        - name: Unsigned
          class: Enum
          value: 0
        - name: Signed
          class: Enum
          value: 1
      hidden: true
      description: Sign format.
    #########################################################
    DecimationAveraging:
      at:
        offset: 0x0C0
        stride: 4
        nelms: 4                  
      class: IntField
      name: DecimationAveraging
      sizeBits: 1
      lsBit: 7
      mode: RW
      enums:
        - name: Disabled
          class: Enum
          value: 0
        - name: Enabled
          class: Enum
          value: 1
      description: Decimation Averaging.
    #########################################################
    TriggerDaq:
      name: TriggerDaq
      class: SequenceCommand
      at:
        offset: 0x0
      description: Trigger data aquisition from software.
      sequence:
      - entry: TriggerSw
        value: 0x1
      - entry: TriggerSw
        value: 0x0
    #########################################################
    ArmHwTrigger:
      name: ArmHwTrigger
      class: SequenceCommand
      at:
        offset: 0x0
      description: Arm Hardware Trigger.
      sequence:
      - entry: TriggerHwArm
        value: 0x1
      - entry: TriggerHwArm
        value: 0x0
    #########################################################
    FreezeBuffers:
      name: FreezeBuffers
      class: SequenceCommand
      at:
        offset: 0x0
      description: Freeze circular buffers from software.
      sequence:
      - entry: FreezeSw
        value: 0x1
      - entry: FreezeSw
        value: 0x0
    #########################################################
    ClearTrigStatus:
      name: ClearTrigStatus
      class: SequenceCommand
      at:
        offset: 0x0
      description: Clear the status.
      sequence:
      - entry: TriggerClearStatus
        value: 0x1
      - entry: TriggerClearStatus
        value: 0x0
    #########################################################
JesdRx: &JesdRx
  class: MMIODev
  configPrio: 1
  description: JESD RX Module
  size: 0x200
  metadata:
    numRxLanes: &numRxLanes 8
  #########
  children:
    #########################################################
    Enable:
      at:
        offset: 0x00
      class: IntField
      name: Enable
      sizeBits: *numRxLanes
      mode: RW
      description: "Enable mask. Example: 0x3F Enable ln0 to ln5."
    #########################################################    
    SysrefDelay: 
      at:
        offset: 0x04
      class: IntField
      name: SysrefDelay
      sizeBits: 8
      mode: RW
      description: "Sets the system reference delay in clock cycles. Use if you want to reduce the latency (The latency is indicated by ElBuffLatency status). "
    #########################################################    
    SubClass:    
      at:
        offset: 0x10
      class: IntField
      name: SubClass
      sizeBits: 1
      lsBit: 0
      mode: RW
      description: "Jesd204b SubClass. 0 - For designs without sysref (no fixed latency). 1 - Fixed latency."
    #########################################################    
    ReplaceEnable:  
      at:
        offset: 0x10
      class: IntField
      name: ReplaceEnable
      sizeBits: 1
      lsBit: 1
      mode: RW
      enums:
        - name: Disabled
          class: Enum
          value: 0
        - name:  Enabled
          class: Enum
          value: 1
      description: "ReplaceEnable. Replace the control characters with data. (Should be 1 use 0 only for debug)."
    #########################################################    
    ResetGTs:  
      at:
        offset: 0x10
      class: IntField
      name: ResetGTs
      sizeBits: 1
      lsBit: 2
      mode: RW
      description: "ResetGTs. Request reset of the GT modules."
    #########################################################     
    ClearErrors:   
      at:
        offset: 0x10
      class: IntField
      name: ClearErrors
      sizeBits: 1
      lsBit: 3
      mode: RW
      description: "Clear Jesd Errors and reset the status counters."
    #########################################################    
    InvertSync: 
      at:
        offset: 0x10
      class: IntField
      name: InvertSync
      sizeBits: 1
      lsBit: 4
      mode: RW
      enums:
        - name: Regular
          class: Enum
          value: 0
        - name: Inverted
          class: Enum
          value: 1
      description: "Invert Sync. Sync output has to be inverted in some systems depending on signal polarities on the PCB."
    #########################################################    
    ScrambleEnable: 
      at:
        offset: 0x10
      class: IntField
      name: ScrambleEnable
      sizeBits: 1
      lsBit: 5
      mode: RW
      enums:
        - name: Disabled
          class: Enum
          value: 0
        - name: Enabled
          class: Enum
          value: 1
      description: "ScrambleEnable. Enable data scrambling (More info in Jesd204b standard)."
    #########################################################
    LinkErrMask:   
      at:
        offset: 0x14
      class: IntField
      name: LinkErrMask
      sizeBits: 6
      mode: RW
      description: "Mask Enable the errors that are required to brake the link. bit 5-0: positionErr - s_bufOvf - s_bufUnf - dispErr - decErr - s_alignErr"
    #########################################################
    InvertAdcData:   
      at:
        offset: 0x18
      class: IntField
      name: InvertAdcData
      sizeBits: *numRxLanes
      mode: RW
      description: "Mask Enable the ADC data inversion. 1-Inverted, 0-normal."
    #########################################################
    PowerDown:   
      at:
        offset: 0x24
      class: IntField
      name: PowerDown
      sizeBits: *numRxLanes
      mode: RW
      description: "Power Down Mask 1-PowerDown, 0-normal."            
    #########################################################
    SysRefPeriodmin:   
      at:
        offset: 0x28
      class: IntField
      name: SysRefPeriodmin
      sizeBits: 16
      mode: RO
      description: "SysRef Period min"   
    #########################################################
    SysRefPeriodmax:   
      at:
        offset: 0x2A
      class: IntField
      name: SysRefPeriodmax
      sizeBits: 16
      mode: RO
      description: "SysRef Period max"    
    #########################################################
    GTReady:
      at:
        offset: 0x040
        stride: 4
        nelms: *numRxLanes
      class: IntField
      name: GTReady
      sizeBits: 1
      lsBit: 0
      mode: RO
      description: "GT Ready. Jesd clock ok PLLs are locked and GT is ready to receive data."
    #########################################################    
    DataValid:        
      at:
        offset: 0x040
        stride: 4
        nelms: *numRxLanes
      class: IntField
      name: DataValid
      sizeBits: 1
      lsBit: 1
      mode: RO
      description: "Jesd Data Valid. Goes high after the code synchronisation and ILAS sequence is complete (More info in Jesd204b standard)."
    #########################################################     
    AlignErr:       
      at:
        offset: 0x040
        stride: 4
        nelms: *numRxLanes
      class: IntField
      name: AlignErr
      sizeBits: 1
      lsBit: 2
      mode: RO
      description: "Jesd Character Alignment Error. The control characters in the data are missaligned. This error will trigger JESD re-synchronisation."
    #########################################################    
    nSync:        
      at:
        offset: 0x040
        stride: 4
        nelms: *numRxLanes
      class: IntField
      name: nSync
      sizeBits: 1
      lsBit: 3
      mode: RO
      description: "Synchronisation request. 0 - Not synchronised. 1 - Indicades that code group synchronisation has been completed."
    #########################################################    
    RxBuffUfl:        
      at:
        offset: 0x040
        stride: 4
        nelms: *numRxLanes
      class: IntField
      name: RxBuffUfl
      sizeBits: 1
      lsBit: 4
      mode: RO
      description: "Jesd sync fifo buffer undeflow. This error will trigger JESD re-synchronisation."
    #########################################################    
    RxBuffOfl:        
      at:
        offset: 0x040
        stride: 4
        nelms: *numRxLanes
      class: IntField
      name: RxBuffOfl
      sizeBits: 1
      lsBit: 5
      mode: RO
      description: "Jesd elastic buffer overflow. This error will trigger JESD re-synchronisation."
    #########################################################    
    PositionErr:        
      at:
        offset: 0x040
        stride: 4
        nelms: *numRxLanes
      class: IntField
      name: PositionErr
      sizeBits: 1
      lsBit: 6
      mode: RO
      description: "The position of K28.5 character during code group synchronisation is wrong. This error will trigger JESD re-synchronisation."
    #########################################################    
    RxEnabled:        
      at:
        offset: 0x040
        stride: 4
        nelms: *numRxLanes
      class: IntField
      name: RxEnabled
      sizeBits: 1
      lsBit: 7
      mode: RO
      description: "Rx Lane Enabled. Indicates if the lane had been enabled in configuration."
    #########################################################     
    SysRefDetected:       
      at:
        offset: 0x041
        stride: 4
        nelms: *numRxLanes
      class: IntField
      name: SysRefDetected
      sizeBits: 1
      lsBit: 0
      mode: RO
      description: "System Reference input has been Detected."
    #########################################################    
    CommaDetected:        
      at:
        offset: 0x041
        stride: 4
        nelms: *numRxLanes
      class: IntField
      name: CommaDetected
      sizeBits: 1
      lsBit: 1
      mode: RO
      description: "The K28.5 characters detected in the serial stream. "
    #########################################################     
    DisparityErr:       
      at:
        offset: 0x041
        stride: 4
        nelms: *numRxLanes
      class: IntField
      name: DisparityErr
      sizeBits: 4
      lsBit: 2
      mode: RO
      description:  "Latched High when the data byte on RXDATA arrives with the wrong disparity. Indicates bad serial connection (Check HW)."
    #########################################################    
    NotInTableErr:        
      at:
        offset: 0x041
        stride: 4
        nelms: *numRxLanes
      class: IntField
      name: NotInTableErr
      sizeBits: 4
      lsBit: 6
      mode: RO
      description: "NotInTableErr. When GT decoder received s 10-bit character that cannot be mapped into a valid 8B/10B character. Indicates bad serial connection (Check HW)."
    #########################################################    
    ElBuffLatency:        
      at:
        offset: 0x042
        stride: 4
        nelms: *numRxLanes
      class: IntField
      name: ElBuffLatency
      sizeBits: 8
      lsBit: 2
      mode: RO
      description: "Jesd204b elastic buffer latency in c-c. Can be adjusted by Sysref delay."
    ########################################################     
    ThresholdLow:     
      at:
        offset: 0xC0
        stride: 4
        nelms: *numRxLanes
      class: IntField
      name: ThresholdLow
      sizeBits: 16
      mode: RW
      description: "Threshold_Low. Debug funtionality. Threshold for generating a digital signal from the ADC data."
    #########################################################    
    ThresholdHigh:   
      at:
        offset: 0xC2
        stride: 4
        nelms: *numRxLanes
      class: IntField
      name: ThresholdHigh
      sizeBits: 16
      mode: RW
      description: "Threshold_High. Debug funtionality. Threshold for generating a digital signal from the ADC data."
    #########################################################    
    StatusValidCnt:   
      at:
        offset: 0x100
        stride: 4
        nelms: *numRxLanes
      class: IntField
      name: StatusValidCnt
      sizeBits: 32
      mode: RO
      description: "StatusValidCnt. Shows stability of JESD lanes. Counts number of JESD re-syncronisations."
    ######################################################### 
    RawData:   
      at:
        offset: 0x140
        stride: 4
        nelms: *numRxLanes
      class: IntField
      name: RawData
      sizeBits: 32
      mode: RO
      description: "Raw data from GT."
    #########################################################  
    ClearRxErrors:
      name: ClearRxErrors
      class: SequenceCommand
      at:
        offset: 0x0
      description: Clear the registered errors of all RX lanes
      sequence:
      - entry: ClearErrors
        value: 0x1
      - entry: ClearErrors
        value: 0x0
    #########################################################
    ResetRxGTs:
      name: ResetRxGTs
      class: SequenceCommand
      at:
        offset: 0x0
      description: Toggle the reset of all RX MGTs
      sequence:
      - entry: ResetGTs
        value: 0x1
      - entry: ResetGTs
        value: 0x0
    #########################################################
JesdTx: &JesdTx
  class: MMIODev
  configPrio: 1
  description: JESD TX Module
  size: 0x400
  metadata:
    numTxLanes: &numTxLanes 8
  #########
  children:
    #########################################################
    Enable:
      at:
        offset: 0x00
      class: IntField
      name: Enable
      sizeBits: *numTxLanes
      mode: RW
      description: "Enable mask. Example: 0x3 Enable ln0 and ln1."
    #########################################################      
    SubClass:
      at:
        offset: 0x10
      class: IntField
      name: SubClass
      sizeBits: 1
      lsBit: 0
      mode: RW
      description: "Jesd204b SubClass. 0 - For designs without sysref (no fixed latency). 1 - Fixed latency."
    ######################################################### 
    ReplaceEnable:
      at:
        offset: 0x10
      class: IntField
      name: ReplaceEnable
      sizeBits: 1
      lsBit: 1
      mode: RW
      description: "ReplaceEnable. Replace the control characters with data. (Should be 1 use 0 only for debug)."
    #########################################################    
    ResetGTs:
      at:
        offset: 0x10
      class: IntField
      name: ResetGTs
      sizeBits: 1
      lsBit: 2
      mode: RW
      description: "ResetGTs. Request reset of the GT modules."
    #########################################################     
    ClearErrors:   
      at:
        offset: 0x10
      class: IntField
      name: ClearErrors
      sizeBits: 1
      lsBit: 3
      mode: RW
      description: "Clear Jesd Errors and reset the status counters."
    #########################################################      
    InvertSync:
      at:
        offset: 0x10
      class: IntField
      name: InvertSync
      sizeBits: 1
      lsBit: 4
      mode: RW
      description: "InvertSync. Invert sync input (the AMC card schematics should be checkes if inverted). "
    ######################################################### 
    TestSigEnable:
      at:
        offset: 0x10
      class: IntField
      name: TestSigEnable
      sizeBits: 1
      lsBit: 5
      mode: RW
      # description: "Enable test signal. Note: Has to be toggled if test signal type is changed to align the lanes (Default '1')."
      description: "Legacy Signal that is no longer used"
    #########################################################    
    ScrambleEnable:
      at:
        offset: 0x10
      class: IntField
      name: ScrambleEnable
      sizeBits: 1
      lsBit: 6
      mode: RW
      enums:
        - name: Disabled
          class: Enum
          value: 0
        - name: Enabled
          class: Enum
          value: 1
      description: "ScrambleEnable. Enable data scrambling (More info in Jesd204b standard). "
    #########################################################    
    RampStep:
      at:
        offset: 0x14
      class: IntField
      name: RampStep
      sizeBits: 16
      mode: RW
      description: "Ramp increment step and a period of the wave in c-c"
    #########################################################    
    SquarePeriod:
      at:
        offset: 0x16
      class: IntField
      name: SquarePeriod
      sizeBits: 16
      mode: RW
      description: "Ramp increment step and a period of the wave in c-c"
    #########################################################     
    LowAmplitudeVal:
      at:
        offset: 0x18
      class: IntField
      name: LowAmplitudeVal
      mode: RW
      description: Low value of the square waveform amplitude
    #########################################################      
    HighAmplitudeVal:
      at:
        offset: 0x1C
      class: IntField
      name: HighAmplitudeVal
      mode: RW
      description: High value of the square waveform amplitude
    #########################################################
    InvertDacData:   
      at:
        offset: 0x20
      class: IntField
      name: InvertDacData
      sizeBits: *numTxLanes
      mode: RW
      description: "Mask Enable the DAC data inversion. 1-Inverted, 0-normal."
    #########################################################
    PowerDown:   
      at:
        offset: 0x24
      class: IntField
      name: PowerDown
      sizeBits: *numTxLanes
      mode: RW
      description: "Power Down Mask 1-PowerDown, 0-normal."    
    #########################################################
    SysRefPeriodmin:   
      at:
        offset: 0x28
      class: IntField
      name: SysRefPeriodmin
      sizeBits: 16
      mode: RO
      description: "SysRef Period min"   
    #########################################################
    SysRefPeriodmax:   
      at:
        offset: 0x2A
      class: IntField
      name: SysRefPeriodmax
      sizeBits: 16
      mode: RO
      description: "SysRef Period max"         
    #########################################################       
    GTReady:
      at:
        offset: 0x040
        stride: 4
        nelms: *numTxLanes
      class: IntField
      name: GTReady
      sizeBits: 1
      lsBit: 0
      mode: RO
      description: "GT Ready. Jesd clock ok PLLs are locked and GT is ready to receive data."
    #########################################################      
    DataValid:        
      at:
        offset: 0x040
        stride: 4
        nelms: *numTxLanes
      class: IntField
      name: DataValid
      sizeBits: 1
      lsBit: 1
      mode: RO
      description: "Jesd Data Valid. Goes high after the code synchronisation and ILAS sequence is complete (More info in Jesd204b standard)."
    #########################################################
    IlasActive:       
      at:
        offset: 0x040
        stride: 4
        nelms: *numTxLanes
      class: IntField
      name: IlasActive
      sizeBits: 1
      lsBit: 2
      mode: RO
      description: "ILA sequence Active. Only 1 for 4 multiframe clock cycles then it drops (More info in Jesd204b standard)."
    #########################################################
    nSync:       
      at:
        offset: 0x040
        stride: 4
        nelms: *numTxLanes
      class: IntField
      name: nSync
      sizeBits: 1
      lsBit: 3
      mode: RO
      description: "nSync. 0 - Not synchronised. 1 - Indicades that code group synchronisation has been completed."
    #########################################################    
    TxEnabled:        
      at:
        offset: 0x040
        stride: 4
        nelms: *numTxLanes
      class: IntField
      name: TxEnabled
      sizeBits: 1
      lsBit: 4
      mode: RO
      description: "Tx Lane Enabled. Indicates if the lane had been enabled in configuration."
    #########################################################     
    SysRefDetected:       
      at:
        offset: 0x040
        stride: 4
        nelms: *numTxLanes
      class: IntField
      name: SysRefDetected
      sizeBits: 1
      lsBit: 5
      mode: RO
      description: "System Reference input has been Detected."
    #########################################################     
    dataOutMux:       
      at:
        offset: 0x080
        stride: 4
        nelms: *numTxLanes
      class: IntField
      name: dataOutMux
      sizeBits: 4
      lsBit: 0
      mode: RW
      enums:
        - name: OutputZero
          class: Enum
          value: 0
        - name: UserData
          class: Enum
          value: 1
        - name: AxiStream
          class: Enum
          value: 2
        - name: TestData
          class: Enum
          value: 3          
      description: "data_out_mux: Select between: b000 - Output zero, b001 - Parallel data from inside FPGA, b010 - Data from AXI stream (not used), b011 - Test data"
    #########################################################    
    testOutMux:
      at:
        offset: 0x080
        stride: 4
        nelms: *numTxLanes
      class: IntField
      name: testOutMux
      sizeBits: 4
      lsBit: 4
      mode: RW
      enums:
        - name: SawIncrement
          class: Enum
          value: 0
        - name: SawDecrement
          class: Enum
          value: 1
        - name: SquareWave
          class: Enum
          value: 2
        - name: OutputZero
          class: Enum
          value: 3 
      description: "test_out_mux[1:0]: Select between: b000 - Saw signal increment, b001 - Saw signal decrement, b010 - Square wave,  b011 - Output zero" 
    #########################################################          
    StatusValidCnt:
      at:
        offset: 0x100
        stride: 4
        nelms: *numTxLanes
      class: IntField
      name: StatusValidCnt
      sizeBits: 32
      mode: RO
      description: "StatusValidCnt[31:0]. Shows stability of JESD lanes. Counts number of JESD re-syncronisations."
    #########################################################     
    TxDiffCtrl:
      at:
        offset: 0x200
        stride: 4
        nelms: *numTxLanes
      class: IntField
      name: TxDiffCtrl
      sizeBits: 8
      lsBit: 0
      mode: RW
      description: "TX diff. swing control"
    #########################################################
    TxPostCursor:
      at:
        offset: 0x201
        stride: 4
        nelms: *numTxLanes
      class: IntField
      name: TxPostCursor
      sizeBits: 8
      lsBit: 0
      mode: RW
      description: "TX post cursor control"
    #########################################################
    TxPreCursor:
      at:
        offset: 0x202
        stride: 4
        nelms: *numTxLanes
      class: IntField
      name: TxPreCursor
      sizeBits: 8
      lsBit: 0
      mode: RW
      description: "TX pre cursor control"
    #########################################################
    ClearTxStatus:
      name: ClearTxStatus
      class: SequenceCommand
      at:
        offset: 0x0
      description: "Clear the status valid counter of TX lanes."
      sequence:
      - entry: ClearErrors
        value: 0x1
      - entry: ClearErrors
        value: 0x0
    #########################################################
    ResetTxGTs:
      name: ResetTxGTs
      class: SequenceCommand
      at:
        offset: 0x0
      description: Toggle the reset of all TX MGTs
      sequence:
      - entry: ResetGTs
        value: 0x1
      - entry: ResetGTs
        value: 0x0
    #########################################################
AppTopJesd: &AppTopJesd 
  description: Common Application Top Level JESD Module
  class: MMIODev
  configPrio: 1
  size: 0x10000000
  ########
  children:
  ########
    ##################################################     
    JesdRx:
      <<: *JesdRx
      at:
        offset: 0x00000000  
      instantiate: false 
    ##################################################     
    JesdTx:
      <<: *JesdTx
      at:
        offset: 0x01000000   
      instantiate: false 
    ##################################################
DacSigGen: &DacSigGen 
  name: DacSigGen
  description: Signal generator module
  class: MMIODev
  configPrio: 1
  size: 0x10000000
  metadata:
    numOfChs: &numOfChs 2
    ramWidth: &ramWidth 16
    buffSize: &buffSize 0x200
  #########             
  children:
    #########################################################
    EnableMask:
      at:
        offset: 0x000
      class: IntField
      name: EnableMask
      sizeBits: *numOfChs
      mode: RW
      description: "Mask Enable channels."
    #########################################################    
    ModeMask: 
      at:
        offset: 0x004
      class: IntField
      name: ModeMask
      sizeBits: *numOfChs
      mode: RW
      description: "Mask select Mode: 0 - Triggered Mode. 1 - Periodic Mode"
    #########################################################    
    SignFormat: 
      at:
        offset: 0x008
      class: IntField
      name: SignFormat
      sizeBits: *numOfChs
      mode: RW
      description: "Mask select Sign: 0 - Signed 2's complement, 1 - Offset binary (Currently Applies only to zero data)"
    #########################################################    
    SoftwareTrigger: 
      at:
        offset: 0x00C
      class: IntField
      name: SoftwareTrigger
      sizeBits: *numOfChs
      mode: RW
      description: "Mask Software trigger (applies in triggered mode, Internal edge detector)"
    #########################################################    
    HoldLastValue: 
      at:
        offset: 0x010
      class: IntField
      name: HoldLastValue
      sizeBits: *numOfChs
      mode: RW
      description: "BitMask: 1 to hold the last pattern value, 0 to zere out data at the end of pattern"    
    #########################################################    
    Running: 
      at:
        offset: 0x020
      class: IntField
      name: Running
      sizeBits: *numOfChs
      mode: RO
      description: "Mask Running status"
    #########################################################    
    Underflow: 
      at:
        offset: 0x024
      class: IntField
      name: Underflow
      sizeBits: *numOfChs
      mode: RO
      description: "Mask Underflow status: 16bit to 32bit conversion underflow (applies in 32bit interface)."
    #########################################################    
    Overflow: 
      at:
        offset: 0x028
      class: IntField
      name: Overflow
      sizeBits: *numOfChs
      mode: RO
      description: "Mask Overflow status: 16bit to 32bit conversion underflow (applies in 32bit interface)."
    #########################################################    
    MaxWaveformSize: 
      at:
        offset: 0x02C
      class: IntField
      name: MaxWaveformSize
      mode: RO
      description: "Max Waveform size (2**ADDR_WIDTH_G)"
   #########################################################    
    PeriodSize:     
      at:
        offset: 0x040
        stride: 4
        nelms: *numOfChs
      class: IntField
      name: PeriodSize
      sizeBits: 32
      mode: RW
      description: "In Periodic mode: Period size (Zero inclusive). In Triggered mode: Waveform size (Zero inclusive). Separate values for separate channels."
    #########################################################
    #    Channel waveforms  
    #########################################################
    Waveform:
      class: MMIODev
      at:
        offset: 0x01000000
        stride: 0x01000000
        nelms: *numOfChs
      size: 0x01000000       
      description: "Waveform Lookup Table"     
      children:
        MemoryArray:
          <<: *MemoryArray
          sizeBits: *ramWidth
          mode: RW
          at:
            offset: 0x0
            stride: 0x4
            nelms: *buffSize
    #########################################################
    #    Commands
    #########################################################
    SwTrigger:
      name: SwTrigger
      class: SequenceCommand
      at:
        offset: 0x0
      description: Trigger waveform from software (All channels. Triggerd mode).
      sequence:
      - entry: SoftwareTrigger
        value: 0x7F
      - entry: SoftwareTrigger
        value: 0x0
    #########################################################

AppTop: &AppTop 
  description: Common Application Top Level
  class: MMIODev
  configPrio: 1
  size: 0x80000000
  ########
  children:
  ########
    ##################################################     
    AppCore:
      <<: *AppCore
      at:
        offset: 0x00000000  
    ##################################################     
    DaqMuxV2:
      <<: *DaqMuxV2
      at:
        offset: 0x20000000 
        nelms: 2
        stride: 0x10000000 
    ##################################################     
    AppTopJesd:
      <<: *AppTopJesd
      at:
        offset: 0x40000000 
        nelms: 2
        stride: 0x10000000   
    ##################################################
    DacSigGen:
      <<: *DacSigGen
      at:
        offset: 0x60000000 
        nelms: 2
        stride: 0x10000000         
      instantiate: false        
    ##################################################    

# It is important to use the same parameters
# for shared protocol modules (e.g., all RSSI
# on the same port is in fact one single, shared
# module)
connectionParameters:
  udp: &udpParams
    threadPriority: 80
    numRxThreads:    1
  rssi: &rssiParams
    threadPriority:              82
    retransmissionTimeoutUS: 100000
    cumulativeAckTimeoutUS:   50000

#MMIO range, will be attached to FPGA
mmio: &mmio
  size: 0x100000000 # 4GB of address space
  class: MMIODev
  configPrio: 1
  ########
  children:
  ########
    AmcCarrierCore:
      <<: *AmcCarrierCore
      at:
        offset: 0x00000000
    ##################################################
    AppTop:
      <<: *AppTop
      at:
        offset: 0x80000000
      children:
        AppTopJesd:
          children:
            JesdRx:
              instantiate: true
              metadata:
                numRxLanes: &numRxLanes 4
            JesdTx:
              instantiate: true
              metadata:
                numTxLanes: &numTxLanes 2
    ##################################################

stream: &stream
  SRP:
    protocolVersion: SRP_UDP_NONE
  UDP:
    <<: *udpParams
    port: 8194
    numRxThreads: 2
  RSSI:
    <<: *rssiParams
  depack: yes
  TDESTMux:
    TDEST: 0x80
    stripHeader: yes

NetIODev: &MpsAnalogLinkNodeTopLevel
  ipAddr: 10.0.0.100
  class: NetIODev
  configPrio: 1
  children:
    mmio:
      <<: *mmio
      at:
        SRP:
          protocolVersion: SRP_UDP_V3
        UDP:
          <<: *udpParams
          port: 8193
        RSSI:
          <<: *rssiParams
        depack: yes
        TDESTMux:
          TDEST: 0
    Stream0:
      class: Field
      at:
        <<: *stream
        TDESTMux:
          TDEST: 0x80
    Stream1:
      class: Field
      at:
        <<: *stream
        TDESTMux:
          TDEST: 0x81
    Stream2:
      class: Field
      at:
        <<: *stream
        TDESTMux:
          TDEST: 0x82
    Stream3:
      class: Field
      at:
        <<: *stream
        TDESTMux:
          TDEST: 0x83
    Stream4:
      class: Field
      at:
        <<: *stream
        TDESTMux:
          TDEST: 0x84
    Stream5:
      class: Field
      at:
        <<: *stream
        TDESTMux:
          TDEST: 0x85
    Stream6:
      class: Field
      at:
        <<: *stream
        TDESTMux:
          TDEST: 0x86
    Stream7:
      class: Field
      at:
        <<: *stream
        TDESTMux:
          TDEST: 0x87
